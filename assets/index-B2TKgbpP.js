const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GCDPage-NFYZg1R9.js","assets/lib-bvgm_GG7.js","assets/GCDPage-CKw0y2Xx.css","assets/SimpleCipherPage-DYHObL5f.js","assets/NumberKeySelect.vue_vue_type_script_setup_true_lang-jeSvPvxf.js","assets/AffineCipherPage-DxF2yEJt.js","assets/AutoKeyCipherPage-BAAkYdKP.js","assets/PlayFairCipherPage-Bdf3EzCv.js","assets/PlayFairCipherPage-_R2Dgd8K.css","assets/CRTPage-Csu1XnzR.js","assets/TranspositionCipherPage-ByUXn9lh.js","assets/BruteForceSimple-PZDTXhLY.js","assets/BruteForceAffine-CooGdVnz.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mg(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Nt={},qo=[],fr=()=>{},uP=()=>!1,Qf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pg=t=>t.startsWith("onUpdate:"),yn=Object.assign,vg=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},dP=Object.prototype.hasOwnProperty,Rt=(t,e)=>dP.call(t,e),tt=Array.isArray,jo=t=>eh(t)==="[object Map]",WS=t=>eh(t)==="[object Set]",ct=t=>typeof t=="function",Zt=t=>typeof t=="string",Ba=t=>typeof t=="symbol",Ht=t=>t!==null&&typeof t=="object",$S=t=>(Ht(t)||ct(t))&&ct(t.then)&&ct(t.catch),XS=Object.prototype.toString,eh=t=>XS.call(t),fP=t=>eh(t).slice(8,-1),YS=t=>eh(t)==="[object Object]",gg=t=>Zt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ec=mg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),th=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},hP=/-(\w)/g,ui=th(t=>t.replace(hP,(e,n)=>n?n.toUpperCase():"")),mP=/\B([A-Z])/g,js=th(t=>t.replace(mP,"-$1").toLowerCase()),_r=th(t=>t.charAt(0).toUpperCase()+t.slice(1)),Dm=th(t=>t?`on${_r(t)}`:""),La=(t,e)=>!Object.is(t,e),$d=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},qS=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},jp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},pP=t=>{const e=Zt(t)?Number(t):NaN;return isNaN(e)?t:e};let z0;const jS=()=>z0||(z0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nh(t){if(tt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=Zt(i)?_P(i):nh(i);if(r)for(const a in r)e[a]=r[a]}return e}else if(Zt(t)||Ht(t))return t}const vP=/;(?![^(]*\))/g,gP=/:([^]+)/,yP=/\/\*[^]*?\*\//g;function _P(t){const e={};return t.replace(yP,"").split(vP).forEach(n=>{if(n){const i=n.split(gP);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function ih(t){let e="";if(Zt(t))e=t;else if(tt(t))for(let n=0;n<t.length;n++){const i=ih(t[n]);i&&(e+=i+" ")}else if(Ht(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const bP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xP=mg(bP);function KS(t){return!!t||t===""}const ZS=t=>!!(t&&t.__v_isRef===!0),JS=t=>Zt(t)?t:t==null?"":tt(t)||Ht(t)&&(t.toString===XS||!ct(t.toString))?ZS(t)?JS(t.value):JSON.stringify(t,QS,2):String(t),QS=(t,e)=>ZS(e)?QS(t,e.value):jo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],a)=>(n[Om(i,a)+" =>"]=r,n),{})}:WS(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Om(n))}:Ba(e)?Om(e):Ht(e)&&!tt(e)&&!YS(e)?String(e):e,Om=(t,e="")=>{var n;return Ba(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jn;class ew{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Jn,!e&&Jn&&(this.index=(Jn.scopes||(Jn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Jn;try{return Jn=this,e()}finally{Jn=n}}}on(){Jn=this}off(){Jn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function yg(t){return new ew(t)}function tw(){return Jn}function Nn(t,e=!1){Jn&&Jn.cleanups.push(t)}let zt;const Vm=new WeakSet;class nw{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Jn&&Jn.active&&Jn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vm.has(this)&&(Vm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||rw(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,H0(this),aw(this);const e=zt,n=Yi;zt=this,Yi=!0;try{return this.fn()}finally{sw(this),zt=e,Yi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)xg(e);this.deps=this.depsTail=void 0,H0(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Kp(this)&&this.run()}get dirty(){return Kp(this)}}let iw=0,Uo;function rw(t){t.flags|=8,t.next=Uo,Uo=t}function _g(){iw++}function bg(){if(--iw>0)return;let t;for(;Uo;){let e=Uo,n;for(;e;)e.flags&1||(e.flags&=-9),e=e.next;for(e=Uo,Uo=void 0;e;){if(n=e.next,e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function aw(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function sw(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),xg(i),SP(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function Kp(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ow(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ow(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===gc))return;t.globalVersion=gc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Kp(t)){t.flags&=-3;return}const n=zt,i=Yi;zt=t,Yi=!0;try{aw(t);const r=t.fn(t._value);(e.version===0||La(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{zt=n,Yi=i,sw(t),t.flags&=-3}}function xg(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i),!n.subs&&n.computed){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)xg(a,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function SP(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Yi=!0;const lw=[];function Fa(){lw.push(Yi),Yi=!1}function Ua(){const t=lw.pop();Yi=t===void 0?!0:t}function H0(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=zt;zt=void 0;try{e()}finally{zt=n}}}let gc=0;class wP{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!zt||!Yi||zt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==zt)n=this.activeLink=new wP(zt,this),zt.deps?(n.prevDep=zt.depsTail,zt.depsTail.nextDep=n,zt.depsTail=n):zt.deps=zt.depsTail=n,cw(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=zt.depsTail,n.nextDep=void 0,zt.depsTail.nextDep=n,zt.depsTail=n,zt.deps===n&&(zt.deps=i)}return n}trigger(e){this.version++,gc++,this.notify(e)}notify(e){_g();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{bg()}}}function cw(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)cw(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const rf=new WeakMap,As=Symbol(""),Zp=Symbol(""),yc=Symbol("");function Xn(t,e,n){if(Yi&&zt){let i=rf.get(t);i||rf.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new rh),r.target=t,r.map=i,r.key=n),r.track()}}function Hr(t,e,n,i,r,a){const s=rf.get(t);if(!s){gc++;return}const o=l=>{l&&l.trigger()};if(_g(),e==="clear")s.forEach(o);else{const l=tt(t),c=l&&gg(n);if(l&&n==="length"){const u=Number(i);s.forEach((d,f)=>{(f==="length"||f===yc||!Ba(f)&&f>=u)&&o(d)})}else switch(n!==void 0&&o(s.get(n)),c&&o(s.get(yc)),e){case"add":l?c&&o(s.get("length")):(o(s.get(As)),jo(t)&&o(s.get(Zp)));break;case"delete":l||(o(s.get(As)),jo(t)&&o(s.get(Zp)));break;case"set":jo(t)&&o(s.get(As));break}}bg()}function MP(t,e){const n=rf.get(t);return n&&n.get(e)}function uo(t){const e=je(t);return e===t?e:(Xn(e,"iterate",yc),Di(t)?e:e.map(zn))}function ah(t){return Xn(t=je(t),"iterate",yc),t}const CP={__proto__:null,[Symbol.iterator](){return Nm(this,Symbol.iterator,zn)},concat(...t){return uo(this).concat(...t.map(e=>tt(e)?uo(e):e))},entries(){return Nm(this,"entries",t=>(t[1]=zn(t[1]),t))},every(t,e){return Er(this,"every",t,e,void 0,arguments)},filter(t,e){return Er(this,"filter",t,e,n=>n.map(zn),arguments)},find(t,e){return Er(this,"find",t,e,zn,arguments)},findIndex(t,e){return Er(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Er(this,"findLast",t,e,zn,arguments)},findLastIndex(t,e){return Er(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Er(this,"forEach",t,e,void 0,arguments)},includes(...t){return Bm(this,"includes",t)},indexOf(...t){return Bm(this,"indexOf",t)},join(t){return uo(this).join(t)},lastIndexOf(...t){return Bm(this,"lastIndexOf",t)},map(t,e){return Er(this,"map",t,e,void 0,arguments)},pop(){return Il(this,"pop")},push(...t){return Il(this,"push",t)},reduce(t,...e){return G0(this,"reduce",t,e)},reduceRight(t,...e){return G0(this,"reduceRight",t,e)},shift(){return Il(this,"shift")},some(t,e){return Er(this,"some",t,e,void 0,arguments)},splice(...t){return Il(this,"splice",t)},toReversed(){return uo(this).toReversed()},toSorted(t){return uo(this).toSorted(t)},toSpliced(...t){return uo(this).toSpliced(...t)},unshift(...t){return Il(this,"unshift",t)},values(){return Nm(this,"values",zn)}};function Nm(t,e,n){const i=ah(t),r=i[e]();return i!==t&&!Di(t)&&(r._next=r.next,r.next=()=>{const a=r._next();return a.value&&(a.value=n(a.value)),a}),r}const AP=Array.prototype;function Er(t,e,n,i,r,a){const s=ah(t),o=s!==t&&!Di(t),l=s[e];if(l!==AP[e]){const d=l.apply(t,a);return o?zn(d):d}let c=n;s!==t&&(o?c=function(d,f){return n.call(this,zn(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(s,c,i);return o&&r?r(u):u}function G0(t,e,n,i){const r=ah(t);let a=n;return r!==t&&(Di(t)?n.length>3&&(a=function(s,o,l){return n.call(this,s,o,l,t)}):a=function(s,o,l){return n.call(this,s,zn(o),l,t)}),r[e](a,...i)}function Bm(t,e,n){const i=je(t);Xn(i,"iterate",yc);const r=i[e](...n);return(r===-1||r===!1)&&Cg(n[0])?(n[0]=je(n[0]),i[e](...n)):r}function Il(t,e,n=[]){Fa(),_g();const i=je(t)[e].apply(t,n);return bg(),Ua(),i}const EP=mg("__proto__,__v_isRef,__isVue"),uw=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ba));function TP(t){Ba(t)||(t=String(t));const e=je(this);return Xn(e,"has",t),e.hasOwnProperty(t)}class dw{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const r=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return a;if(n==="__v_raw")return i===(r?a?zP:pw:a?mw:hw).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const s=tt(e);if(!r){let l;if(s&&(l=CP[n]))return l;if(n==="hasOwnProperty")return TP}const o=Reflect.get(e,n,Bt(e)?e:i);return(Ba(n)?uw.has(n):EP(n))||(r||Xn(e,"get",n),a)?o:Bt(o)?s&&gg(n)?o:o.value:Ht(o)?r?Wr(o):kn(o):o}}class fw extends dw{constructor(e=!1){super(!1,e)}set(e,n,i,r){let a=e[n];if(!this._isShallow){const l=Os(a);if(!Di(i)&&!Os(i)&&(a=je(a),i=je(i)),!tt(e)&&Bt(a)&&!Bt(i))return l?!1:(a.value=i,!0)}const s=tt(e)&&gg(n)?Number(n)<e.length:Rt(e,n),o=Reflect.set(e,n,i,Bt(e)?e:r);return e===je(r)&&(s?La(i,a)&&Hr(e,"set",n,i):Hr(e,"add",n,i)),o}deleteProperty(e,n){const i=Rt(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&Hr(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!Ba(n)||!uw.has(n))&&Xn(e,"has",n),i}ownKeys(e){return Xn(e,"iterate",tt(e)?"length":As),Reflect.ownKeys(e)}}class PP extends dw{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const IP=new fw,RP=new PP,LP=new fw(!0);const Sg=t=>t,sh=t=>Reflect.getPrototypeOf(t);function Ou(t,e,n=!1,i=!1){t=t.__v_raw;const r=je(t),a=je(e);n||(La(e,a)&&Xn(r,"get",e),Xn(r,"get",a));const{has:s}=sh(r),o=i?Sg:n?Ag:zn;if(s.call(r,e))return o(t.get(e));if(s.call(r,a))return o(t.get(a));t!==r&&t.get(e)}function Vu(t,e=!1){const n=this.__v_raw,i=je(n),r=je(t);return e||(La(t,r)&&Xn(i,"has",t),Xn(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Nu(t,e=!1){return t=t.__v_raw,!e&&Xn(je(t),"iterate",As),Reflect.get(t,"size",t)}function W0(t,e=!1){!e&&!Di(t)&&!Os(t)&&(t=je(t));const n=je(this);return sh(n).has.call(n,t)||(n.add(t),Hr(n,"add",t,t)),this}function $0(t,e,n=!1){!n&&!Di(e)&&!Os(e)&&(e=je(e));const i=je(this),{has:r,get:a}=sh(i);let s=r.call(i,t);s||(t=je(t),s=r.call(i,t));const o=a.call(i,t);return i.set(t,e),s?La(e,o)&&Hr(i,"set",t,e):Hr(i,"add",t,e),this}function X0(t){const e=je(this),{has:n,get:i}=sh(e);let r=n.call(e,t);r||(t=je(t),r=n.call(e,t)),i&&i.call(e,t);const a=e.delete(t);return r&&Hr(e,"delete",t,void 0),a}function Y0(){const t=je(this),e=t.size!==0,n=t.clear();return e&&Hr(t,"clear",void 0,void 0),n}function Bu(t,e){return function(i,r){const a=this,s=a.__v_raw,o=je(s),l=e?Sg:t?Ag:zn;return!t&&Xn(o,"iterate",As),s.forEach((c,u)=>i.call(r,l(c),l(u),a))}}function Fu(t,e,n){return function(...i){const r=this.__v_raw,a=je(r),s=jo(a),o=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=r[t](...i),u=n?Sg:e?Ag:zn;return!e&&Xn(a,"iterate",l?Zp:As),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:o?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function fa(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function kP(){const t={get(a){return Ou(this,a)},get size(){return Nu(this)},has:Vu,add:W0,set:$0,delete:X0,clear:Y0,forEach:Bu(!1,!1)},e={get(a){return Ou(this,a,!1,!0)},get size(){return Nu(this)},has:Vu,add(a){return W0.call(this,a,!0)},set(a,s){return $0.call(this,a,s,!0)},delete:X0,clear:Y0,forEach:Bu(!1,!0)},n={get(a){return Ou(this,a,!0)},get size(){return Nu(this,!0)},has(a){return Vu.call(this,a,!0)},add:fa("add"),set:fa("set"),delete:fa("delete"),clear:fa("clear"),forEach:Bu(!0,!1)},i={get(a){return Ou(this,a,!0,!0)},get size(){return Nu(this,!0)},has(a){return Vu.call(this,a,!0)},add:fa("add"),set:fa("set"),delete:fa("delete"),clear:fa("clear"),forEach:Bu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=Fu(a,!1,!1),n[a]=Fu(a,!0,!1),e[a]=Fu(a,!1,!0),i[a]=Fu(a,!0,!0)}),[t,n,e,i]}const[DP,OP,VP,NP]=kP();function wg(t,e){const n=e?t?NP:VP:t?OP:DP;return(i,r,a)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(Rt(n,r)&&r in i?n:i,r,a)}const BP={get:wg(!1,!1)},FP={get:wg(!1,!0)},UP={get:wg(!0,!1)};const hw=new WeakMap,mw=new WeakMap,pw=new WeakMap,zP=new WeakMap;function HP(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function GP(t){return t.__v_skip||!Object.isExtensible(t)?0:HP(fP(t))}function kn(t){return Os(t)?t:Mg(t,!1,IP,BP,hw)}function vw(t){return Mg(t,!1,LP,FP,mw)}function Wr(t){return Mg(t,!0,RP,UP,pw)}function Mg(t,e,n,i,r){if(!Ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=r.get(t);if(a)return a;const s=GP(t);if(s===0)return t;const o=new Proxy(t,s===2?i:n);return r.set(t,o),o}function Ko(t){return Os(t)?Ko(t.__v_raw):!!(t&&t.__v_isReactive)}function Os(t){return!!(t&&t.__v_isReadonly)}function Di(t){return!!(t&&t.__v_isShallow)}function Cg(t){return t?!!t.__v_raw:!1}function je(t){const e=t&&t.__v_raw;return e?je(e):t}function gw(t){return!Rt(t,"__v_skip")&&Object.isExtensible(t)&&qS(t,"__v_skip",!0),t}const zn=t=>Ht(t)?kn(t):t,Ag=t=>Ht(t)?Wr(t):t;function Bt(t){return t?t.__v_isRef===!0:!1}function pe(t){return yw(t,!1)}function Ee(t){return yw(t,!0)}function yw(t,e){return Bt(t)?t:new WP(t,e)}class WP{constructor(e,n){this.dep=new rh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:je(e),this._value=n?e:zn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Di(e)||Os(e);e=i?e:je(e),La(e,n)&&(this._rawValue=e,this._value=i?e:zn(e),this.dep.trigger())}}function Ot(t){return Bt(t)?t.value:t}const $P={get:(t,e,n)=>e==="__v_raw"?t:Ot(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Bt(r)&&!Bt(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function _w(t){return Ko(t)?t:new Proxy(t,$P)}class XP{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new rh,{get:i,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function YP(t){return new XP(t)}function za(t){const e=tt(t)?new Array(t.length):{};for(const n in t)e[n]=bw(t,n);return e}class qP{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return MP(je(this._object),this._key)}}class jP{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ue(t,e,n){return Bt(t)?t:ct(t)?new jP(t):Ht(t)&&arguments.length>1?bw(t,e,n):pe(t)}function bw(t,e,n){const i=t[e];return Bt(i)?i:new qP(t,e,n)}class KP{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new rh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&zt!==this)return rw(this),!0}get value(){const e=this.dep.track();return ow(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ZP(t,e,n=!1){let i,r;return ct(t)?i=t:(i=t.get,r=t.set),new KP(i,r,n)}const Uu={},af=new WeakMap;let fs;function JP(t,e=!1,n=fs){if(n){let i=af.get(n);i||af.set(n,i=[]),i.push(t)}}function QP(t,e,n=Nt){const{immediate:i,deep:r,once:a,scheduler:s,augmentJob:o,call:l}=n,c=x=>r?x:Di(x)||r===!1||r===0?Br(x,1):Br(x);let u,d,f,h,m=!1,v=!1;if(Bt(t)?(d=()=>t.value,m=Di(t)):Ko(t)?(d=()=>c(t),m=!0):tt(t)?(v=!0,m=t.some(x=>Ko(x)||Di(x)),d=()=>t.map(x=>{if(Bt(x))return x.value;if(Ko(x))return c(x);if(ct(x))return l?l(x,2):x()})):ct(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Fa();try{f()}finally{Ua()}}const x=fs;fs=u;try{return l?l(t,3,[h]):t(h)}finally{fs=x}}:d=fr,e&&r){const x=d,E=r===!0?1/0:r;d=()=>Br(x(),E)}const p=tw(),g=()=>{u.stop(),p&&vg(p.effects,u)};if(a&&e){const x=e;e=(...E)=>{x(...E),g()}}let y=v?new Array(t.length).fill(Uu):Uu;const b=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const E=u.run();if(r||m||(v?E.some((M,A)=>La(M,y[A])):La(E,y))){f&&f();const M=fs;fs=u;try{const A=[E,y===Uu?void 0:v&&y[0]===Uu?[]:y,h];l?l(e,3,A):e(...A),y=E}finally{fs=M}}}else u.run()};return o&&o(b),u=new nw(d),u.scheduler=s?()=>s(b,!1):b,h=x=>JP(x,!1,u),f=u.onStop=()=>{const x=af.get(u);if(x){if(l)l(x,4);else for(const E of x)E();af.delete(u)}},e?i?b(!0):y=u.run():s?s(b.bind(null,!0),!0):u.run(),g.pause=u.pause.bind(u),g.resume=u.resume.bind(u),g.stop=g,g}function Br(t,e=1/0,n){if(e<=0||!Ht(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Bt(t))Br(t.value,e,n);else if(tt(t))for(let i=0;i<t.length;i++)Br(t[i],e,n);else if(WS(t)||jo(t))t.forEach(i=>{Br(i,e,n)});else if(YS(t)){for(const i in t)Br(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Br(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function su(t,e,n,i){try{return i?t(...i):t()}catch(r){oh(r,e,n)}}function qi(t,e,n,i){if(ct(t)){const r=su(t,e,n,i);return r&&$S(r)&&r.catch(a=>{oh(a,e,n)}),r}if(tt(t)){const r=[];for(let a=0;a<t.length;a++)r.push(qi(t[a],e,n,i));return r}}function oh(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||Nt;if(e){let o=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}o=o.parent}if(a){Fa(),su(a,null,10,[t,l,c]),Ua();return}}eI(t,n,r,i,s)}function eI(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}let _c=!1,Jp=!1;const Qn=[];let sr=0;const Zo=[];let Ma=null,No=0;const xw=Promise.resolve();let Eg=null;function vt(t){const e=Eg||xw;return t?e.then(this?t.bind(this):t):e}function tI(t){let e=_c?sr+1:0,n=Qn.length;for(;e<n;){const i=e+n>>>1,r=Qn[i],a=bc(r);a<t||a===t&&r.flags&2?e=i+1:n=i}return e}function Tg(t){if(!(t.flags&1)){const e=bc(t),n=Qn[Qn.length-1];!n||!(t.flags&2)&&e>=bc(n)?Qn.push(t):Qn.splice(tI(e),0,t),t.flags|=1,Sw()}}function Sw(){!_c&&!Jp&&(Jp=!0,Eg=xw.then(Mw))}function nI(t){tt(t)?Zo.push(...t):Ma&&t.id===-1?Ma.splice(No+1,0,t):t.flags&1||(Zo.push(t),t.flags|=1),Sw()}function q0(t,e,n=_c?sr+1:0){for(;n<Qn.length;n++){const i=Qn[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Qn.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function ww(t){if(Zo.length){const e=[...new Set(Zo)].sort((n,i)=>bc(n)-bc(i));if(Zo.length=0,Ma){Ma.push(...e);return}for(Ma=e,No=0;No<Ma.length;No++){const n=Ma[No];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ma=null,No=0}}const bc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Mw(t){Jp=!1,_c=!0;try{for(sr=0;sr<Qn.length;sr++){const e=Qn[sr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),su(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;sr<Qn.length;sr++){const e=Qn[sr];e&&(e.flags&=-2)}sr=0,Qn.length=0,ww(),_c=!1,Eg=null,(Qn.length||Zo.length)&&Mw()}}let Cn=null,Cw=null;function sf(t){const e=Cn;return Cn=t,Cw=t&&t.type.__scopeId||null,e}function tc(t,e=Cn,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&s_(-1);const a=sf(e);let s;try{s=t(...r)}finally{sf(a),i._d&&s_(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function Xt(t,e){if(Cn===null)return t;const n=fh(Cn),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[a,s,o,l=Nt]=e[r];a&&(ct(a)&&(a={mounted:a,updated:a}),a.deep&&Br(s),i.push({dir:a,instance:n,value:s,oldValue:void 0,arg:o,modifiers:l}))}return t}function ja(t,e,n,i){const r=t.dirs,a=e&&e.dirs;for(let s=0;s<r.length;s++){const o=r[s];a&&(o.oldValue=a[s].value);let l=o.dir[i];l&&(Fa(),qi(l,n,8,[t.el,o,t,e]),Ua())}}const Aw=Symbol("_vte"),Ew=t=>t.__isTeleport,nc=t=>t&&(t.disabled||t.disabled===""),iI=t=>t&&(t.defer||t.defer===""),j0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,K0=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Qp=(t,e)=>{const n=t&&t.to;return Zt(n)?e?e(n):null:n},rI={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,a,s,o,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:v,createComment:p}}=c,g=nc(e.props);let{shapeFlag:y,children:b,dynamicChildren:x}=e;if(t==null){const E=e.el=v(""),M=e.anchor=v("");h(E,n,i),h(M,n,i);const A=(S,w)=>{y&16&&(r&&r.isCE&&(r.ce._teleportTarget=S),u(b,S,w,r,a,s,o,l))},C=()=>{const S=e.target=Qp(e.props,m),w=Tw(S,e,v,h);S&&(s!=="svg"&&j0(S)?s="svg":s!=="mathml"&&K0(S)&&(s="mathml"),g||(A(S,w),Xd(e)))};g&&(A(n,M),Xd(e)),iI(e.props)?oi(C,a):C()}else{e.el=t.el,e.targetStart=t.targetStart;const E=e.anchor=t.anchor,M=e.target=t.target,A=e.targetAnchor=t.targetAnchor,C=nc(t.props),S=C?n:M,w=C?E:A;if(s==="svg"||j0(M)?s="svg":(s==="mathml"||K0(M))&&(s="mathml"),x?(f(t.dynamicChildren,x,S,r,a,s,o),Ng(t,e,!0)):l||d(t,e,S,w,r,a,s,o,!1),g)C?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):zu(e,n,E,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const T=e.target=Qp(e.props,m);T&&zu(e,T,null,c,0)}else C&&zu(e,M,A,c,1);Xd(e)}},remove(t,e,n,{um:i,o:{remove:r}},a){const{shapeFlag:s,children:o,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(r(c),r(u)),a&&r(l),s&16){const h=a||!nc(f);for(let m=0;m<o.length;m++){const v=o[m];i(v,e,n,h,!!v.dynamicChildren)}}},move:zu,hydrate:aI};function zu(t,e,n,{o:{insert:i},m:r},a=2){a===0&&i(t.targetAnchor,e,n);const{el:s,anchor:o,shapeFlag:l,children:c,props:u}=t,d=a===2;if(d&&i(s,e,n),(!d||nc(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,n,2);d&&i(o,e,n)}function aI(t,e,n,i,r,a,{o:{nextSibling:s,parentNode:o,querySelector:l,insert:c,createText:u}},d){const f=e.target=Qp(e.props,l);if(f){const h=f._lpa||f.firstChild;if(e.shapeFlag&16)if(nc(e.props))e.anchor=d(s(t),e,o(t),n,i,r,a),e.targetStart=h,e.targetAnchor=h&&s(h);else{e.anchor=s(t);let m=h;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&s(e.targetAnchor);break}}m=s(m)}e.targetAnchor||Tw(f,e,u,c),d(h&&s(h),e,f,n,i,r,a)}Xd(e)}return e.anchor&&s(e.anchor)}const sI=rI;function Xd(t){const e=t.ctx;if(e&&e.ut){let n=t.targetStart;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function Tw(t,e,n,i){const r=e.targetStart=n(""),a=e.targetAnchor=n("");return r[Aw]=a,t&&(i(r,t),i(a,t)),a}const Ca=Symbol("_leaveCb"),Hu=Symbol("_enterCb");function Pw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cn(()=>{t.isMounted=!0}),Tn(()=>{t.isUnmounting=!0}),t}const Pi=[Function,Array],Iw={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pi,onEnter:Pi,onAfterEnter:Pi,onEnterCancelled:Pi,onBeforeLeave:Pi,onLeave:Pi,onAfterLeave:Pi,onLeaveCancelled:Pi,onBeforeAppear:Pi,onAppear:Pi,onAfterAppear:Pi,onAppearCancelled:Pi},Rw=t=>{const e=t.subTree;return e.component?Rw(e.component):e},oI={name:"BaseTransition",props:Iw,setup(t,{slots:e}){const n=ka(),i=Pw();return()=>{const r=e.default&&Pg(e.default(),!0);if(!r||!r.length)return;const a=Lw(r),s=je(t),{mode:o}=s;if(i.isLeaving)return Fm(a);const l=Z0(a);if(!l)return Fm(a);let c=xc(l,s,i,n,f=>c=f);l.type!==Hn&&Vs(l,c);const u=n.subTree,d=u&&Z0(u);if(d&&d.type!==Hn&&!gs(l,d)&&Rw(n).type!==Hn){const f=xc(d,s,i,n);if(Vs(d,f),o==="out-in"&&l.type!==Hn)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},Fm(a);o==="in-out"&&l.type!==Hn&&(f.delayLeave=(h,m,v)=>{const p=kw(i,d);p[String(d.key)]=d,h[Ca]=()=>{m(),h[Ca]=void 0,delete c.delayedLeave},c.delayedLeave=v})}return a}}};function Lw(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Hn){e=n;break}}return e}const lI=oI;function kw(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function xc(t,e,n,i,r){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:p,onAppear:g,onAfterAppear:y,onAppearCancelled:b}=e,x=String(t.key),E=kw(n,t),M=(S,w)=>{S&&qi(S,i,9,w)},A=(S,w)=>{const T=w[1];M(S,w),tt(S)?S.every(I=>I.length<=1)&&T():S.length<=1&&T()},C={mode:s,persisted:o,beforeEnter(S){let w=l;if(!n.isMounted)if(a)w=p||l;else return;S[Ca]&&S[Ca](!0);const T=E[x];T&&gs(t,T)&&T.el[Ca]&&T.el[Ca](),M(w,[S])},enter(S){let w=c,T=u,I=d;if(!n.isMounted)if(a)w=g||c,T=y||u,I=b||d;else return;let D=!1;const N=S[Hu]=$=>{D||(D=!0,$?M(I,[S]):M(T,[S]),C.delayedLeave&&C.delayedLeave(),S[Hu]=void 0)};w?A(w,[S,N]):N()},leave(S,w){const T=String(t.key);if(S[Hu]&&S[Hu](!0),n.isUnmounting)return w();M(f,[S]);let I=!1;const D=S[Ca]=N=>{I||(I=!0,w(),N?M(v,[S]):M(m,[S]),S[Ca]=void 0,E[T]===t&&delete E[T])};E[T]=t,h?A(h,[S,D]):D()},clone(S){const w=xc(S,e,n,i,r);return r&&r(w),w}};return C}function Fm(t){if(lh(t))return t=Xr(t),t.children=null,t}function Z0(t){if(!lh(t))return Ew(t.type)&&t.children?Lw(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ct(n.default))return n.default()}}function Vs(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Vs(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Pg(t,e=!1,n){let i=[],r=0;for(let a=0;a<t.length;a++){let s=t[a];const o=n==null?s.key:String(n)+String(s.key!=null?s.key:a);s.type===Fe?(s.patchFlag&128&&r++,i=i.concat(Pg(s.children,e,o))):(e||s.type!==Hn)&&i.push(o!=null?Xr(s,{key:o}):s)}if(r>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function nl(t,e){return ct(t)?yn({name:t.name},e,{setup:t}):t}function Dw(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ev(t,e,n,i,r=!1){if(tt(t)){t.forEach((m,v)=>ev(m,e&&(tt(e)?e[v]:e),n,i,r));return}if(Jo(i)&&!r)return;const a=i.shapeFlag&4?fh(i.component):i.el,s=r?null:a,{i:o,r:l}=t,c=e&&e.r,u=o.refs===Nt?o.refs={}:o.refs,d=o.setupState,f=je(d),h=d===Nt?()=>!1:m=>Rt(f,m);if(c!=null&&c!==l&&(Zt(c)?(u[c]=null,h(c)&&(d[c]=null)):Bt(c)&&(c.value=null)),ct(l))su(l,o,12,[s,u]);else{const m=Zt(l),v=Bt(l);if(m||v){const p=()=>{if(t.f){const g=m?h(l)?d[l]:u[l]:l.value;r?tt(g)&&vg(g,a):tt(g)?g.includes(a)||g.push(a):m?(u[l]=[a],h(l)&&(d[l]=u[l])):(l.value=[a],t.k&&(u[t.k]=l.value))}else m?(u[l]=s,h(l)&&(d[l]=s)):v&&(l.value=s,t.k&&(u[t.k]=s))};s?(p.id=-1,oi(p,n)):p()}}}const Jo=t=>!!t.type.__asyncLoader,lh=t=>t.type.__isKeepAlive;function Ow(t,e){Vw(t,"a",e)}function Ig(t,e){Vw(t,"da",e)}function Vw(t,e,n=Dn){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(ch(e,i,n),n){let r=n.parent;for(;r&&r.parent;)lh(r.parent.vnode)&&cI(i,e,n,r),r=r.parent}}function cI(t,e,n,i){const r=ch(e,t,i,!0);$r(()=>{vg(i[e],r)},n)}function ch(t,e,n=Dn,i=!1){if(n){const r=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...s)=>{Fa();const o=lu(n),l=qi(e,n,t,s);return o(),Ua(),l});return i?r.unshift(a):r.push(a),a}}const na=t=>(e,n=Dn)=>{(!dh||t==="sp")&&ch(t,(...i)=>e(...i),n)},Rg=na("bm"),cn=na("m"),Nw=na("bu"),Lg=na("u"),Tn=na("bum"),$r=na("um"),uI=na("sp"),dI=na("rtg"),fI=na("rtc");function hI(t,e=Dn){ch("ec",t,e)}const kg="components",mI="directives";function vs(t,e){return Dg(kg,t,!0,e)||t}const Bw=Symbol.for("v-ndc");function Fw(t){return Zt(t)?Dg(kg,t,!1)||t:t||Bw}function Mi(t){return Dg(mI,t)}function Dg(t,e,n=!0,i=!1){const r=Cn||Dn;if(r){const a=r.type;if(t===kg){const o=tR(a,!1);if(o&&(o===e||o===ui(e)||o===_r(ui(e))))return a}const s=J0(r[t]||a[t],e)||J0(r.appContext[t],e);return!s&&i?a:s}}function J0(t,e){return t&&(t[e]||t[ui(e)]||t[_r(ui(e))])}function O8(t,e,n,i){let r;const a=n,s=tt(t);if(s||Zt(t)){const o=s&&Ko(t);let l=!1;o&&(l=!Di(t),t=ah(t)),r=new Array(t.length);for(let c=0,u=t.length;c<u;c++)r[c]=e(l?zn(t[c]):t[c],c,void 0,a)}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,a)}else if(Ht(t))if(t[Symbol.iterator])r=Array.from(t,(o,l)=>e(o,l,void 0,a));else{const o=Object.keys(t);r=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const u=o[l];r[l]=e(t[u],u,l,a)}}else r=[];return r}function pI(t,e,n={},i,r){if(Cn.ce||Cn.parent&&Jo(Cn.parent)&&Cn.parent.ce)return il(),wc(Fe,null,[_("slot",n,i)],64);let a=t[e];a&&a._c&&(a._d=!1),il();const s=a&&Uw(a(n)),o=wc(Fe,{key:(n.key||s&&s.key||`_${e}`)+(!s&&i?"_fb":"")},s||[],s&&t._===1?64:-2);return o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function Uw(t){return t.some(e=>rl(e)?!(e.type===Hn||e.type===Fe&&!Uw(e.children)):!0)?t:null}const tv=t=>t?sM(t)?fh(t):tv(t.parent):null,ic=yn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>tv(t.parent),$root:t=>tv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Og(t),$forceUpdate:t=>t.f||(t.f=()=>{Tg(t.update)}),$nextTick:t=>t.n||(t.n=vt.bind(t.proxy)),$watch:t=>NI.bind(t)}),Um=(t,e)=>t!==Nt&&!t.__isScriptSetup&&Rt(t,e),vI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:a,accessCache:s,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return a[e]}else{if(Um(i,e))return s[e]=1,i[e];if(r!==Nt&&Rt(r,e))return s[e]=2,r[e];if((c=t.propsOptions[0])&&Rt(c,e))return s[e]=3,a[e];if(n!==Nt&&Rt(n,e))return s[e]=4,n[e];nv&&(s[e]=0)}}const u=ic[e];let d,f;if(u)return e==="$attrs"&&Xn(t.attrs,"get",""),u(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(n!==Nt&&Rt(n,e))return s[e]=4,n[e];if(f=l.config.globalProperties,Rt(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:a}=t;return Um(r,e)?(r[e]=n,!0):i!==Nt&&Rt(i,e)?(i[e]=n,!0):Rt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:a}},s){let o;return!!n[s]||t!==Nt&&Rt(t,s)||Um(e,s)||(o=a[0])&&Rt(o,s)||Rt(i,s)||Rt(ic,s)||Rt(r.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Rt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function gI(){return yI().slots}function yI(){const t=ka();return t.setupContext||(t.setupContext=lM(t))}function Q0(t){return tt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let nv=!0;function _I(t){const e=Og(t),n=t.proxy,i=t.ctx;nv=!1,e.beforeCreate&&e_(e.beforeCreate,t,"bc");const{data:r,computed:a,methods:s,watch:o,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:v,deactivated:p,beforeDestroy:g,beforeUnmount:y,destroyed:b,unmounted:x,render:E,renderTracked:M,renderTriggered:A,errorCaptured:C,serverPrefetch:S,expose:w,inheritAttrs:T,components:I,directives:D,filters:N}=e;if(c&&bI(c,i,null),s)for(const Z in s){const Y=s[Z];ct(Y)&&(i[Z]=Y.bind(n))}if(r){const Z=r.call(n,n);Ht(Z)&&(t.data=kn(Z))}if(nv=!0,a)for(const Z in a){const Y=a[Z],j=ct(Y)?Y.bind(n,n):ct(Y.get)?Y.get.bind(n,n):fr,q=!ct(Y)&&ct(Y.set)?Y.set.bind(n):fr,F=P({get:j,set:q});Object.defineProperty(i,Z,{enumerable:!0,configurable:!0,get:()=>F.value,set:se=>F.value=se})}if(o)for(const Z in o)zw(o[Z],i,n,Z);if(l){const Z=ct(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(Y=>{Ct(Y,Z[Y])})}u&&e_(u,t,"c");function U(Z,Y){tt(Y)?Y.forEach(j=>Z(j.bind(n))):Y&&Z(Y.bind(n))}if(U(Rg,d),U(cn,f),U(Nw,h),U(Lg,m),U(Ow,v),U(Ig,p),U(hI,C),U(fI,M),U(dI,A),U(Tn,y),U($r,x),U(uI,S),tt(w))if(w.length){const Z=t.exposed||(t.exposed={});w.forEach(Y=>{Object.defineProperty(Z,Y,{get:()=>n[Y],set:j=>n[Y]=j})})}else t.exposed||(t.exposed={});E&&t.render===fr&&(t.render=E),T!=null&&(t.inheritAttrs=T),I&&(t.components=I),D&&(t.directives=D),S&&Dw(t)}function bI(t,e,n=fr){tt(t)&&(t=iv(t));for(const i in t){const r=t[i];let a;Ht(r)?"default"in r?a=nt(r.from||i,r.default,!0):a=nt(r.from||i):a=nt(r),Bt(a)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[i]=a}}function e_(t,e,n){qi(tt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function zw(t,e,n,i){let r=i.includes(".")?eM(n,i):()=>n[i];if(Zt(t)){const a=e[t];ct(a)&&Te(r,a)}else if(ct(t))Te(r,t.bind(n));else if(Ht(t))if(tt(t))t.forEach(a=>zw(a,e,n,i));else{const a=ct(t.handler)?t.handler.bind(n):e[t.handler];ct(a)&&Te(r,a,t)}}function Og(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:a,config:{optionMergeStrategies:s}}=t.appContext,o=a.get(e);let l;return o?l=o:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>of(l,c,s,!0)),of(l,e,s)),Ht(e)&&a.set(e,l),l}function of(t,e,n,i=!1){const{mixins:r,extends:a}=e;a&&of(t,a,n,!0),r&&r.forEach(s=>of(t,s,n,!0));for(const s in e)if(!(i&&s==="expose")){const o=xI[s]||n&&n[s];t[s]=o?o(t[s],e[s]):e[s]}return t}const xI={data:t_,props:n_,emits:n_,methods:Kl,computed:Kl,beforeCreate:Kn,created:Kn,beforeMount:Kn,mounted:Kn,beforeUpdate:Kn,updated:Kn,beforeDestroy:Kn,beforeUnmount:Kn,destroyed:Kn,unmounted:Kn,activated:Kn,deactivated:Kn,errorCaptured:Kn,serverPrefetch:Kn,components:Kl,directives:Kl,watch:wI,provide:t_,inject:SI};function t_(t,e){return e?t?function(){return yn(ct(t)?t.call(this,this):t,ct(e)?e.call(this,this):e)}:e:t}function SI(t,e){return Kl(iv(t),iv(e))}function iv(t){if(tt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Kn(t,e){return t?[...new Set([].concat(t,e))]:e}function Kl(t,e){return t?yn(Object.create(null),t,e):e}function n_(t,e){return t?tt(t)&&tt(e)?[...new Set([...t,...e])]:yn(Object.create(null),Q0(t),Q0(e??{})):e}function wI(t,e){if(!t)return e;if(!e)return t;const n=yn(Object.create(null),t);for(const i in e)n[i]=Kn(t[i],e[i]);return n}function Hw(){return{app:null,config:{isNativeTag:uP,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MI=0;function CI(t,e){return function(i,r=null){ct(i)||(i=yn({},i)),r!=null&&!Ht(r)&&(r=null);const a=Hw(),s=new WeakSet,o=[];let l=!1;const c=a.app={_uid:MI++,_component:i,_props:r,_container:null,_context:a,_instance:null,version:iR,get config(){return a.config},set config(u){},use(u,...d){return s.has(u)||(u&&ct(u.install)?(s.add(u),u.install(c,...d)):ct(u)&&(s.add(u),u(c,...d))),c},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),c},component(u,d){return d?(a.components[u]=d,c):a.components[u]},directive(u,d){return d?(a.directives[u]=d,c):a.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||_(i,r);return h.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,u):t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,fh(h.component)}},onUnmount(u){o.push(u)},unmount(){l&&(qi(o,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return a.provides[u]=d,c},runWithContext(u){const d=Qo;Qo=c;try{return u()}finally{Qo=d}}};return c}}let Qo=null;function Ct(t,e){if(Dn){let n=Dn.provides;const i=Dn.parent&&Dn.parent.provides;i===n&&(n=Dn.provides=Object.create(i)),n[t]=e}}function nt(t,e,n=!1){const i=Dn||Cn;if(i||Qo){const r=Qo?Qo._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ct(e)?e.call(i&&i.proxy):e}}const Gw={},Ww=()=>Object.create(Gw),$w=t=>Object.getPrototypeOf(t)===Gw;function AI(t,e,n,i=!1){const r={},a=Ww();t.propsDefaults=Object.create(null),Xw(t,e,r,a);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);n?t.props=i?r:vw(r):t.type.props?t.props=r:t.props=a,t.attrs=a}function EI(t,e,n,i){const{props:r,attrs:a,vnode:{patchFlag:s}}=t,o=je(r),[l]=t.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(uh(t.emitsOptions,f))continue;const h=e[f];if(l)if(Rt(a,f))h!==a[f]&&(a[f]=h,c=!0);else{const m=ui(f);r[m]=rv(l,o,m,h,t,!1)}else h!==a[f]&&(a[f]=h,c=!0)}}}else{Xw(t,e,r,a)&&(c=!0);let u;for(const d in o)(!e||!Rt(e,d)&&((u=js(d))===d||!Rt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=rv(l,o,d,void 0,t,!0)):delete r[d]);if(a!==o)for(const d in a)(!e||!Rt(e,d))&&(delete a[d],c=!0)}c&&Hr(t.attrs,"set","")}function Xw(t,e,n,i){const[r,a]=t.propsOptions;let s=!1,o;if(e)for(let l in e){if(ec(l))continue;const c=e[l];let u;r&&Rt(r,u=ui(l))?!a||!a.includes(u)?n[u]=c:(o||(o={}))[u]=c:uh(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,s=!0)}if(a){const l=je(n),c=o||Nt;for(let u=0;u<a.length;u++){const d=a[u];n[d]=rv(r,l,d,c[d],t,!Rt(c,d))}}return s}function rv(t,e,n,i,r,a){const s=t[n];if(s!=null){const o=Rt(s,"default");if(o&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&ct(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const u=lu(r);i=c[n]=l.call(null,e),u()}}else i=l;r.ce&&r.ce._setProp(n,i)}s[0]&&(a&&!o?i=!1:s[1]&&(i===""||i===js(n))&&(i=!0))}return i}const TI=new WeakMap;function Yw(t,e,n=!1){const i=n?TI:e.propsCache,r=i.get(t);if(r)return r;const a=t.props,s={},o=[];let l=!1;if(!ct(t)){const u=d=>{l=!0;const[f,h]=Yw(d,e,!0);yn(s,f),h&&o.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!a&&!l)return Ht(t)&&i.set(t,qo),qo;if(tt(a))for(let u=0;u<a.length;u++){const d=ui(a[u]);i_(d)&&(s[d]=Nt)}else if(a)for(const u in a){const d=ui(u);if(i_(d)){const f=a[u],h=s[d]=tt(f)||ct(f)?{type:f}:yn({},f),m=h.type;let v=!1,p=!0;if(tt(m))for(let g=0;g<m.length;++g){const y=m[g],b=ct(y)&&y.name;if(b==="Boolean"){v=!0;break}else b==="String"&&(p=!1)}else v=ct(m)&&m.name==="Boolean";h[0]=v,h[1]=p,(v||Rt(h,"default"))&&o.push(d)}}const c=[s,o];return Ht(t)&&i.set(t,c),c}function i_(t){return t[0]!=="$"&&!ec(t)}const qw=t=>t[0]==="_"||t==="$stable",Vg=t=>tt(t)?t.map(lr):[lr(t)],PI=(t,e,n)=>{if(e._n)return e;const i=tc((...r)=>Vg(e(...r)),n);return i._c=!1,i},jw=(t,e,n)=>{const i=t._ctx;for(const r in t){if(qw(r))continue;const a=t[r];if(ct(a))e[r]=PI(r,a,i);else if(a!=null){const s=Vg(a);e[r]=()=>s}}},Kw=(t,e)=>{const n=Vg(e);t.slots.default=()=>n},Zw=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},II=(t,e,n)=>{const i=t.slots=Ww();if(t.vnode.shapeFlag&32){const r=e._;r?(Zw(i,e,n),n&&qS(i,"_",r,!0)):jw(e,i)}else e&&Kw(t,e)},RI=(t,e,n)=>{const{vnode:i,slots:r}=t;let a=!0,s=Nt;if(i.shapeFlag&32){const o=e._;o?n&&o===1?a=!1:Zw(r,e,n):(a=!e.$stable,jw(e,r)),s=e}else e&&(Kw(t,e),s={default:1});if(a)for(const o in r)!qw(o)&&s[o]==null&&delete r[o]},oi=WI;function Jw(t){return LI(t)}function LI(t,e){const n=jS();n.__VUE__=!0;const{insert:i,remove:r,patchProp:a,createElement:s,createText:o,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=fr,insertStaticContent:m}=t,v=(L,k,z,G=null,K=null,ee=null,fe=void 0,O=null,R=!!k.dynamicChildren)=>{if(L===k)return;L&&!gs(L,k)&&(G=W(L),se(L,K,ee,!0),L=null),k.patchFlag===-2&&(R=!1,k.dynamicChildren=null);const{type:X,ref:le,shapeFlag:ne}=k;switch(X){case ou:p(L,k,z,G);break;case Hn:g(L,k,z,G);break;case Gm:L==null&&y(k,z,G,fe);break;case Fe:I(L,k,z,G,K,ee,fe,O,R);break;default:ne&1?E(L,k,z,G,K,ee,fe,O,R):ne&6?D(L,k,z,G,K,ee,fe,O,R):(ne&64||ne&128)&&X.process(L,k,z,G,K,ee,fe,O,R,_e)}le!=null&&K&&ev(le,L&&L.ref,ee,k||L,!k)},p=(L,k,z,G)=>{if(L==null)i(k.el=o(k.children),z,G);else{const K=k.el=L.el;k.children!==L.children&&c(K,k.children)}},g=(L,k,z,G)=>{L==null?i(k.el=l(k.children||""),z,G):k.el=L.el},y=(L,k,z,G)=>{[L.el,L.anchor]=m(L.children,k,z,G,L.el,L.anchor)},b=({el:L,anchor:k},z,G)=>{let K;for(;L&&L!==k;)K=f(L),i(L,z,G),L=K;i(k,z,G)},x=({el:L,anchor:k})=>{let z;for(;L&&L!==k;)z=f(L),r(L),L=z;r(k)},E=(L,k,z,G,K,ee,fe,O,R)=>{k.type==="svg"?fe="svg":k.type==="math"&&(fe="mathml"),L==null?M(k,z,G,K,ee,fe,O,R):S(L,k,K,ee,fe,O,R)},M=(L,k,z,G,K,ee,fe,O)=>{let R,X;const{props:le,shapeFlag:ne,transition:ce,dirs:Pe}=L;if(R=L.el=s(L.type,ee,le&&le.is,le),ne&8?u(R,L.children):ne&16&&C(L.children,R,null,G,K,zm(L,ee),fe,O),Pe&&ja(L,null,G,"created"),A(R,L,L.scopeId,fe,G),le){for(const Re in le)Re!=="value"&&!ec(Re)&&a(R,Re,null,le[Re],ee,G);"value"in le&&a(R,"value",null,le.value,ee),(X=le.onVnodeBeforeMount)&&rr(X,G,L)}Pe&&ja(L,null,G,"beforeMount");const we=kI(K,ce);we&&ce.beforeEnter(R),i(R,k,z),((X=le&&le.onVnodeMounted)||we||Pe)&&oi(()=>{X&&rr(X,G,L),we&&ce.enter(R),Pe&&ja(L,null,G,"mounted")},K)},A=(L,k,z,G,K)=>{if(z&&h(L,z),G)for(let ee=0;ee<G.length;ee++)h(L,G[ee]);if(K){let ee=K.subTree;if(k===ee||nM(ee.type)&&(ee.ssContent===k||ee.ssFallback===k)){const fe=K.vnode;A(L,fe,fe.scopeId,fe.slotScopeIds,K.parent)}}},C=(L,k,z,G,K,ee,fe,O,R=0)=>{for(let X=R;X<L.length;X++){const le=L[X]=O?Aa(L[X]):lr(L[X]);v(null,le,k,z,G,K,ee,fe,O)}},S=(L,k,z,G,K,ee,fe)=>{const O=k.el=L.el;let{patchFlag:R,dynamicChildren:X,dirs:le}=k;R|=L.patchFlag&16;const ne=L.props||Nt,ce=k.props||Nt;let Pe;if(z&&Ka(z,!1),(Pe=ce.onVnodeBeforeUpdate)&&rr(Pe,z,k,L),le&&ja(k,L,z,"beforeUpdate"),z&&Ka(z,!0),(ne.innerHTML&&ce.innerHTML==null||ne.textContent&&ce.textContent==null)&&u(O,""),X?w(L.dynamicChildren,X,O,z,G,zm(k,K),ee):fe||Y(L,k,O,null,z,G,zm(k,K),ee,!1),R>0){if(R&16)T(O,ne,ce,z,K);else if(R&2&&ne.class!==ce.class&&a(O,"class",null,ce.class,K),R&4&&a(O,"style",ne.style,ce.style,K),R&8){const we=k.dynamicProps;for(let Re=0;Re<we.length;Re++){const ze=we[Re],Ie=ne[ze],ke=ce[ze];(ke!==Ie||ze==="value")&&a(O,ze,Ie,ke,K,z)}}R&1&&L.children!==k.children&&u(O,k.children)}else!fe&&X==null&&T(O,ne,ce,z,K);((Pe=ce.onVnodeUpdated)||le)&&oi(()=>{Pe&&rr(Pe,z,k,L),le&&ja(k,L,z,"updated")},G)},w=(L,k,z,G,K,ee,fe)=>{for(let O=0;O<k.length;O++){const R=L[O],X=k[O],le=R.el&&(R.type===Fe||!gs(R,X)||R.shapeFlag&70)?d(R.el):z;v(R,X,le,null,G,K,ee,fe,!0)}},T=(L,k,z,G,K)=>{if(k!==z){if(k!==Nt)for(const ee in k)!ec(ee)&&!(ee in z)&&a(L,ee,k[ee],null,K,G);for(const ee in z){if(ec(ee))continue;const fe=z[ee],O=k[ee];fe!==O&&ee!=="value"&&a(L,ee,O,fe,K,G)}"value"in z&&a(L,"value",k.value,z.value,K)}},I=(L,k,z,G,K,ee,fe,O,R)=>{const X=k.el=L?L.el:o(""),le=k.anchor=L?L.anchor:o("");let{patchFlag:ne,dynamicChildren:ce,slotScopeIds:Pe}=k;Pe&&(O=O?O.concat(Pe):Pe),L==null?(i(X,z,G),i(le,z,G),C(k.children||[],z,le,K,ee,fe,O,R)):ne>0&&ne&64&&ce&&L.dynamicChildren?(w(L.dynamicChildren,ce,z,K,ee,fe,O),(k.key!=null||K&&k===K.subTree)&&Ng(L,k,!0)):Y(L,k,z,le,K,ee,fe,O,R)},D=(L,k,z,G,K,ee,fe,O,R)=>{k.slotScopeIds=O,L==null?k.shapeFlag&512?K.ctx.activate(k,z,G,fe,R):N(k,z,G,K,ee,fe,R):$(L,k,R)},N=(L,k,z,G,K,ee,fe)=>{const O=L.component=ZI(L,G,K);if(lh(L)&&(O.ctx.renderer=_e),JI(O,!1,fe),O.asyncDep){if(K&&K.registerDep(O,U,fe),!L.el){const R=O.subTree=_(Hn);g(null,R,k,z)}}else U(O,L,k,z,K,ee,fe)},$=(L,k,z)=>{const G=k.component=L.component;if(HI(L,k,z))if(G.asyncDep&&!G.asyncResolved){Z(G,k,z);return}else G.next=k,G.update();else k.el=L.el,G.vnode=k},U=(L,k,z,G,K,ee,fe)=>{const O=()=>{if(L.isMounted){let{next:ne,bu:ce,u:Pe,parent:we,vnode:Re}=L;{const qe=Qw(L);if(qe){ne&&(ne.el=Re.el,Z(L,ne,fe)),qe.asyncDep.then(()=>{L.isUnmounted||O()});return}}let ze=ne,Ie;Ka(L,!1),ne?(ne.el=Re.el,Z(L,ne,fe)):ne=Re,ce&&$d(ce),(Ie=ne.props&&ne.props.onVnodeBeforeUpdate)&&rr(Ie,we,ne,Re),Ka(L,!0);const ke=Hm(L),st=L.subTree;L.subTree=ke,v(st,ke,d(st.el),W(st),L,K,ee),ne.el=ke.el,ze===null&&GI(L,ke.el),Pe&&oi(Pe,K),(Ie=ne.props&&ne.props.onVnodeUpdated)&&oi(()=>rr(Ie,we,ne,Re),K)}else{let ne;const{el:ce,props:Pe}=k,{bm:we,m:Re,parent:ze,root:Ie,type:ke}=L,st=Jo(k);if(Ka(L,!1),we&&$d(we),!st&&(ne=Pe&&Pe.onVnodeBeforeMount)&&rr(ne,ze,k),Ka(L,!0),ce&&V){const qe=()=>{L.subTree=Hm(L),V(ce,L.subTree,L,K,null)};st&&ke.__asyncHydrate?ke.__asyncHydrate(ce,L,qe):qe()}else{Ie.ce&&Ie.ce._injectChildStyle(ke);const qe=L.subTree=Hm(L);v(null,qe,z,G,L,K,ee),k.el=qe.el}if(Re&&oi(Re,K),!st&&(ne=Pe&&Pe.onVnodeMounted)){const qe=k;oi(()=>rr(ne,ze,qe),K)}(k.shapeFlag&256||ze&&Jo(ze.vnode)&&ze.vnode.shapeFlag&256)&&L.a&&oi(L.a,K),L.isMounted=!0,k=z=G=null}};L.scope.on();const R=L.effect=new nw(O);L.scope.off();const X=L.update=R.run.bind(R),le=L.job=R.runIfDirty.bind(R);le.i=L,le.id=L.uid,R.scheduler=()=>Tg(le),Ka(L,!0),X()},Z=(L,k,z)=>{k.component=L;const G=L.vnode.props;L.vnode=k,L.next=null,EI(L,k.props,G,z),RI(L,k.children,z),Fa(),q0(L),Ua()},Y=(L,k,z,G,K,ee,fe,O,R=!1)=>{const X=L&&L.children,le=L?L.shapeFlag:0,ne=k.children,{patchFlag:ce,shapeFlag:Pe}=k;if(ce>0){if(ce&128){q(X,ne,z,G,K,ee,fe,O,R);return}else if(ce&256){j(X,ne,z,G,K,ee,fe,O,R);return}}Pe&8?(le&16&&J(X,K,ee),ne!==X&&u(z,ne)):le&16?Pe&16?q(X,ne,z,G,K,ee,fe,O,R):J(X,K,ee,!0):(le&8&&u(z,""),Pe&16&&C(ne,z,G,K,ee,fe,O,R))},j=(L,k,z,G,K,ee,fe,O,R)=>{L=L||qo,k=k||qo;const X=L.length,le=k.length,ne=Math.min(X,le);let ce;for(ce=0;ce<ne;ce++){const Pe=k[ce]=R?Aa(k[ce]):lr(k[ce]);v(L[ce],Pe,z,null,K,ee,fe,O,R)}X>le?J(L,K,ee,!0,!1,ne):C(k,z,G,K,ee,fe,O,R,ne)},q=(L,k,z,G,K,ee,fe,O,R)=>{let X=0;const le=k.length;let ne=L.length-1,ce=le-1;for(;X<=ne&&X<=ce;){const Pe=L[X],we=k[X]=R?Aa(k[X]):lr(k[X]);if(gs(Pe,we))v(Pe,we,z,null,K,ee,fe,O,R);else break;X++}for(;X<=ne&&X<=ce;){const Pe=L[ne],we=k[ce]=R?Aa(k[ce]):lr(k[ce]);if(gs(Pe,we))v(Pe,we,z,null,K,ee,fe,O,R);else break;ne--,ce--}if(X>ne){if(X<=ce){const Pe=ce+1,we=Pe<le?k[Pe].el:G;for(;X<=ce;)v(null,k[X]=R?Aa(k[X]):lr(k[X]),z,we,K,ee,fe,O,R),X++}}else if(X>ce)for(;X<=ne;)se(L[X],K,ee,!0),X++;else{const Pe=X,we=X,Re=new Map;for(X=we;X<=ce;X++){const Qe=k[X]=R?Aa(k[X]):lr(k[X]);Qe.key!=null&&Re.set(Qe.key,X)}let ze,Ie=0;const ke=ce-we+1;let st=!1,qe=0;const He=new Array(ke);for(X=0;X<ke;X++)He[X]=0;for(X=Pe;X<=ne;X++){const Qe=L[X];if(Ie>=ke){se(Qe,K,ee,!0);continue}let gt;if(Qe.key!=null)gt=Re.get(Qe.key);else for(ze=we;ze<=ce;ze++)if(He[ze-we]===0&&gs(Qe,k[ze])){gt=ze;break}gt===void 0?se(Qe,K,ee,!0):(He[gt-we]=X+1,gt>=qe?qe=gt:st=!0,v(Qe,k[gt],z,null,K,ee,fe,O,R),Ie++)}const ot=st?DI(He):qo;for(ze=ot.length-1,X=ke-1;X>=0;X--){const Qe=we+X,gt=k[Qe],ie=Qe+1<le?k[Qe+1].el:G;He[X]===0?v(null,gt,z,ie,K,ee,fe,O,R):st&&(ze<0||X!==ot[ze]?F(gt,z,ie,2):ze--)}}},F=(L,k,z,G,K=null)=>{const{el:ee,type:fe,transition:O,children:R,shapeFlag:X}=L;if(X&6){F(L.component.subTree,k,z,G);return}if(X&128){L.suspense.move(k,z,G);return}if(X&64){fe.move(L,k,z,_e);return}if(fe===Fe){i(ee,k,z);for(let ne=0;ne<R.length;ne++)F(R[ne],k,z,G);i(L.anchor,k,z);return}if(fe===Gm){b(L,k,z);return}if(G!==2&&X&1&&O)if(G===0)O.beforeEnter(ee),i(ee,k,z),oi(()=>O.enter(ee),K);else{const{leave:ne,delayLeave:ce,afterLeave:Pe}=O,we=()=>i(ee,k,z),Re=()=>{ne(ee,()=>{we(),Pe&&Pe()})};ce?ce(ee,we,Re):Re()}else i(ee,k,z)},se=(L,k,z,G=!1,K=!1)=>{const{type:ee,props:fe,ref:O,children:R,dynamicChildren:X,shapeFlag:le,patchFlag:ne,dirs:ce,cacheIndex:Pe}=L;if(ne===-2&&(K=!1),O!=null&&ev(O,null,z,L,!0),Pe!=null&&(k.renderCache[Pe]=void 0),le&256){k.ctx.deactivate(L);return}const we=le&1&&ce,Re=!Jo(L);let ze;if(Re&&(ze=fe&&fe.onVnodeBeforeUnmount)&&rr(ze,k,L),le&6)he(L.component,z,G);else{if(le&128){L.suspense.unmount(z,G);return}we&&ja(L,null,k,"beforeUnmount"),le&64?L.type.remove(L,k,z,_e,G):X&&!X.hasOnce&&(ee!==Fe||ne>0&&ne&64)?J(X,k,z,!1,!0):(ee===Fe&&ne&384||!K&&le&16)&&J(R,k,z),G&&Ce(L)}(Re&&(ze=fe&&fe.onVnodeUnmounted)||we)&&oi(()=>{ze&&rr(ze,k,L),we&&ja(L,null,k,"unmounted")},z)},Ce=L=>{const{type:k,el:z,anchor:G,transition:K}=L;if(k===Fe){Q(z,G);return}if(k===Gm){x(L);return}const ee=()=>{r(z),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(L.shapeFlag&1&&K&&!K.persisted){const{leave:fe,delayLeave:O}=K,R=()=>fe(z,ee);O?O(L.el,ee,R):R()}else ee()},Q=(L,k)=>{let z;for(;L!==k;)z=f(L),r(L),L=z;r(k)},he=(L,k,z)=>{const{bum:G,scope:K,job:ee,subTree:fe,um:O,m:R,a:X}=L;r_(R),r_(X),G&&$d(G),K.stop(),ee&&(ee.flags|=8,se(fe,L,k,z)),O&&oi(O,k),oi(()=>{L.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},J=(L,k,z,G=!1,K=!1,ee=0)=>{for(let fe=ee;fe<L.length;fe++)se(L[fe],k,z,G,K)},W=L=>{if(L.shapeFlag&6)return W(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const k=f(L.anchor||L.el),z=k&&k[Aw];return z?f(z):k};let re=!1;const de=(L,k,z)=>{L==null?k._vnode&&se(k._vnode,null,null,!0):v(k._vnode||null,L,k,null,null,null,z),k._vnode=L,re||(re=!0,q0(),ww(),re=!1)},_e={p:v,um:se,m:F,r:Ce,mt:N,mc:C,pc:Y,pbc:w,n:W,o:t};let me,V;return{render:de,hydrate:me,createApp:CI(de,me)}}function zm({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ka({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function kI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ng(t,e,n=!1){const i=t.children,r=e.children;if(tt(i)&&tt(r))for(let a=0;a<i.length;a++){const s=i[a];let o=r[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[a]=Aa(r[a]),o.el=s.el),!n&&o.patchFlag!==-2&&Ng(s,o)),o.type===ou&&(o.el=s.el)}}function DI(t){const e=t.slice(),n=[0];let i,r,a,s,o;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(a=0,s=n.length-1;a<s;)o=a+s>>1,t[n[o]]<c?a=o+1:s=o;c<t[n[a]]&&(a>0&&(e[i]=n[a-1]),n[a]=i)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=e[s];return n}function Qw(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Qw(e)}function r_(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const OI=Symbol.for("v-scx"),VI=()=>nt(OI);function Ft(t,e){return Bg(t,null,e)}function Te(t,e,n){return Bg(t,e,n)}function Bg(t,e,n=Nt){const{immediate:i,deep:r,flush:a,once:s}=n,o=yn({},n);let l;if(dh)if(a==="sync"){const f=VI();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!e||i)o.once=!0;else{const f=()=>{};return f.stop=fr,f.resume=fr,f.pause=fr,f}const c=Dn;o.call=(f,h,m)=>qi(f,c,h,m);let u=!1;a==="post"?o.scheduler=f=>{oi(f,c&&c.suspense)}:a!=="sync"&&(u=!0,o.scheduler=(f,h)=>{h?f():Tg(f)}),o.augmentJob=f=>{e&&(f.flags|=4),u&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const d=QP(t,e,o);return l&&l.push(d),d}function NI(t,e,n){const i=this.proxy,r=Zt(t)?t.includes(".")?eM(i,t):()=>i[t]:t.bind(i,i);let a;ct(e)?a=e:(a=e.handler,n=e);const s=lu(this),o=Bg(r,a.bind(i),n);return s(),o}function eM(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const BI=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ui(e)}Modifiers`]||t[`${js(e)}Modifiers`];function FI(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Nt;let r=n;const a=e.startsWith("update:"),s=a&&BI(i,e.slice(7));s&&(s.trim&&(r=n.map(u=>Zt(u)?u.trim():u)),s.number&&(r=n.map(jp)));let o,l=i[o=Dm(e)]||i[o=Dm(ui(e))];!l&&a&&(l=i[o=Dm(js(e))]),l&&qi(l,t,6,r);const c=i[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,qi(c,t,6,r)}}function tM(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const a=t.emits;let s={},o=!1;if(!ct(t)){const l=c=>{const u=tM(c,e,!0);u&&(o=!0,yn(s,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!a&&!o?(Ht(t)&&i.set(t,null),null):(tt(a)?a.forEach(l=>s[l]=null):yn(s,a),Ht(t)&&i.set(t,s),s)}function uh(t,e){return!t||!Qf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Rt(t,e[0].toLowerCase()+e.slice(1))||Rt(t,js(e))||Rt(t,e))}function Hm(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[a],slots:s,attrs:o,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:m,inheritAttrs:v}=t,p=sf(t);let g,y;try{if(n.shapeFlag&4){const x=r||i,E=x;g=lr(c.call(E,x,u,d,h,f,m)),y=o}else{const x=e;g=lr(x.length>1?x(d,{attrs:o,slots:s,emit:l}):x(d,null)),y=e.props?o:UI(o)}}catch(x){rc.length=0,oh(x,t,1),g=_(Hn)}let b=g;if(y&&v!==!1){const x=Object.keys(y),{shapeFlag:E}=b;x.length&&E&7&&(a&&x.some(pg)&&(y=zI(y,a)),b=Xr(b,y,!1,!0))}return n.dirs&&(b=Xr(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Vs(b,n.transition),g=b,sf(p),g}const UI=t=>{let e;for(const n in t)(n==="class"||n==="style"||Qf(n))&&((e||(e={}))[n]=t[n]);return e},zI=(t,e)=>{const n={};for(const i in t)(!pg(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function HI(t,e,n){const{props:i,children:r,component:a}=t,{props:s,children:o,patchFlag:l}=e,c=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?a_(i,s,c):!!s;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(s[f]!==i[f]&&!uh(c,f))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:i===s?!1:i?s?a_(i,s,c):!0:!!s;return!1}function a_(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(e[a]!==t[a]&&!uh(n,a))return!0}return!1}function GI({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const nM=t=>t.__isSuspense;function WI(t,e){e&&e.pendingBranch?tt(t)?e.effects.push(...t):e.effects.push(t):nI(t)}const Fe=Symbol.for("v-fgt"),ou=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),Gm=Symbol.for("v-stc"),rc=[];let bi=null;function il(t=!1){rc.push(bi=t?null:[])}function $I(){rc.pop(),bi=rc[rc.length-1]||null}let Sc=1;function s_(t){Sc+=t,t<0&&bi&&(bi.hasOnce=!0)}function iM(t){return t.dynamicChildren=Sc>0?bi||qo:null,$I(),Sc>0&&bi&&bi.push(t),t}function XI(t,e,n,i,r,a){return iM(aM(t,e,n,i,r,a,!0))}function wc(t,e,n,i,r){return iM(_(t,e,n,i,r,!0))}function rl(t){return t?t.__v_isVNode===!0:!1}function gs(t,e){return t.type===e.type&&t.key===e.key}const rM=({key:t})=>t??null,Yd=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Zt(t)||Bt(t)||ct(t)?{i:Cn,r:t,k:e,f:!!n}:t:null);function aM(t,e=null,n=null,i=0,r=null,a=t===Fe?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&rM(e),ref:e&&Yd(e),scopeId:Cw,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Cn};return o?(Fg(l,n),a&128&&t.normalize(l)):n&&(l.shapeFlag|=Zt(n)?8:16),Sc>0&&!s&&bi&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&bi.push(l),l}const _=YI;function YI(t,e=null,n=null,i=0,r=null,a=!1){if((!t||t===Bw)&&(t=Hn),rl(t)){const o=Xr(t,e,!0);return n&&Fg(o,n),Sc>0&&!a&&bi&&(o.shapeFlag&6?bi[bi.indexOf(t)]=o:bi.push(o)),o.patchFlag=-2,o}if(nR(t)&&(t=t.__vccOpts),e){e=qI(e);let{class:o,style:l}=e;o&&!Zt(o)&&(e.class=ih(o)),Ht(l)&&(Cg(l)&&!tt(l)&&(l=yn({},l)),e.style=nh(l))}const s=Zt(t)?1:nM(t)?128:Ew(t)?64:Ht(t)?4:ct(t)?2:0;return aM(t,e,n,i,r,s,a,!0)}function qI(t){return t?Cg(t)||$w(t)?yn({},t):t:null}function Xr(t,e,n=!1,i=!1){const{props:r,ref:a,patchFlag:s,children:o,transition:l}=t,c=e?xe(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&rM(c),ref:e&&e.ref?n&&a?tt(a)?a.concat(Yd(e)):[a,Yd(e)]:Yd(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fe?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xr(t.ssContent),ssFallback:t.ssFallback&&Xr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Vs(u,l.clone(u)),u}function Yr(t=" ",e=0){return _(ou,null,t,e)}function V8(t="",e=!1){return e?(il(),wc(Hn,null,t)):_(Hn,null,t)}function lr(t){return t==null||typeof t=="boolean"?_(Hn):tt(t)?_(Fe,null,t.slice()):rl(t)?Aa(t):_(ou,null,String(t))}function Aa(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xr(t)}function Fg(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(tt(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),Fg(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!$w(e)?e._ctx=Cn:r===3&&Cn&&(Cn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ct(e)?(e={default:e,_ctx:Cn},n=32):(e=String(e),i&64?(n=16,e=[Yr(e)]):n=8);t.children=e,t.shapeFlag|=n}function xe(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=ih([e.class,i.class]));else if(r==="style")e.style=nh([e.style,i.style]);else if(Qf(r)){const a=e[r],s=i[r];s&&a!==s&&!(tt(a)&&a.includes(s))&&(e[r]=a?[].concat(a,s):s)}else r!==""&&(e[r]=i[r])}return e}function rr(t,e,n,i=null){qi(t,e,7,[n,i])}const jI=Hw();let KI=0;function ZI(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||jI,a={uid:KI++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ew(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yw(i,r),emitsOptions:tM(i,r),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:i.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=FI.bind(null,a),t.ce&&t.ce(a),a}let Dn=null;const ka=()=>Dn||Cn;let lf,av;{const t=jS(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),a=>{r.length>1?r.forEach(s=>s(a)):r[0](a)}};lf=e("__VUE_INSTANCE_SETTERS__",n=>Dn=n),av=e("__VUE_SSR_SETTERS__",n=>dh=n)}const lu=t=>{const e=Dn;return lf(t),t.scope.on(),()=>{t.scope.off(),lf(e)}},o_=()=>{Dn&&Dn.scope.off(),lf(null)};function sM(t){return t.vnode.shapeFlag&4}let dh=!1;function JI(t,e=!1,n=!1){e&&av(e);const{props:i,children:r}=t.vnode,a=sM(t);AI(t,i,a,e),II(t,r,n);const s=a?QI(t,e):void 0;return e&&av(!1),s}function QI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,vI);const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?lM(t):null,a=lu(t);Fa();const s=su(i,t,0,[t.props,r]);if(Ua(),a(),$S(s)){if(Jo(t)||Dw(t),s.then(o_,o_),e)return s.then(o=>{l_(t,o,e)}).catch(o=>{oh(o,t,0)});t.asyncDep=s}else l_(t,s,e)}else oM(t,e)}function l_(t,e,n){ct(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ht(e)&&(t.setupState=_w(e)),oM(t,n)}let c_;function oM(t,e,n){const i=t.type;if(!t.render){if(!e&&c_&&!i.render){const r=i.template||Og(t).template;if(r){const{isCustomElement:a,compilerOptions:s}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,c=yn(yn({isCustomElement:a,delimiters:o},s),l);i.render=c_(r,c)}}t.render=i.render||fr}{const r=lu(t);Fa();try{_I(t)}finally{Ua(),r()}}}const eR={get(t,e){return Xn(t,"get",""),t[e]}};function lM(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,eR),slots:t.slots,emit:t.emit,expose:e}}function fh(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(_w(gw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ic)return ic[n](t)},has(e,n){return n in e||n in ic}})):t.proxy}function tR(t,e=!0){return ct(t)?t.displayName||t.name:t.name||e&&t.__name}function nR(t){return ct(t)&&"__vccOpts"in t}const P=(t,e)=>ZP(t,e,dh);function Si(t,e,n){const i=arguments.length;return i===2?Ht(e)&&!tt(e)?rl(e)?_(t,null,[e]):_(t,e):_(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&rl(n)&&(n=[n]),_(t,e,n))}const iR="3.5.10";/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sv;const u_=typeof window<"u"&&window.trustedTypes;if(u_)try{sv=u_.createPolicy("vue",{createHTML:t=>t})}catch{}const cM=sv?t=>sv.createHTML(t):t=>t,rR="http://www.w3.org/2000/svg",aR="http://www.w3.org/1998/Math/MathML",Nr=typeof document<"u"?document:null,d_=Nr&&Nr.createElement("template"),sR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Nr.createElementNS(rR,t):e==="mathml"?Nr.createElementNS(aR,t):n?Nr.createElement(t,{is:n}):Nr.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Nr.createTextNode(t),createComment:t=>Nr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Nr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,a){const s=n?n.previousSibling:e.lastChild;if(r&&(r===a||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===a||!(r=r.nextSibling)););else{d_.innerHTML=cM(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const o=d_.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ha="transition",Rl="animation",al=Symbol("_vtc"),uM={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},dM=yn({},Iw,uM),oR=t=>(t.displayName="Transition",t.props=dM,t),Da=oR((t,{slots:e})=>Si(lI,fM(t),e)),Za=(t,e=[])=>{tt(t)?t.forEach(n=>n(...e)):t&&t(...e)},f_=t=>t?tt(t)?t.some(e=>e.length>1):t.length>1:!1;function fM(t){const e={};for(const I in t)I in uM||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:c=s,appearToClass:u=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,m=lR(r),v=m&&m[0],p=m&&m[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:E,onBeforeAppear:M=g,onAppear:A=y,onAppearCancelled:C=b}=e,S=(I,D,N)=>{wa(I,D?u:o),wa(I,D?c:s),N&&N()},w=(I,D)=>{I._isLeaving=!1,wa(I,d),wa(I,h),wa(I,f),D&&D()},T=I=>(D,N)=>{const $=I?A:y,U=()=>S(D,I,N);Za($,[D,U]),h_(()=>{wa(D,I?l:a),Vr(D,I?u:o),f_($)||m_(D,i,v,U)})};return yn(e,{onBeforeEnter(I){Za(g,[I]),Vr(I,a),Vr(I,s)},onBeforeAppear(I){Za(M,[I]),Vr(I,l),Vr(I,c)},onEnter:T(!1),onAppear:T(!0),onLeave(I,D){I._isLeaving=!0;const N=()=>w(I,D);Vr(I,d),Vr(I,f),mM(),h_(()=>{I._isLeaving&&(wa(I,d),Vr(I,h),f_(x)||m_(I,i,p,N))}),Za(x,[I,N])},onEnterCancelled(I){S(I,!1),Za(b,[I])},onAppearCancelled(I){S(I,!0),Za(C,[I])},onLeaveCancelled(I){w(I),Za(E,[I])}})}function lR(t){if(t==null)return null;if(Ht(t))return[Wm(t.enter),Wm(t.leave)];{const e=Wm(t);return[e,e]}}function Wm(t){return pP(t)}function Vr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[al]||(t[al]=new Set)).add(e)}function wa(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[al];n&&(n.delete(e),n.size||(t[al]=void 0))}function h_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let cR=0;function m_(t,e,n,i){const r=t._endId=++cR,a=()=>{r===t._endId&&i()};if(n!=null)return setTimeout(a,n);const{type:s,timeout:o,propCount:l}=hM(t,e);if(!s)return i();const c=s+"end";let u=0;const d=()=>{t.removeEventListener(c,f),a()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),t.addEventListener(c,f)}function hM(t,e){const n=window.getComputedStyle(t),i=m=>(n[m]||"").split(", "),r=i(`${ha}Delay`),a=i(`${ha}Duration`),s=p_(r,a),o=i(`${Rl}Delay`),l=i(`${Rl}Duration`),c=p_(o,l);let u=null,d=0,f=0;e===ha?s>0&&(u=ha,d=s,f=a.length):e===Rl?c>0&&(u=Rl,d=c,f=l.length):(d=Math.max(s,c),u=d>0?s>c?ha:Rl:null,f=u?u===ha?a.length:l.length:0);const h=u===ha&&/\b(transform|all)(,|$)/.test(i(`${ha}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function p_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>v_(n)+v_(t[i])))}function v_(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function mM(){return document.body.offsetHeight}function uR(t,e,n){const i=t[al];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const cf=Symbol("_vod"),pM=Symbol("_vsh"),Qi={beforeMount(t,{value:e},{transition:n}){t[cf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ll(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Ll(t,!0),i.enter(t)):i.leave(t,()=>{Ll(t,!1)}):Ll(t,e))},beforeUnmount(t,{value:e}){Ll(t,e)}};function Ll(t,e){t.style.display=e?t[cf]:"none",t[pM]=!e}const dR=Symbol(""),fR=/(^|;)\s*display\s*:/;function hR(t,e,n){const i=t.style,r=Zt(n);let a=!1;if(n&&!r){if(e)if(Zt(e))for(const s of e.split(";")){const o=s.slice(0,s.indexOf(":")).trim();n[o]==null&&qd(i,o,"")}else for(const s in e)n[s]==null&&qd(i,s,"");for(const s in n)s==="display"&&(a=!0),qd(i,s,n[s])}else if(r){if(e!==n){const s=i[dR];s&&(n+=";"+s),i.cssText=n,a=fR.test(n)}}else e&&t.removeAttribute("style");cf in t&&(t[cf]=a?i.display:"",t[pM]&&(i.display="none"))}const g_=/\s*!important$/;function qd(t,e,n){if(tt(n))n.forEach(i=>qd(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=mR(t,e);g_.test(n)?t.setProperty(js(i),n.replace(g_,""),"important"):t[i]=n}}const y_=["Webkit","Moz","ms"],$m={};function mR(t,e){const n=$m[e];if(n)return n;let i=ui(e);if(i!=="filter"&&i in t)return $m[e]=i;i=_r(i);for(let r=0;r<y_.length;r++){const a=y_[r]+i;if(a in t)return $m[e]=a}return e}const __="http://www.w3.org/1999/xlink";function b_(t,e,n,i,r,a=xP(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(__,e.slice(6,e.length)):t.setAttributeNS(__,e,n):n==null||a&&!KS(n)?t.removeAttribute(e):t.setAttribute(e,a?"":Ba(n)?String(n):n)}function x_(t,e,n,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?cM(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const s=r==="OPTION"?t.getAttribute("value")||"":t.value,o=n==null?t.type==="checkbox"?"on":"":String(n);(s!==o||!("_value"in t))&&(t.value=o),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const s=typeof t[e];s==="boolean"?n=KS(n):n==null&&s==="string"?(n="",a=!0):s==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Bo(t,e,n,i){t.addEventListener(e,n,i)}function pR(t,e,n,i){t.removeEventListener(e,n,i)}const S_=Symbol("_vei");function vR(t,e,n,i,r=null){const a=t[S_]||(t[S_]={}),s=a[e];if(i&&s)s.value=i;else{const[o,l]=gR(e);if(i){const c=a[e]=bR(i,r);Bo(t,o,c,l)}else s&&(pR(t,o,s,l),a[e]=void 0)}}const w_=/(?:Once|Passive|Capture)$/;function gR(t){let e;if(w_.test(t)){e={};let i;for(;i=t.match(w_);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):js(t.slice(2)),e]}let Xm=0;const yR=Promise.resolve(),_R=()=>Xm||(yR.then(()=>Xm=0),Xm=Date.now());function bR(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;qi(xR(i,n.value),e,5,[i])};return n.value=t,n.attached=_R(),n}function xR(t,e){if(tt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const M_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,SR=(t,e,n,i,r,a)=>{const s=r==="svg";e==="class"?uR(t,i,s):e==="style"?hR(t,n,i):Qf(e)?pg(e)||vR(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wR(t,e,i,s))?(x_(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&b_(t,e,i,s,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Zt(i))?x_(t,ui(e),i):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),b_(t,e,i,s))};function wR(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&M_(e)&&ct(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return M_(e)&&Zt(n)?!1:e in t}const vM=new WeakMap,gM=new WeakMap,uf=Symbol("_moveCb"),C_=Symbol("_enterCb"),MR=t=>(delete t.props.mode,t),CR=MR({name:"TransitionGroup",props:yn({},dM,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ka(),i=Pw();let r,a;return Lg(()=>{if(!r.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!PR(r[0].el,n.vnode.el,s))return;r.forEach(AR),r.forEach(ER);const o=r.filter(TR);mM(),o.forEach(l=>{const c=l.el,u=c.style;Vr(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[uf]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[uf]=null,wa(c,s))};c.addEventListener("transitionend",d)})}),()=>{const s=je(t),o=fM(s);let l=s.tag||Fe;if(r=[],a)for(let c=0;c<a.length;c++){const u=a[c];u.el&&u.el instanceof Element&&(r.push(u),Vs(u,xc(u,o,i,n)),vM.set(u,u.el.getBoundingClientRect()))}a=e.default?Pg(e.default()):[];for(let c=0;c<a.length;c++){const u=a[c];u.key!=null&&Vs(u,xc(u,o,i,n))}return _(l,null,a)}}}),Ug=CR;function AR(t){const e=t.el;e[uf]&&e[uf](),e[C_]&&e[C_]()}function ER(t){gM.set(t,t.el.getBoundingClientRect())}function TR(t){const e=vM.get(t),n=gM.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const a=t.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${r}px)`,a.transitionDuration="0s",t}}function PR(t,e,n){const i=t.cloneNode(),r=t[al];r&&r.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(i);const{hasTransform:s}=hM(i);return a.removeChild(i),s}const A_=t=>{const e=t.props["onUpdate:modelValue"]||!1;return tt(e)?n=>$d(e,n):e};function IR(t){t.target.composing=!0}function E_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ym=Symbol("_assign"),RR={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[Ym]=A_(r);const a=i||r.props&&r.props.type==="number";Bo(t,e?"change":"input",s=>{if(s.target.composing)return;let o=t.value;n&&(o=o.trim()),a&&(o=jp(o)),t[Ym](o)}),n&&Bo(t,"change",()=>{t.value=t.value.trim()}),e||(Bo(t,"compositionstart",IR),Bo(t,"compositionend",E_),Bo(t,"change",E_))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:a}},s){if(t[Ym]=A_(s),t.composing)return;const o=(a||t.type==="number")&&!/^0\d/.test(t.value)?jp(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||r&&t.value.trim()===l)||(t.value=l))}},LR=["ctrl","shift","alt","meta"],kR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>LR.some(n=>t[`${n}Key`]&&!e.includes(n))},T_=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...a)=>{for(let s=0;s<e.length;s++){const o=kR[e[s]];if(o&&o(r,e))return}return t(r,...a)})},DR=yn({patchProp:SR},sR);let P_;function yM(){return P_||(P_=Jw(DR))}const _M=(...t)=>{yM().render(...t)},OR=(...t)=>{const e=yM().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=NR(i);if(!r)return;const a=e._component;!ct(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const s=n(r,!1,VR(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function VR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function NR(t){return Zt(t)?document.querySelector(t):t}function ni(t,e){let n;function i(){n=yg(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}Te(t,r=>{r&&!n?i():r||(n==null||n.stop(),n=void 0)},{immediate:!0}),Nn(()=>{n==null||n.stop()})}const Mt=typeof window<"u",zg=Mt&&"IntersectionObserver"in window,BR=Mt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),I_=Mt&&"EyeDropper"in window;function R_(t,e,n){FR(t,e),e.set(t,n)}function FR(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function UR(t,e,n){return t.set(bM(t,e),n),n}function Ja(t,e){return t.get(bM(t,e))}function bM(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function xM(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let r=0;r<i;r++){if(t==null)return n;t=t[e[r]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function br(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>br(t[i],e[i]))}function Ns(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),xM(t,e.split("."),n))}function vn(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const r=e(t,n);return typeof r>"u"?n:r}if(typeof e=="string")return Ns(t,e,n);if(Array.isArray(e))return xM(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function cr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function Le(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Hg(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function L_(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function Gg(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const k_=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),ov=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function SM(t){return Object.keys(t)}function bs(t,e){return e.every(n=>t.hasOwnProperty(n))}function Wg(t,e){const n={},i=new Set(Object.keys(t));for(const r of e)i.has(r)&&(n[r]=t[r]);return n}function lv(t,e,n){const i=Object.create(null),r=Object.create(null);for(const a in t)e.some(s=>s instanceof RegExp?s.test(a):s===a)&&!(n!=null&&n.some(s=>s===a))?i[a]=t[a]:r[a]=t[a];return[i,r]}function ln(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function hh(t,e){const n={};return e.forEach(i=>n[i]=t[i]),n}const wM=/^on[^a-z]/,mh=t=>wM.test(t),zR=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],HR=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function GR(t){return t.isComposing&&HR.includes(t.key)}function Ha(t){const[e,n]=lv(t,[wM]),i=ln(e,zR),[r,a]=lv(n,["class","style","id",/^data-/]);return Object.assign(r,e),Object.assign(a,i),[r,a]}function $t(t){return t==null?[]:Array.isArray(t)?t:[t]}function WR(t,e){let n=0;const i=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];clearTimeout(n),n=setTimeout(()=>t(...a),Ot(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function rn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function D_(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function O_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function V_(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function $R(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function N_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(t)>=e&&i<n.length-1;)t/=e,++i;return`${t.toFixed(1)} ${n[i]}B`}function Gn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const r in t)i[r]=t[r];for(const r in e){const a=t[r],s=e[r];if(L_(a)&&L_(s)){i[r]=Gn(a,s,n);continue}if(n&&Array.isArray(a)&&Array.isArray(s)){i[r]=n(a,s);continue}i[r]=s}return i}function MM(t){return t.map(e=>e.type===Fe?MM(e.children):e).flat()}function Es(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Es.cache.has(t))return Es.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Es.cache.set(t,e),e}Es.cache=new Map;function zo(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>zo(t,n)).flat(1);if(e.suspense)return zo(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>zo(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return zo(t,e.component.subTree).flat(1)}return[]}var Gu=new WeakMap,fo=new WeakMap;class XR{constructor(e){R_(this,Gu,[]),R_(this,fo,0),this.size=e}push(e){Ja(Gu,this)[Ja(fo,this)]=e,UR(fo,this,(Ja(fo,this)+1)%this.size)}values(){return Ja(Gu,this).slice(Ja(fo,this)).concat(Ja(Gu,this).slice(0,Ja(fo,this)))}}function YR(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function $g(t){const e=kn({}),n=P(t);return Ft(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),za(e)}function df(t,e){return t.includes(e)}function CM(t){return t[2].toLowerCase()+t.slice(3)}const En=()=>[Function,Array];function B_(t,e){return e="on"+_r(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function Xg(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const r of t)r(...n);else typeof t=="function"&&t(...n)}function Mc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function AM(t,e,n){let i,r=t.indexOf(document.activeElement);const a=e==="next"?1:-1;do r+=a,i=t[r];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&r<t.length&&r>=0);return i}function Ts(t,e){var i,r,a,s;const n=Mc(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(r=n[0])==null||r.focus();else if(e==="last")(a=n.at(-1))==null||a.focus();else if(typeof e=="number")(s=n[e])==null||s.focus();else{const o=AM(n,e);o?o.focus():Ts(t,e==="next"?"first":"last")}}function Wu(t){return t==null||typeof t=="string"&&t.trim()===""}function EM(){}function sl(t,e){if(!(Mt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function ph(t){return t.some(e=>rl(e)?e.type===Hn?!1:e.type!==Fe||ph(e.children):!0)?t:null}function qR(t,e){if(!Mt||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function jR(t,e){const n=t.clientX,i=t.clientY,r=e.getBoundingClientRect(),a=r.left,s=r.top,o=r.right,l=r.bottom;return n>=a&&n<=o&&i>=s&&i<=l}function ff(){const t=Ee(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>Gg(t.value)}),e}function hf(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}const TM=["top","bottom"],KR=["start","end","left","right"];function cv(t,e){let[n,i]=t.split(" ");return i||(i=df(TM,n)?"start":df(KR,n)?"top":"center"),{side:uv(n,e),align:uv(i,e)}}function uv(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function qm(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function jm(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function F_(t){return{side:t.align,align:t.side}}function U_(t){return df(TM,t.side)?"y":"x"}class Ps{constructor(e){let{x:n,y:i,width:r,height:a}=e;this.x=n,this.y=i,this.width=r,this.height=a}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function z_(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function PM(t){return Array.isArray(t)?new Ps({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function Yg(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let r,a,s,o,l;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),a=+r[0],s=+r[5],o=+r[12],l=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),a=+r[0],s=+r[3],o=+r[4],l=+r[5];else return new Ps(e);const c=n.transformOrigin,u=e.x-o-(1-a)*parseFloat(c),d=e.y-l-(1-s)*parseFloat(c.slice(c.indexOf(" ")+1)),f=a?e.width/a:t.offsetWidth+1,h=s?e.height/s:t.offsetHeight+1;return new Ps({x:u,y:d,width:f,height:h})}else return new Ps(e)}function xs(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(r=>{i.onfinish=()=>{r(i)}})),i}const jd=new WeakMap;function ZR(t,e){Object.keys(e).forEach(n=>{if(mh(n)){const i=CM(n),r=jd.get(t);if(e[n]==null)r==null||r.forEach(a=>{const[s,o]=a;s===i&&(t.removeEventListener(i,o),r.delete(a))});else if(!r||![...r].some(a=>a[0]===i&&a[1]===e[n])){t.addEventListener(i,e[n]);const a=r||new Set;a.add([i,e[n]]),jd.has(t)||jd.set(t,a)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function JR(t,e){Object.keys(e).forEach(n=>{if(mh(n)){const i=CM(n),r=jd.get(t);r==null||r.forEach(a=>{const[s,o]=a;s===i&&(t.removeEventListener(i,o),r.delete(a))})}else t.removeAttribute(n)})}const ho=2.4,H_=.2126729,G_=.7151522,W_=.072175,QR=.55,eL=.58,tL=.57,nL=.62,$u=.03,$_=1.45,iL=5e-4,rL=1.25,aL=1.25,X_=.078,Y_=12.82051282051282,Xu=.06,q_=.001;function j_(t,e){const n=(t.r/255)**ho,i=(t.g/255)**ho,r=(t.b/255)**ho,a=(e.r/255)**ho,s=(e.g/255)**ho,o=(e.b/255)**ho;let l=n*H_+i*G_+r*W_,c=a*H_+s*G_+o*W_;if(l<=$u&&(l+=($u-l)**$_),c<=$u&&(c+=($u-c)**$_),Math.abs(c-l)<iL)return 0;let u;if(c>l){const d=(c**QR-l**eL)*rL;u=d<q_?0:d<X_?d-d*Y_*Xu:d-Xu}else{const d=(c**nL-l**tL)*aL;u=d>-q_?0:d>-X_?d-d*Y_*Xu:d+Xu}return u*100}function sL(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const mf=.20689655172413793,oL=t=>t>mf**3?Math.cbrt(t):t/(3*mf**2)+4/29,lL=t=>t>mf?t**3:3*mf**2*(t-4/29);function IM(t){const e=oL,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function RM(t){const e=lL,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const cL=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],uL=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,dL=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],fL=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function LM(t){const e=Array(3),n=uL,i=cL;for(let r=0;r<3;++r)e[r]=Math.round(rn(n(i[r][0]*t[0]+i[r][1]*t[1]+i[r][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function qg(t){let{r:e,g:n,b:i}=t;const r=[0,0,0],a=fL,s=dL;e=a(e/255),n=a(n/255),i=a(i/255);for(let o=0;o<3;++o)r[o]=s[o][0]*e+s[o][1]*n+s[o][2]*i;return r}function dv(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function hL(t){return dv(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const K_=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,mL={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>Z_({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>Z_({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>qr({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>qr({h:t,s:e,v:n,a:i})};function Li(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&K_.test(t)){const{groups:e}=t.match(K_),{fn:n,values:i}=e,r=i.split(/,\s*/).map(a=>a.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(a)/100:parseFloat(a));return mL[n](...r)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),NM(e)}else if(typeof t=="object"){if(bs(t,["r","g","b"]))return t;if(bs(t,["h","s","l"]))return qr(jg(t));if(bs(t,["h","s","v"]))return qr(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function qr(t){const{h:e,s:n,v:i,a:r}=t,a=o=>{const l=(o+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},s=[a(5),a(3),a(1)].map(o=>Math.round(o*255));return{r:s[0],g:s[1],b:s[2],a:r}}function Z_(t){return qr(jg(t))}function vh(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),a=Math.min(e,n,i);let s=0;r!==a&&(r===e?s=60*(0+(n-i)/(r-a)):r===n?s=60*(2+(i-e)/(r-a)):r===i&&(s=60*(4+(e-n)/(r-a)))),s<0&&(s=s+360);const o=r===0?0:(r-a)/r,l=[s,o,r];return{h:l[0],s:l[1],v:l[2],a:t.a}}function kM(t){const{h:e,s:n,v:i,a:r}=t,a=i-i*n/2,s=a===1||a===0?0:(i-a)/Math.min(a,1-a);return{h:e,s,l:a,a:r}}function jg(t){const{h:e,s:n,l:i,a:r}=t,a=i+n*Math.min(i,1-i),s=a===0?0:2-2*i/a;return{h:e,s,v:a,a:r}}function DM(t){let{r:e,g:n,b:i,a:r}=t;return r===void 0?`rgb(${e}, ${n}, ${i})`:`rgba(${e}, ${n}, ${i}, ${r})`}function OM(t){return DM(qr(t))}function Yu(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function VM(t){let{r:e,g:n,b:i,a:r}=t;return`#${[Yu(e),Yu(n),Yu(i),r!==void 0?Yu(Math.round(r*255)):""].join("")}`}function NM(t){t=pL(t);let[e,n,i,r]=$R(t,2).map(a=>parseInt(a,16));return r=r===void 0?r:r/255,{r:e,g:n,b:i,a:r}}function BM(t){const e=NM(t);return vh(e)}function FM(t){return VM(qr(t))}function pL(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=O_(O_(t,6),8,"F")),t}function vL(t,e){const n=IM(qg(t));return n[0]=n[0]+e*10,LM(RM(n))}function gL(t,e){const n=IM(qg(t));return n[0]=n[0]-e*10,LM(RM(n))}function fv(t){const e=Li(t);return qg(e)[1]}function yL(t,e){const n=fv(t),i=fv(e),r=Math.max(n,i),a=Math.min(n,i);return(r+.05)/(a+.05)}function UM(t){const e=Math.abs(j_(Li(0),Li(t)));return Math.abs(j_(Li(16777215),Li(t)))>Math.min(e,50)?"#fff":"#000"}function te(t,e){return n=>Object.keys(t).reduce((i,r)=>{const s=typeof t[r]=="object"&&t[r]!=null&&!Array.isArray(t[r])?t[r]:{type:t[r]};return n&&r in n?i[r]={...s,default:n[r]}:i[r]=s,e&&!i[r].source&&(i[r].source=e),i},{})}const Ve=te({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function qt(t,e){const n=ka();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function xr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=qt(t).type;return Es((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let zM=0,Kd=new WeakMap;function Pn(){const t=qt("getUid");if(Kd.has(t))return Kd.get(t);{const e=zM++;return Kd.set(t,e),e}}Pn.reset=()=>{zM=0,Kd=new WeakMap};function _L(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qt("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const ol=Symbol.for("vuetify:defaults");function bL(t){return pe(t)}function Kg(){const t=nt(ol);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Yt(t,e){const n=Kg(),i=pe(t),r=P(()=>{if(Ot(e==null?void 0:e.disabled))return n.value;const s=Ot(e==null?void 0:e.scoped),o=Ot(e==null?void 0:e.reset),l=Ot(e==null?void 0:e.root);if(i.value==null&&!(s||o||l))return n.value;let c=Gn(i.value,{prev:n.value});if(s)return c;if(o||l){const u=Number(o||1/0);for(let d=0;d<=u&&!(!c||!("prev"in c));d++)c=c.prev;return c&&typeof l=="string"&&l in c&&(c=Gn(Gn(c,{prev:c}),c[l])),c}return c.prev?Gn(c.prev,c):c});return Ct(ol,r),r}function xL(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[Es(e)])<"u"}function SL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Kg();const i=qt("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const r=P(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),a=new Proxy(t,{get(l,c){var d,f,h,m,v,p,g;const u=Reflect.get(l,c);return c==="class"||c==="style"?[(d=r.value)==null?void 0:d[c],u].filter(y=>y!=null):typeof c=="string"&&!xL(i.vnode,c)?((f=r.value)==null?void 0:f[c])!==void 0?(h=r.value)==null?void 0:h[c]:((v=(m=n.value)==null?void 0:m.global)==null?void 0:v[c])!==void 0?(g=(p=n.value)==null?void 0:p.global)==null?void 0:g[c]:u:u}}),s=Ee();Ft(()=>{if(r.value){const l=Object.entries(r.value).filter(c=>{let[u]=c;return u.startsWith(u[0].toUpperCase())});s.value=l.length?Object.fromEntries(l):void 0}else s.value=void 0});function o(){const l=_L(ol,i);Ct(ol,P(()=>s.value?Gn((l==null?void 0:l.value)??{},s.value):l==null?void 0:l.value))}return{props:a,provideSubDefaults:o}}function Ci(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=te(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return Wg(i,e)},t.props._as=String,t.setup=function(i,r){const a=Kg();if(!a.value)return t._setup(i,r);const{props:s,provideSubDefaults:o}=SL(i,i._as??t.name,a),l=t._setup(s,r);return o(),l}}return t}function ve(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?Ci:nl)(e)}function wL(t,e){return e.props=t,e}function Sr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ve()({name:n??_r(ui(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Ve()},setup(i,r){let{slots:a}=r;return()=>{var s;return Si(i.tag,{class:[t,i.class],style:i.style},(s=a.default)==null?void 0:s.call(a))}}})}function HM(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const Cc="cubic-bezier(0.4, 0, 0.2, 1)",ML="cubic-bezier(0.0, 0, 0.2, 1)",CL="cubic-bezier(0.4, 0, 1, 1)";function J_(t,e,n){return Object.keys(t).filter(i=>mh(i)&&i.endsWith(e)).reduce((i,r)=>(i[r.slice(0,-e.length)]=a=>t[r](a,n(a)),i),{})}function Zg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?AL(t):Jg(t))return t;t=t.parentElement}return document.scrollingElement}function pf(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(Jg(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function Jg(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function AL(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function EL(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function be(t){const e=qt("useRender");e.render=t}function We(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const a=qt("useProxiedModel"),s=pe(t[e]!==void 0?t[e]:n),o=Es(e),c=P(o!==e?()=>{var d,f,h,m;return t[e],!!(((d=a.vnode.props)!=null&&d.hasOwnProperty(e)||(f=a.vnode.props)!=null&&f.hasOwnProperty(o))&&((h=a.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)||(m=a.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var d,f;return t[e],!!((d=a.vnode.props)!=null&&d.hasOwnProperty(e)&&((f=a.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)))});ni(()=>!c.value,()=>{Te(()=>t[e],d=>{s.value=d})});const u=P({get(){const d=t[e];return i(c.value?d:s.value)},set(d){const f=r(d),h=je(c.value?t[e]:s.value);h===f||i(h)===d||(s.value=f,a==null||a.emit(`update:${e}`,f))}});return Object.defineProperty(u,"externalValue",{get:()=>c.value?t[e]:s.value}),u}const TL={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},Q_="$vuetify.",eb=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),GM=(t,e,n)=>function(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];if(!i.startsWith(Q_))return eb(i,a);const o=i.replace(Q_,""),l=t.value&&n.value[t.value],c=e.value&&n.value[e.value];let u=Ns(l,o,null);return u||(`${i}${t.value}`,u=Ns(c,o,null)),u||(u=i),typeof u!="string"&&(u=i),eb(u,a)};function WM(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function Km(t,e,n){const i=We(t,e,t[e]??n.value);return i.value=t[e]??n.value,Te(n,r=>{t[e]==null&&(i.value=n.value)}),i}function $M(t){return e=>{const n=Km(e,"locale",t.current),i=Km(e,"fallback",t.fallback),r=Km(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:r,t:GM(n,i,r),n:WM(n,i),provide:$M({current:n,fallback:i,messages:r})}}}function PL(t){const e=Ee((t==null?void 0:t.locale)??"en"),n=Ee((t==null?void 0:t.fallback)??"en"),i=pe({en:TL,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:GM(e,n,i),n:WM(e,n),provide:$M({current:e,fallback:n,messages:i})}}const ll=Symbol.for("vuetify:locale");function IL(t){return t.name!=null}function RL(t){const e=t!=null&&t.adapter&&IL(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:PL(t),n=DL(e,t);return{...e,...n}}function Jt(){const t=nt(ll);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function LL(t){const e=nt(ll);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");const n=e.provide(t),i=OL(n,e.rtl,t),r={...n,...i};return Ct(ll,r),r}function kL(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function DL(t,e){const n=pe((e==null?void 0:e.rtl)??kL()),i=P(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:P(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function OL(t,e,n){const i=P(()=>n.rtl??e.value[t.current.value]??!1);return{isRtl:i,rtl:e,rtlClasses:P(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function _n(){const t=nt(ll);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const gh={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function VL(t,e,n){const i=[];let r=[];const a=XM(t),s=YM(t),o=n??gh[e.slice(-2).toUpperCase()]??0,l=(a.getDay()-o+7)%7,c=(s.getDay()-o+7)%7;for(let u=0;u<l;u++){const d=new Date(a);d.setDate(d.getDate()-(l-u)),r.push(d)}for(let u=1;u<=s.getDate();u++){const d=new Date(t.getFullYear(),t.getMonth(),u);r.push(d),r.length===7&&(i.push(r),r=[])}for(let u=1;u<7-c;u++){const d=new Date(s);d.setDate(d.getDate()+u),r.push(d)}return r.length>0&&i.push(r),i}function NL(t,e,n){const i=n??gh[e.slice(-2).toUpperCase()]??0,r=new Date(t);for(;r.getDay()!==i;)r.setDate(r.getDate()-1);return r}function BL(t,e){const n=new Date(t),i=((gh[e.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function XM(t){return new Date(t.getFullYear(),t.getMonth(),1)}function YM(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function FL(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const UL=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function qM(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(UL.test(t))return FL(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const tb=new Date(2e3,0,2);function zL(t,e){const n=e??gh[t.slice(-2).toUpperCase()]??0;return cr(7).map(i=>{const r=new Date(tb);return r.setDate(tb.getDate()+n+i),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(r)})}function HL(t,e,n,i){const r=qM(t)??new Date,a=i==null?void 0:i[e];if(typeof a=="function")return a(r,e,n);let s={};switch(e){case"fullDate":s={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":s={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=r.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(r);return`${o} ${l}`;case"normalDateWithWeekday":s={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":s={month:"short",day:"numeric"};break;case"year":s={year:"numeric"};break;case"month":s={month:"long"};break;case"monthShort":s={month:"short"};break;case"monthAndYear":s={month:"long",year:"numeric"};break;case"monthAndDate":s={month:"long",day:"numeric"};break;case"weekday":s={weekday:"long"};break;case"weekdayShort":s={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(r.getDate());case"hours12h":s={hour:"numeric",hour12:!0};break;case"hours24h":s={hour:"numeric",hour12:!1};break;case"minutes":s={minute:"numeric"};break;case"seconds":s={second:"numeric"};break;case"fullTime":s={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":s={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":s={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":s={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:s=a??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,s).format(r)}function GL(t,e){const n=t.toJsDate(e),i=n.getFullYear(),r=V_(String(n.getMonth()+1),2,"0"),a=V_(String(n.getDate()),2,"0");return`${i}-${r}-${a}`}function WL(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function $L(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function XL(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function YL(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function qL(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function jL(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function KL(t){return t.getFullYear()}function ZL(t){return t.getMonth()}function JL(t){return t.getDate()}function QL(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function ek(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function tk(t){return t.getHours()}function nk(t){return t.getMinutes()}function ik(t){return new Date(t.getFullYear(),0,1)}function rk(t){return new Date(t.getFullYear(),11,31)}function ak(t,e){return vf(t,e[0])&&lk(t,e[1])}function sk(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function vf(t,e){return t.getTime()>e.getTime()}function ok(t,e){return vf(hv(t),hv(e))}function lk(t,e){return t.getTime()<e.getTime()}function nb(t,e){return t.getTime()===e.getTime()}function ck(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function uk(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function dk(t,e){return t.getFullYear()===e.getFullYear()}function fk(t,e,n){const i=new Date(t),r=new Date(e);switch(n){case"years":return i.getFullYear()-r.getFullYear();case"quarters":return Math.floor((i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12)/4);case"months":return i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-r.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-r.getTime())/1e3);default:return i.getTime()-r.getTime()}}function hk(t,e){const n=new Date(t);return n.setHours(e),n}function mk(t,e){const n=new Date(t);return n.setMinutes(e),n}function pk(t,e){const n=new Date(t);return n.setMonth(e),n}function vk(t,e){const n=new Date(t);return n.setDate(e),n}function gk(t,e){const n=new Date(t);return n.setFullYear(e),n}function hv(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function yk(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class _k{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return qM(e)}toJsDate(e){return e}toISO(e){return GL(this,e)}parseISO(e){return WL(e)}addMinutes(e,n){return $L(e,n)}addHours(e,n){return XL(e,n)}addDays(e,n){return YL(e,n)}addWeeks(e,n){return qL(e,n)}addMonths(e,n){return jL(e,n)}getWeekArray(e,n){return VL(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return NL(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return BL(e,this.locale)}startOfMonth(e){return XM(e)}endOfMonth(e){return YM(e)}format(e,n){return HL(e,n,this.locale,this.formats)}isEqual(e,n){return nb(e,n)}isValid(e){return sk(e)}isWithinRange(e,n){return ak(e,n)}isAfter(e,n){return vf(e,n)}isAfterDay(e,n){return ok(e,n)}isBefore(e,n){return!vf(e,n)&&!nb(e,n)}isSameDay(e,n){return ck(e,n)}isSameMonth(e,n){return uk(e,n)}isSameYear(e,n){return dk(e,n)}setMinutes(e,n){return mk(e,n)}setHours(e,n){return hk(e,n)}setMonth(e,n){return pk(e,n)}setDate(e,n){return vk(e,n)}setYear(e,n){return gk(e,n)}getDiff(e,n,i){return fk(e,n,i)}getWeekdays(e){return zL(this.locale,e?Number(e):void 0)}getYear(e){return KL(e)}getMonth(e){return ZL(e)}getDate(e){return JL(e)}getNextMonth(e){return QL(e)}getPreviousMonth(e){return ek(e)}getHours(e){return tk(e)}getMinutes(e){return nk(e)}startOfDay(e){return hv(e)}endOfDay(e){return yk(e)}startOfYear(e){return ik(e)}endOfYear(e){return rk(e)}}const jM=Symbol.for("vuetify:date-options"),ib=Symbol.for("vuetify:date-adapter");function bk(t,e){const n=Gn({adapter:_k,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:KM(n,e)}}function KM(t,e){const n=kn(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return Te(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}function cu(){const t=nt(jM);if(!t)throw new Error("[Vuetify] Could not find injected date options");const e=Jt();return KM(t,e)}function xk(t,e){const n=t.toJsDate(e);let i=n.getFullYear(),r=new Date(i,0,1);if(n<r)i=i-1,r=new Date(i,0,1);else{const o=new Date(i+1,0,1);n>=o&&(i=i+1,r=o)}const a=Math.abs(n.getTime()-r.getTime()),s=Math.ceil(a/(1e3*60*60*24));return Math.floor(s/7)+1}const yh=["sm","md","lg","xl","xxl"],mv=Symbol.for("vuetify:display"),rb={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Sk=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rb;return Gn(rb,t)};function ab(t){return Mt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function sb(t){return Mt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function ob(t){const e=Mt&&!t?window.navigator.userAgent:"ssr";function n(m){return!!e.match(m)}const i=n(/android/i),r=n(/iphone|ipad|ipod/i),a=n(/cordova/i),s=n(/electron/i),o=n(/chrome/i),l=n(/edge/i),c=n(/firefox/i),u=n(/opera/i),d=n(/win/i),f=n(/mac/i),h=n(/linux/i);return{android:i,ios:r,cordova:a,electron:s,chrome:o,edge:l,firefox:c,opera:u,win:d,mac:f,linux:h,touch:BR,ssr:e==="ssr"}}function wk(t,e){const{thresholds:n,mobileBreakpoint:i}=Sk(t),r=Ee(sb(e)),a=Ee(ob(e)),s=kn({}),o=Ee(ab(e));function l(){r.value=sb(),o.value=ab()}function c(){l(),a.value=ob()}return Ft(()=>{const u=o.value<n.sm,d=o.value<n.md&&!u,f=o.value<n.lg&&!(d||u),h=o.value<n.xl&&!(f||d||u),m=o.value<n.xxl&&!(h||f||d||u),v=o.value>=n.xxl,p=u?"xs":d?"sm":f?"md":h?"lg":m?"xl":"xxl",g=typeof i=="number"?i:n[i],y=o.value<g;s.xs=u,s.sm=d,s.md=f,s.lg=h,s.xl=m,s.xxl=v,s.smAndUp=!u,s.mdAndUp=!(u||d),s.lgAndUp=!(u||d||f),s.xlAndUp=!(u||d||f||h),s.smAndDown=!(f||h||m||v),s.mdAndDown=!(h||m||v),s.lgAndDown=!(m||v),s.xlAndDown=!v,s.name=p,s.height=r.value,s.width=o.value,s.mobile=y,s.mobileBreakpoint=i,s.platform=a.value,s.thresholds=n}),Mt&&window.addEventListener("resize",l,{passive:!0}),{...za(s),update:c,ssr:!!e}}const Ks=te({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Vi(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xr();const n=nt(mv);if(!n)throw new Error("Could not find Vuetify display injection");const i=P(()=>{if(t.mobile!=null)return t.mobile;if(!t.mobileBreakpoint)return n.mobile.value;const a=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<a}),r=P(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:r,mobile:i}}const ZM=Symbol.for("vuetify:goto");function JM(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function Mk(t){return Qg(t)??(document.scrollingElement||document.body)}function Qg(t){return typeof t=="string"?document.querySelector(t):Gg(t)}function Zm(t,e,n){if(typeof t=="number")return e&&n?-t:t;let i=Qg(t),r=0;for(;i;)r+=e?i.offsetLeft:i.offsetTop,i=i.offsetParent;return r}function Ck(t,e){return{rtl:e.isRtl,options:Gn(JM(),t)}}async function lb(t,e,n,i){const r=n?"scrollLeft":"scrollTop",a=Gn((i==null?void 0:i.options)??JM(),e),s=i==null?void 0:i.rtl.value,o=(typeof t=="number"?t:Qg(t))??0,l=a.container==="parent"&&o instanceof HTMLElement?o.parentElement:Mk(a.container),c=typeof a.easing=="function"?a.easing:a.patterns[a.easing];if(!c)throw new TypeError(`Easing function "${a.easing}" not found.`);let u;if(typeof o=="number")u=Zm(o,n,s);else if(u=Zm(o,n,s)-Zm(l,n,s),a.layout){const m=window.getComputedStyle(o).getPropertyValue("--v-layout-top");m&&(u-=parseInt(m,10))}u+=a.offset,u=Ek(l,u,!!s,!!n);const d=l[r]??0;if(u===d)return Promise.resolve(u);const f=performance.now();return new Promise(h=>requestAnimationFrame(function m(v){const g=(v-f)/a.duration,y=Math.floor(d+(u-d)*c(rn(g,0,1)));if(l[r]=y,g>=1&&Math.abs(y-l[r])<10)return h(u);if(g>2)return h(l[r]);requestAnimationFrame(m)}))}function Ak(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=nt(ZM),{isRtl:n}=_n();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const i={...e,rtl:P(()=>e.rtl.value||n.value)};async function r(a,s){return lb(a,Gn(t,s),!1,i)}return r.horizontal=async(a,s)=>lb(a,Gn(t,s),!0,i),r}function Ek(t,e,n,i){const{scrollWidth:r,scrollHeight:a}=t,[s,o]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,c;return i?n?(l=-(r-s),c=0):(l=0,c=r-s):(l=0,c=a+-o),Math.max(Math.min(e,c),l)}const Tk={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Pk={component:t=>Si(ty,{...t,class:"mdi"})},Ze=[String,Function,Object,Array],pv=Symbol.for("vuetify:icons"),_h=te({icon:{type:Ze},tag:{type:String,required:!0}},"icon"),vv=ve()({name:"VComponentIcon",props:_h(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return _(t.tag,null,{default:()=>{var r;return[t.icon?_(i,null,null):(r=n.default)==null?void 0:r.call(n)]}})}}}),ey=Ci({name:"VSvgIcon",inheritAttrs:!1,props:_h(),setup(t,e){let{attrs:n}=e;return()=>_(t.tag,xe(n,{style:null}),{default:()=>[_("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?_("path",{d:i[0],"fill-opacity":i[1]},null):_("path",{d:i},null)):_("path",{d:t.icon},null)])]})}}),Ik=Ci({name:"VLigatureIcon",props:_h(),setup(t){return()=>_(t.tag,null,{default:()=>[t.icon]})}}),ty=Ci({name:"VClassIcon",props:_h(),setup(t){return()=>_(t.tag,{class:t.icon},null)}});function Rk(){return{svg:{component:ey},class:{component:ty}}}function Lk(t){const e=Rk(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=Pk),Gn({defaultSet:n,sets:e,aliases:{...Tk,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const kk=t=>{const e=nt(pv);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:P(()=>{var l;const i=Ot(t);if(!i)return{component:vv};let r=i;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=(l=e.aliases)==null?void 0:l[r.slice(1)])),Array.isArray(r))return{component:ey,icon:r};if(typeof r!="string")return{component:vv,icon:r};const a=Object.keys(e.sets).find(c=>typeof r=="string"&&r.startsWith(`${c}:`)),s=a?r.slice(a.length+1):r;return{component:e.sets[a??e.defaultSet].component,icon:s}})}},Ac=Symbol.for("vuetify:theme"),pt=te({theme:String},"theme");function cb(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Dk(){var i,r;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cb();const e=cb();if(!t)return{...e,isDisabled:!0};const n={};for(const[a,s]of Object.entries(t.themes??{})){const o=s.dark||a==="dark"?(i=e.themes)==null?void 0:i.dark:(r=e.themes)==null?void 0:r.light;n[a]=Gn(o,s)}return Gn(e,{...t,themes:n})}function Ok(t){const e=Dk(t),n=pe(e.defaultTheme),i=pe(e.themes),r=P(()=>{const u={};for(const[d,f]of Object.entries(i.value)){const h=u[d]={...f,colors:{...f.colors}};if(e.variations)for(const m of e.variations.colors){const v=h.colors[m];if(v)for(const p of["lighten","darken"]){const g=p==="lighten"?vL:gL;for(const y of cr(e.variations[p],1))h.colors[`${m}-${p}-${y}`]=VM(g(Li(v),y))}}for(const m of Object.keys(h.colors)){if(/^on-[a-z]/.test(m)||h.colors[`on-${m}`])continue;const v=`on-${m}`,p=Li(h.colors[m]);h.colors[v]=UM(p)}}return u}),a=P(()=>r.value[n.value]),s=P(()=>{var m;const u=[];(m=a.value)!=null&&m.dark&&Qa(u,":root",["color-scheme: dark"]),Qa(u,":root",ub(a.value));for(const[v,p]of Object.entries(r.value))Qa(u,`.v-theme--${v}`,[`color-scheme: ${p.dark?"dark":"normal"}`,...ub(p)]);const d=[],f=[],h=new Set(Object.values(r.value).flatMap(v=>Object.keys(v.colors)));for(const v of h)/^on-[a-z]/.test(v)?Qa(f,`.${v}`,[`color: rgb(var(--v-theme-${v})) !important`]):(Qa(d,`.bg-${v}`,[`--v-theme-overlay-multiplier: var(--v-theme-${v}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${v})) !important`,`color: rgb(var(--v-theme-on-${v})) !important`]),Qa(f,`.text-${v}`,[`color: rgb(var(--v-theme-${v})) !important`]),Qa(f,`.border-${v}`,[`--v-border-color: var(--v-theme-${v})`]));return u.push(...d,...f),u.map((v,p)=>p===0?v:`    ${v}`).join("")});function o(){return{style:[{children:s.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(u){if(e.isDisabled)return;const d=u._context.provides.usehead;if(d)if(d.push){const f=d.push(o);Mt&&Te(s,()=>{f.patch(o)})}else Mt?(d.addHeadObjs(P(o)),Ft(()=>d.updateDOM())):d.addHeadObjs(o());else{let h=function(){if(typeof document<"u"&&!f){const m=document.createElement("style");m.type="text/css",m.id="vuetify-theme-stylesheet",e.cspNonce&&m.setAttribute("nonce",e.cspNonce),f=m,document.head.appendChild(f)}f&&(f.innerHTML=s.value)},f=Mt?document.getElementById("vuetify-theme-stylesheet"):null;Mt?Te(s,h,{immediate:!0}):h()}}const c=P(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:i,current:a,computedThemes:r,themeClasses:c,styles:s,global:{name:n,current:a}}}function xt(t){qt("provideTheme");const e=nt(Ac,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=P(()=>t.theme??e.name.value),i=P(()=>e.themes.value[n.value]),r=P(()=>e.isDisabled?void 0:`v-theme--${n.value}`),a={...e,name:n,current:i,themeClasses:r};return Ct(Ac,a),a}function QM(){qt("useTheme");const t=nt(Ac,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function Qa(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function ub(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[r,a]of Object.entries(t.colors)){const s=Li(a);i.push(`--v-theme-${r}: ${s.r},${s.g},${s.b}`),r.startsWith("on-")||i.push(`--v-theme-${r}-overlay-multiplier: ${fv(a)>.18?e:n}`)}for(const[r,a]of Object.entries(t.variables)){const s=typeof a=="string"&&a.startsWith("#")?Li(a):void 0,o=s?`${s.r}, ${s.g}, ${s.b}`:void 0;i.push(`--v-${r}: ${o??a}`)}return i}function ji(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=ff(),i=pe();if(Mt){const r=new ResizeObserver(a=>{t==null||t(a,r),a.length&&(e==="content"?i.value=a[0].contentRect:i.value=a[0].target.getBoundingClientRect())});Tn(()=>{r.disconnect()}),Te(()=>n.el,(a,s)=>{s&&(r.unobserve(s),i.value=void 0),a&&r.observe(a)},{flush:"post"})}return{resizeRef:n,contentRect:Wr(i)}}const Ec=Symbol.for("vuetify:layout"),e1=Symbol.for("vuetify:layout-item"),db=1e3,t1=te({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Zs=te({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function n1(){const t=nt(Ec);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function Js(t){const e=nt(Ec);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${Pn()}`,i=qt("useLayoutItem");Ct(e1,{id:n});const r=Ee(!1);Ig(()=>r.value=!0),Ow(()=>r.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:s}=e.register(i,{...t,active:P(()=>r.value?!1:t.active.value),id:n});return Tn(()=>e.unregister(n)),{layoutItemStyles:a,layoutRect:e.layoutRect,layoutItemScrimStyles:s}}const Vk=(t,e,n,i)=>{let r={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...r}}];for(const s of t){const o=e.get(s),l=n.get(s),c=i.get(s);if(!o||!l||!c)continue;const u={...r,[o.value]:parseInt(r[o.value],10)+(c.value?parseInt(l.value,10):0)};a.push({id:s,layer:u}),r=u}return a};function i1(t){const e=nt(Ec,null),n=P(()=>e?e.rootZIndex.value-100:db),i=pe([]),r=kn(new Map),a=kn(new Map),s=kn(new Map),o=kn(new Map),l=kn(new Map),{resizeRef:c,contentRect:u}=ji(),d=P(()=>{const M=new Map,A=t.overlaps??[];for(const C of A.filter(S=>S.includes(":"))){const[S,w]=C.split(":");if(!i.value.includes(S)||!i.value.includes(w))continue;const T=r.get(S),I=r.get(w),D=a.get(S),N=a.get(w);!T||!I||!D||!N||(M.set(w,{position:T.value,amount:parseInt(D.value,10)}),M.set(S,{position:I.value,amount:-parseInt(N.value,10)}))}return M}),f=P(()=>{const M=[...new Set([...s.values()].map(C=>C.value))].sort((C,S)=>C-S),A=[];for(const C of M){const S=i.value.filter(w=>{var T;return((T=s.get(w))==null?void 0:T.value)===C});A.push(...S)}return Vk(A,r,a,o)}),h=P(()=>!Array.from(l.values()).some(M=>M.value)),m=P(()=>f.value[f.value.length-1].layer),v=P(()=>({"--v-layout-left":Le(m.value.left),"--v-layout-right":Le(m.value.right),"--v-layout-top":Le(m.value.top),"--v-layout-bottom":Le(m.value.bottom),...h.value?void 0:{transition:"none"}})),p=P(()=>f.value.slice(1).map((M,A)=>{let{id:C}=M;const{layer:S}=f.value[A],w=a.get(C),T=r.get(C);return{id:C,...S,size:Number(w.value),position:T.value}})),g=M=>p.value.find(A=>A.id===M),y=qt("createLayout"),b=Ee(!1);cn(()=>{b.value=!0}),Ct(Ec,{register:(M,A)=>{let{id:C,order:S,position:w,layoutSize:T,elementSize:I,active:D,disableTransitions:N,absolute:$}=A;s.set(C,S),r.set(C,w),a.set(C,T),o.set(C,D),N&&l.set(C,N);const Z=zo(e1,y==null?void 0:y.vnode).indexOf(M);Z>-1?i.value.splice(Z,0,C):i.value.push(C);const Y=P(()=>p.value.findIndex(se=>se.id===C)),j=P(()=>n.value+f.value.length*2-Y.value*2),q=P(()=>{const se=w.value==="left"||w.value==="right",Ce=w.value==="right",Q=w.value==="bottom",he=I.value??T.value,J=he===0?"%":"px",W={[w.value]:0,zIndex:j.value,transform:`translate${se?"X":"Y"}(${(D.value?0:-(he===0?100:he))*(Ce||Q?-1:1)}${J})`,position:$.value||n.value!==db?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!b.value)return W;const re=p.value[Y.value];if(!re)throw new Error(`[Vuetify] Could not find layout item "${C}"`);const de=d.value.get(C);return de&&(re[de.position]+=de.amount),{...W,height:se?`calc(100% - ${re.top}px - ${re.bottom}px)`:I.value?`${I.value}px`:void 0,left:Ce?void 0:`${re.left}px`,right:Ce?`${re.right}px`:void 0,top:w.value!=="bottom"?`${re.top}px`:void 0,bottom:w.value!=="top"?`${re.bottom}px`:void 0,width:se?I.value?`${I.value}px`:void 0:`calc(100% - ${re.left}px - ${re.right}px)`}}),F=P(()=>({zIndex:j.value-1}));return{layoutItemStyles:q,layoutItemScrimStyles:F,zIndex:j}},unregister:M=>{s.delete(M),r.delete(M),a.delete(M),o.delete(M),l.delete(M),i.value=i.value.filter(A=>A!==M)},mainRect:m,mainStyles:v,getLayoutItem:g,items:p,layoutRect:u,rootZIndex:n});const x=P(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),E=P(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:x,layoutStyles:E,getLayoutItem:g,items:p,layoutRect:u,layoutRef:c}}function r1(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=Gn(e,n),{aliases:r={},components:a={},directives:s={}}=i,o=bL(i.defaults),l=wk(i.display,i.ssr),c=Ok(i.theme),u=Lk(i.icons),d=RL(i.locale),f=bk(i.date,d),h=Ck(i.goTo,d);return{install:v=>{for(const p in s)v.directive(p,s[p]);for(const p in a)v.component(p,a[p]);for(const p in r)v.component(p,Ci({...r[p],name:p,aliasName:r[p].name}));if(c.install(v),v.provide(ol,o),v.provide(mv,l),v.provide(Ac,c),v.provide(pv,u),v.provide(ll,d),v.provide(jM,f.options),v.provide(ib,f.instance),v.provide(ZM,h),Mt&&i.ssr)if(v.$nuxt)v.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:p}=v;v.mount=function(){const g=p(...arguments);return vt(()=>l.update()),v.mount=p,g}}Pn.reset(),v.mixin({computed:{$vuetify(){return kn({defaults:mo.call(this,ol),display:mo.call(this,mv),theme:mo.call(this,Ac),icons:mo.call(this,pv),locale:mo.call(this,ll),date:mo.call(this,ib)})}}})},defaults:o,display:l,theme:c,icons:u,locale:d,date:f,goTo:h}}const Nk="3.7.1";r1.version=Nk;function mo(t){var i,r;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((r=e.vnode.appContext)==null?void 0:r.provides);if(n&&t in n)return n[t]}const Bk=te({...Ve(),...t1({fullHeight:!0}),...pt()},"VApp"),Fk=ve()({name:"VApp",props:Bk(),setup(t,e){let{slots:n}=e;const i=xt(t),{layoutClasses:r,getLayoutItem:a,items:s,layoutRef:o}=i1(t),{rtlClasses:l}=_n();return be(()=>{var c;return _("div",{ref:o,class:["v-application",i.themeClasses.value,r.value,l.value,t.class],style:[t.style]},[_("div",{class:"v-application__wrap"},[(c=n.default)==null?void 0:c.call(n)])])}),{getLayoutItem:a,items:s,theme:i}}}),it=te({tag:{type:String,default:"div"}},"tag"),a1=te({text:String,...Ve(),...it()},"VToolbarTitle"),ny=ve()({name:"VToolbarTitle",props:a1(),setup(t,e){let{slots:n}=e;return be(()=>{const i=!!(n.default||n.text||t.text);return _(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var r;return[i&&_("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(r=n.default)==null?void 0:r.call(n)])]}})}),{}}}),Uk=te({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Ai(t,e,n){return ve()({name:t,props:Uk({mode:n,origin:e}),setup(i,r){let{slots:a}=r;const s={onBeforeEnter(o){i.origin&&(o.style.transformOrigin=i.origin)},onLeave(o){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:u,offsetHeight:d}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${c}px`,o.style.width=`${u}px`,o.style.height=`${d}px`}i.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(i.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:c,left:u,width:d,height:f}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=c||"",o.style.left=u||"",o.style.width=d||"",o.style.height=f||""}}};return()=>{const o=i.group?Ug:Da;return Si(o,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:s},a.default)}}})}function s1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ve()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,r){let{slots:a}=r;const s=i.group?Ug:Da;return()=>Si(s,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},a.default)}})}function o1(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=ui(`offset-${n}`);return{onBeforeEnter(s){s._parent=s.parentNode,s._initialStyle={transition:s.style.transition,overflow:s.style.overflow,[n]:s.style[n]}},onEnter(s){const o=s._initialStyle;s.style.setProperty("transition","none","important"),s.style.overflow="hidden";const l=`${s[i]}px`;s.style[n]="0",s.offsetHeight,s.style.transition=o.transition,t&&s._parent&&s._parent.classList.add(t),requestAnimationFrame(()=>{s.style[n]=l})},onAfterEnter:a,onEnterCancelled:a,onLeave(s){s._initialStyle={transition:"",overflow:s.style.overflow,[n]:s.style[n]},s.style.overflow="hidden",s.style[n]=`${s[i]}px`,s.offsetHeight,requestAnimationFrame(()=>s.style[n]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(s){t&&s._parent&&s._parent.classList.remove(t),a(s)}function a(s){const o=s._initialStyle[n];s.style.overflow=s._initialStyle.overflow,o!=null&&(s.style[n]=o),delete s._initialStyle}}const zk=te({target:[Object,Array]},"v-dialog-transition"),bh=ve()({name:"VDialogTransition",props:zk(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,a){var f;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),r.style.visibility="";const{x:s,y:o,sx:l,sy:c,speed:u}=hb(t.target,r),d=xs(r,[{transform:`translate(${s}px, ${o}px) scale(${l}, ${c})`,opacity:0},{}],{duration:225*u,easing:ML});(f=fb(r))==null||f.forEach(h=>{xs(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:Cc})}),d.finished.then(()=>a())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,a){var f;await new Promise(h=>requestAnimationFrame(h));const{x:s,y:o,sx:l,sy:c,speed:u}=hb(t.target,r);xs(r,[{},{transform:`translate(${s}px, ${o}px) scale(${l}, ${c})`,opacity:0}],{duration:125*u,easing:CL}).finished.then(()=>a()),(f=fb(r))==null||f.forEach(h=>{xs(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:Cc})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>t.target?_(Da,xe({name:"dialog-transition"},i,{css:!1}),n):_(Da,{name:"dialog-transition"},n)}});function fb(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function hb(t,e){const n=PM(t),i=Yg(e),[r,a]=getComputedStyle(e).transformOrigin.split(" ").map(g=>parseFloat(g)),[s,o]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;s==="left"||o==="left"?l-=n.width/2:(s==="right"||o==="right")&&(l+=n.width/2);let c=n.top+n.height/2;s==="top"||o==="top"?c-=n.height/2:(s==="bottom"||o==="bottom")&&(c+=n.height/2);const u=n.width/i.width,d=n.height/i.height,f=Math.max(1,u,d),h=u/f||0,m=d/f||0,v=i.width*i.height/(window.innerWidth*window.innerHeight),p=v>.12?Math.min(1.5,(v-.12)*10+1):1;return{x:l-(r+i.left),y:c-(a+i.top),sx:h,sy:m,speed:p}}const Hk=Ai("fab-transition","center center","out-in"),Gk=Ai("dialog-bottom-transition"),Wk=Ai("dialog-top-transition"),Tc=Ai("fade-transition"),iy=Ai("scale-transition"),$k=Ai("scroll-x-transition"),Xk=Ai("scroll-x-reverse-transition"),Yk=Ai("scroll-y-transition"),qk=Ai("scroll-y-reverse-transition"),jk=Ai("slide-x-transition"),Kk=Ai("slide-x-reverse-transition"),ry=Ai("slide-y-transition"),Zk=Ai("slide-y-reverse-transition"),xh=s1("expand-transition",o1()),ay=s1("expand-x-transition",o1("",!0)),Jk=te({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),ut=ve(!1)({name:"VDefaultsProvider",props:Jk(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:r,reset:a,root:s,scoped:o}=za(t);return Yt(i,{reset:a,root:s,scoped:o,disabled:r}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),un=te({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function dn(t){return{dimensionStyles:P(()=>{const n={},i=Le(t.height),r=Le(t.maxHeight),a=Le(t.maxWidth),s=Le(t.minHeight),o=Le(t.minWidth),l=Le(t.width);return i!=null&&(n.height=i),r!=null&&(n.maxHeight=r),a!=null&&(n.maxWidth=a),s!=null&&(n.minHeight=s),o!=null&&(n.minWidth=o),l!=null&&(n.width=l),n})}}function Qk(t){return{aspectStyles:P(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const l1=te({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Ve(),...un()},"VResponsive"),gv=ve()({name:"VResponsive",props:l1(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=Qk(t),{dimensionStyles:r}=dn(t);return be(()=>{var a;return _("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[r.value,t.style]},[_("div",{class:"v-responsive__sizer",style:i.value},null),(a=n.additional)==null?void 0:a.call(n),n.default&&_("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}});function sy(t){return $g(()=>{const e=[],n={};if(t.value.background)if(dv(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&hL(t.value.background)){const i=Li(t.value.background);if(i.a==null||i.a===1){const r=UM(i);n.color=r,n.caretColor=r}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(dv(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function On(t,e){const n=P(()=>({text:Bt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:r}=sy(n);return{textColorClasses:i,textColorStyles:r}}function kt(t,e){const n=P(()=>({background:Bt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:r}=sy(n);return{backgroundColorClasses:i,backgroundColorStyles:r}}const Gt=te({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function jt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xr();return{roundedClasses:P(()=>{const i=Bt(t)?t.value:t.rounded,r=Bt(t)?t.value:t.tile,a=[];if(i===!0||i==="")a.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const s of String(i).split(" "))a.push(`rounded-${s}`);else(r||i===!1)&&a.push("rounded-0");return a})}}const er=te({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),Wn=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:r,group:a,...s}=t,{component:o=a?Ug:Da,...l}=typeof i=="object"?i:{};return Si(o,xe(typeof i=="string"?{name:r?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:r,group:a}).filter(c=>{let[u,d]=c;return d!==void 0})),s),n)};function eD(t,e){if(!zg)return;const n=e.modifiers||{},i=e.value,{handler:r,options:a}=typeof i=="object"?i:{handler:i,options:{}},s=new IntersectionObserver(function(){var d;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=(d=t._observe)==null?void 0:d[e.instance.$.uid];if(!c)return;const u=o.some(f=>f.isIntersecting);r&&(!n.quiet||c.init)&&(!n.once||u||c.init)&&r(u,o,l),u&&n.once?c1(t,e):c.init=!0},a);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:s},s.observe(t)}function c1(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const uu={mounted:eD,unmounted:c1},u1=te({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...l1(),...Ve(),...Gt(),...er()},"VImg"),jr=ve()({name:"VImg",directives:{intersect:uu},props:u1(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:r,backgroundColorStyles:a}=kt(ue(t,"color")),{roundedClasses:s}=jt(t),o=qt("VImg"),l=Ee(""),c=pe(),u=Ee(t.eager?"loading":"idle"),d=Ee(),f=Ee(),h=P(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),m=P(()=>h.value.aspect||d.value/f.value||0);Te(()=>t.src,()=>{v(u.value!=="idle")}),Te(m,(I,D)=>{!I&&D&&c.value&&x(c.value)}),Rg(()=>v());function v(I){if(!(t.eager&&I)&&!(zg&&!I&&!t.eager)){if(u.value="loading",h.value.lazySrc){const D=new Image;D.src=h.value.lazySrc,x(D,null)}h.value.src&&vt(()=>{var D;n("loadstart",((D=c.value)==null?void 0:D.currentSrc)||h.value.src),setTimeout(()=>{var N;if(!o.isUnmounted)if((N=c.value)!=null&&N.complete){if(c.value.naturalWidth||g(),u.value==="error")return;m.value||x(c.value,null),u.value==="loading"&&p()}else m.value||x(c.value),y()})})}}function p(){var I;o.isUnmounted||(y(),x(c.value),u.value="loaded",n("load",((I=c.value)==null?void 0:I.currentSrc)||h.value.src))}function g(){var I;o.isUnmounted||(u.value="error",n("error",((I=c.value)==null?void 0:I.currentSrc)||h.value.src))}function y(){const I=c.value;I&&(l.value=I.currentSrc||I.src)}let b=-1;Tn(()=>{clearTimeout(b)});function x(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const N=()=>{if(clearTimeout(b),o.isUnmounted)return;const{naturalHeight:$,naturalWidth:U}=I;$||U?(d.value=U,f.value=$):!I.complete&&u.value==="loading"&&D!=null?b=window.setTimeout(N,D):(I.currentSrc.endsWith(".svg")||I.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,f.value=1)};N()}const E=P(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),M=()=>{var N;if(!h.value.src||u.value==="idle")return null;const I=_("img",{class:["v-img__img",E.value],style:{objectPosition:t.position},src:h.value.src,srcset:h.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:c,onLoad:p,onError:g},null),D=(N=i.sources)==null?void 0:N.call(i);return _(Wn,{transition:t.transition,appear:!0},{default:()=>[Xt(D?_("picture",{class:"v-img__picture"},[D,I]):I,[[Qi,u.value==="loaded"]])]})},A=()=>_(Wn,{transition:t.transition},{default:()=>[h.value.lazySrc&&u.value!=="loaded"&&_("img",{class:["v-img__img","v-img__img--preload",E.value],style:{objectPosition:t.position},src:h.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),C=()=>i.placeholder?_(Wn,{transition:t.transition,appear:!0},{default:()=>[(u.value==="loading"||u.value==="error"&&!i.error)&&_("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,S=()=>i.error?_(Wn,{transition:t.transition,appear:!0},{default:()=>[u.value==="error"&&_("div",{class:"v-img__error"},[i.error()])]}):null,w=()=>t.gradient?_("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,T=Ee(!1);{const I=Te(m,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.value=!0})}),I())})}return be(()=>{const I=gv.filterProps(t);return Xt(_(gv,xe({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!T.value},r.value,s.value,t.class],style:[{width:Le(t.width==="auto"?d.value:t.width)},a.value,t.style]},I,{aspectRatio:m.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>_(Fe,null,[_(M,null,null),_(A,null,null),_(w,null,null),_(C,null,null),_(S,null,null)]),default:i.default}),[[Mi("intersect"),{handler:v,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:c,state:u,naturalWidth:d,naturalHeight:f}}}),di=te({border:[Boolean,Number,String]},"border");function Ei(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xr();return{borderClasses:P(()=>{const i=Bt(t)?t.value:t.border,r=[];if(i===!0||i==="")r.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))r.push(`border-${a}`);return r})}}const bn=te({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function In(t){return{elevationClasses:P(()=>{const n=Bt(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const tD=[null,"prominent","default","comfortable","compact"],d1=te({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>tD.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...di(),...Ve(),...bn(),...Gt(),...it({tag:"header"}),...pt()},"VToolbar"),yv=ve()({name:"VToolbar",props:d1(),setup(t,e){var h;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:r}=kt(ue(t,"color")),{borderClasses:a}=Ei(t),{elevationClasses:s}=In(t),{roundedClasses:o}=jt(t),{themeClasses:l}=xt(t),{rtlClasses:c}=_n(),u=Ee(!!(t.extended||(h=n.extension)!=null&&h.call(n))),d=P(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),f=P(()=>u.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Yt({VBtn:{variant:"text"}}),be(()=>{var g;const m=!!(t.title||n.title),v=!!(n.image||t.image),p=(g=n.extension)==null?void 0:g.call(n);return u.value=!!(t.extended||p),_(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,a.value,s.value,o.value,l.value,c.value,t.class],style:[r.value,t.style]},{default:()=>[v&&_("div",{key:"image",class:"v-toolbar__image"},[n.image?_(ut,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):_(jr,{key:"image-img",cover:!0,src:t.image},null)]),_(ut,{defaults:{VTabs:{height:Le(d.value)}}},{default:()=>{var y,b,x;return[_("div",{class:"v-toolbar__content",style:{height:Le(d.value)}},[n.prepend&&_("div",{class:"v-toolbar__prepend"},[(y=n.prepend)==null?void 0:y.call(n)]),m&&_(ny,{key:"title",text:t.title},{text:n.title}),(b=n.default)==null?void 0:b.call(n),n.append&&_("div",{class:"v-toolbar__append"},[(x=n.append)==null?void 0:x.call(n)])])]}}),_(ut,{defaults:{VTabs:{height:Le(f.value)}}},{default:()=>[_(xh,null,{default:()=>[u.value&&_("div",{class:"v-toolbar__extension",style:{height:Le(f.value)}},[p])]})]})]})}),{contentHeight:d,extensionHeight:f}}}),nD=te({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function iD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0,r=0;const a=pe(null),s=Ee(0),o=Ee(0),l=Ee(0),c=Ee(!1),u=Ee(!1),d=P(()=>Number(t.scrollThreshold)),f=P(()=>rn((d.value-s.value)/d.value||0)),h=()=>{const m=a.value;if(!m||n&&!n.value)return;i=s.value,s.value="window"in m?m.pageYOffset:m.scrollTop;const v=m instanceof Window?document.documentElement.scrollHeight:m.scrollHeight;if(r!==v){r=v;return}u.value=s.value<i,l.value=Math.abs(s.value-d.value)};return Te(u,()=>{o.value=o.value||s.value}),Te(c,()=>{o.value=0}),cn(()=>{Te(()=>t.scrollTarget,m=>{var p;const v=m?document.querySelector(m):window;v&&v!==a.value&&((p=a.value)==null||p.removeEventListener("scroll",h),a.value=v,a.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),Tn(()=>{var m;(m=a.value)==null||m.removeEventListener("scroll",h)}),n&&Te(n,h,{immediate:!0}),{scrollThreshold:d,currentScroll:s,currentThreshold:l,isScrollActive:c,scrollRatio:f,isScrollingUp:u,savedScroll:o}}function Qs(){const t=Ee(!1);return cn(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:P(()=>t.value?void 0:{transition:"none !important"}),isBooted:Wr(t)}}const rD=te({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...d1(),...Zs(),...nD(),height:{type:[Number,String],default:64}},"VAppBar"),aD=ve()({name:"VAppBar",props:rD(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=pe(),r=We(t,"modelValue"),a=P(()=>{var b;const y=new Set(((b=t.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:y.has("hide"),fullyHide:y.has("fully-hide"),inverted:y.has("inverted"),collapse:y.has("collapse"),elevate:y.has("elevate"),fadeImage:y.has("fade-image")}}),s=P(()=>{const y=a.value;return y.hide||y.fullyHide||y.inverted||y.collapse||y.elevate||y.fadeImage||!r.value}),{currentScroll:o,scrollThreshold:l,isScrollingUp:c,scrollRatio:u}=iD(t,{canScroll:s}),d=P(()=>a.value.hide||a.value.fullyHide),f=P(()=>t.collapse||a.value.collapse&&(a.value.inverted?u.value>0:u.value===0)),h=P(()=>t.flat||a.value.fullyHide&&!r.value||a.value.elevate&&(a.value.inverted?o.value>0:o.value===0)),m=P(()=>a.value.fadeImage?a.value.inverted?1-u.value:u.value:void 0),v=P(()=>{var x,E;if(a.value.hide&&a.value.inverted)return 0;const y=((x=i.value)==null?void 0:x.contentHeight)??0,b=((E=i.value)==null?void 0:E.extensionHeight)??0;return d.value?o.value<l.value||a.value.fullyHide?y+b:y:y+b});ni(P(()=>!!t.scrollBehavior),()=>{Ft(()=>{d.value?a.value.inverted?r.value=o.value>l.value:r.value=c.value||o.value<l.value:r.value=!0})});const{ssrBootStyles:p}=Qs(),{layoutItemStyles:g}=Js({id:t.name,order:P(()=>parseInt(t.order,10)),position:ue(t,"location"),layoutSize:v,elementSize:Ee(void 0),active:r,absolute:ue(t,"absolute")});return be(()=>{const y=yv.filterProps(t);return _(yv,xe({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...g.value,"--v-toolbar-image-opacity":m.value,height:void 0,...p.value},t.style]},y,{collapse:f.value,flat:h.value}),n)}),{}}}),sD=[null,"default","comfortable","compact"],wn=te({density:{type:String,default:"default",validator:t=>sD.includes(t)}},"density");function Yn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xr();return{densityClasses:P(()=>`${e}--density-${t.density}`)}}const oD=["elevated","flat","tonal","outlined","text","plain"];function Ga(t,e){return _(Fe,null,[t&&_("span",{key:"overlay",class:`${e}__overlay`},null),_("span",{key:"underlay",class:`${e}__underlay`},null)])}const Ni=te({color:String,variant:{type:String,default:"elevated",validator:t=>oD.includes(t)}},"variant");function eo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xr();const n=P(()=>{const{variant:a}=Ot(t);return`${e}--variant-${a}`}),{colorClasses:i,colorStyles:r}=sy(P(()=>{const{variant:a,color:s}=Ot(t);return{[["elevated","flat"].includes(a)?"background":"text"]:s}}));return{colorClasses:i,colorStyles:r,variantClasses:n}}const f1=te({baseColor:String,divided:Boolean,...di(),...Ve(),...wn(),...bn(),...Gt(),...it(),...pt(),...Ni()},"VBtnGroup"),_v=ve()({name:"VBtnGroup",props:f1(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=xt(t),{densityClasses:r}=Yn(t),{borderClasses:a}=Ei(t),{elevationClasses:s}=In(t),{roundedClasses:o}=jt(t);Yt({VBtn:{height:"auto",baseColor:ue(t,"baseColor"),color:ue(t,"color"),density:ue(t,"density"),flat:!0,variant:ue(t,"variant")}}),be(()=>_(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,a.value,r.value,s.value,o.value,t.class],style:t.style},n))}}),to=te({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),no=te({value:null,disabled:Boolean,selectedClass:String},"group-item");function io(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=qt("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=Pn();Ct(Symbol.for(`${e.description}:id`),r);const a=nt(e,null);if(!a){if(!n)return a;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const s=ue(t,"value"),o=P(()=>!!(a.disabled.value||t.disabled));a.register({id:r,value:s,disabled:o},i),Tn(()=>{a.unregister(r)});const l=P(()=>a.isSelected(r)),c=P(()=>a.items.value[0].id===r),u=P(()=>a.items.value[a.items.value.length-1].id===r),d=P(()=>l.value&&[a.selectedClass.value,t.selectedClass]);return Te(l,f=>{i.emit("group:selected",{value:f})},{flush:"sync"}),{id:r,isSelected:l,isFirst:c,isLast:u,toggle:()=>a.select(r,!l.value),select:f=>a.select(r,f),selectedClass:d,value:s,disabled:o,group:a}}function Wa(t,e){let n=!1;const i=kn([]),r=We(t,"modelValue",[],f=>f==null?[]:h1(i,$t(f)),f=>{const h=cD(i,f);return t.multiple?h:h[0]}),a=qt("useGroup");function s(f,h){const m=f,v=Symbol.for(`${e.description}:id`),g=zo(v,a==null?void 0:a.vnode).indexOf(h);Ot(m.value)==null&&(m.value=g,m.useIndexAsValue=!0),g>-1?i.splice(g,0,m):i.push(m)}function o(f){if(n)return;l();const h=i.findIndex(m=>m.id===f);i.splice(h,1)}function l(){const f=i.find(h=>!h.disabled);f&&t.mandatory==="force"&&!r.value.length&&(r.value=[f.id])}cn(()=>{l()}),Tn(()=>{n=!0}),Lg(()=>{for(let f=0;f<i.length;f++)i[f].useIndexAsValue&&(i[f].value=f)});function c(f,h){const m=i.find(v=>v.id===f);if(!(h&&(m!=null&&m.disabled)))if(t.multiple){const v=r.value.slice(),p=v.findIndex(y=>y===f),g=~p;if(h=h??!g,g&&t.mandatory&&v.length<=1||!g&&t.max!=null&&v.length+1>t.max)return;p<0&&h?v.push(f):p>=0&&!h&&v.splice(p,1),r.value=v}else{const v=r.value.includes(f);if(t.mandatory&&v)return;r.value=h??!v?[f]:[]}}function u(f){if(t.multiple,r.value.length){const h=r.value[0],m=i.findIndex(g=>g.id===h);let v=(m+f)%i.length,p=i[v];for(;p.disabled&&v!==m;)v=(v+f)%i.length,p=i[v];if(p.disabled)return;r.value=[i[v].id]}else{const h=i.find(m=>!m.disabled);h&&(r.value=[h.id])}}const d={register:s,unregister:o,selected:r,select:c,disabled:ue(t,"disabled"),prev:()=>u(i.length-1),next:()=>u(1),isSelected:f=>r.value.includes(f),selectedClass:P(()=>t.selectedClass),items:P(()=>i),getItemIndex:f=>lD(i,f)};return Ct(e,d),d}function lD(t,e){const n=h1(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function h1(t,e){const n=[];return e.forEach(i=>{const r=t.find(s=>br(i,s.value)),a=t[i];(r==null?void 0:r.value)!=null?n.push(r.id):a!=null&&n.push(a.id)}),n}function cD(t,e){const n=[];return e.forEach(i=>{const r=t.findIndex(a=>a.id===i);if(~r){const a=t[r];n.push(a.value!=null?a.value:r)}}),n}const oy=Symbol.for("vuetify:v-btn-toggle"),uD=te({...f1(),...to()},"VBtnToggle"),dD=ve()({name:"VBtnToggle",props:uD(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:r,prev:a,select:s,selected:o}=Wa(t,oy);return be(()=>{const l=_v.filterProps(t);return _(_v,xe({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,next:r,prev:a,select:s,selected:o})]}})}),{next:r,prev:a,select:s}}}),fD=["x-small","small","default","large","x-large"],wr=te({size:{type:[String,Number],default:"default"}},"size");function yl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xr();return $g(()=>{let n,i;return df(fD,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:Le(t.size),height:Le(t.size)}),{sizeClasses:n,sizeStyles:i}})}const hD=te({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ze,...Ve(),...wr(),...it({tag:"i"}),...pt()},"VIcon"),_t=ve()({name:"VIcon",props:hD(),setup(t,e){let{attrs:n,slots:i}=e;const r=pe(),{themeClasses:a}=xt(t),{iconData:s}=kk(P(()=>r.value||t.icon)),{sizeClasses:o}=yl(t),{textColorClasses:l,textColorStyles:c}=On(ue(t,"color"));return be(()=>{var f,h;const u=(f=i.default)==null?void 0:f.call(i);u&&(r.value=(h=MM(u).filter(m=>m.type===ou&&m.children&&typeof m.children=="string")[0])==null?void 0:h.children);const d=!!(n.onClick||n.onClickOnce);return _(s.value.component,{tag:t.tag,icon:s.value.icon,class:["v-icon","notranslate",a.value,o.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[o.value?void 0:{fontSize:Le(t.size),height:Le(t.size),width:Le(t.size)},c.value,t.style],role:d?"button":void 0,"aria-hidden":!d,tabindex:d?t.disabled?-1:0:void 0},{default:()=>[u]})}),{}}});function Sh(t,e){const n=pe(),i=Ee(!1);if(zg){const r=new IntersectionObserver(a=>{i.value=!!a.find(s=>s.isIntersecting)},e);Tn(()=>{r.disconnect()}),Te(n,(a,s)=>{s&&(r.unobserve(s),i.value=!1),a&&r.observe(a)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const mD=te({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ve(),...wr(),...it({tag:"div"}),...pt()},"VProgressCircular"),cl=ve()({name:"VProgressCircular",props:mD(),setup(t,e){let{slots:n}=e;const i=20,r=2*Math.PI*i,a=pe(),{themeClasses:s}=xt(t),{sizeClasses:o,sizeStyles:l}=yl(t),{textColorClasses:c,textColorStyles:u}=On(ue(t,"color")),{textColorClasses:d,textColorStyles:f}=On(ue(t,"bgColor")),{intersectionRef:h,isIntersecting:m}=Sh(),{resizeRef:v,contentRect:p}=ji(),g=P(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),y=P(()=>Number(t.width)),b=P(()=>l.value?Number(t.size):p.value?p.value.width:Math.max(y.value,32)),x=P(()=>i/(1-y.value/b.value)*2),E=P(()=>y.value/b.value*x.value),M=P(()=>Le((100-g.value)/100*r));return Ft(()=>{h.value=a.value,v.value=a.value}),be(()=>_(t.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":m.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},s.value,o.value,c.value,t.class],style:[l.value,u.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:g.value},{default:()=>[_("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${x.value} ${x.value}`},[_("circle",{class:["v-progress-circular__underlay",d.value],style:f.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":E.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),_("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":E.value,"stroke-dasharray":r,"stroke-dashoffset":M.value},null)]),n.default&&_("div",{class:"v-progress-circular__content"},[n.default({value:g.value})])]})),{}}}),mb={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},ia=te({location:String},"location");function ro(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=_n();return{locationStyles:P(()=>{if(!t.location)return{};const{side:a,align:s}=cv(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function o(c){return n?n(c):0}const l={};return a!=="center"&&(e?l[mb[a]]=`calc(100% - ${o(a)}px)`:l[a]=0),s!=="center"?e?l[mb[s]]=`calc(100% - ${o(s)}px)`:l[s]=0:(a==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[a]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[a]),l})}}const pD=te({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ve(),...ia({location:"top"}),...Gt(),...it(),...pt()},"VProgressLinear"),wh=ve()({name:"VProgressLinear",props:pD(),emits:{"update:modelValue":t=>!0},setup(t,e){var T;let{slots:n}=e;const i=We(t,"modelValue"),{isRtl:r,rtlClasses:a}=_n(),{themeClasses:s}=xt(t),{locationStyles:o}=ro(t),{textColorClasses:l,textColorStyles:c}=On(t,"color"),{backgroundColorClasses:u,backgroundColorStyles:d}=kt(P(()=>t.bgColor||t.color)),{backgroundColorClasses:f,backgroundColorStyles:h}=kt(P(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:m,backgroundColorStyles:v}=kt(t,"color"),{roundedClasses:p}=jt(t),{intersectionRef:g,isIntersecting:y}=Sh(),b=P(()=>parseFloat(t.max)),x=P(()=>parseFloat(t.height)),E=P(()=>rn(parseFloat(t.bufferValue)/b.value*100,0,100)),M=P(()=>rn(parseFloat(i.value)/b.value*100,0,100)),A=P(()=>r.value!==t.reverse),C=P(()=>t.indeterminate?"fade-transition":"slide-x-transition"),S=Mt&&((T=window.matchMedia)==null?void 0:T.call(window,"(forced-colors: active)").matches);function w(I){if(!g.value)return;const{left:D,right:N,width:$}=g.value.getBoundingClientRect(),U=A.value?$-I.clientX+(N-$):I.clientX-D;i.value=Math.round(U/$*b.value)}return be(()=>_(t.tag,{ref:g,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&y.value,"v-progress-linear--reverse":A.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},p.value,s.value,a.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Le(x.value):0,"--v-progress-linear-height":Le(x.value),...t.absolute?o.value:{}},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:M.value,onClick:t.clickable&&w},{default:()=>[t.stream&&_("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...c.value,[A.value?"left":"right"]:Le(-x.value),borderTop:`${Le(x.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Le(x.value/4)})`,width:Le(100-E.value,"%"),"--v-progress-linear-stream-to":Le(x.value*(A.value?1:-1))}},null),_("div",{class:["v-progress-linear__background",S?void 0:u.value],style:[d.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),_("div",{class:["v-progress-linear__buffer",S?void 0:f.value],style:[h.value,{opacity:parseFloat(t.bufferOpacity),width:Le(E.value,"%")}]},null),_(Da,{name:C.value},{default:()=>[t.indeterminate?_("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(I=>_("div",{key:I,class:["v-progress-linear__indeterminate",I,S?void 0:m.value],style:v.value},null))]):_("div",{class:["v-progress-linear__determinate",S?void 0:m.value],style:[v.value,{width:Le(M.value,"%")}]},null)]}),n.default&&_("div",{class:"v-progress-linear__content"},[n.default({value:M.value,buffer:E.value})])]})),{}}}),Mh=te({loading:[Boolean,String]},"loader");function du(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xr();return{loaderClasses:P(()=>({[`${e}--loading`]:t.loading}))}}function fu(t,e){var i;let{slots:n}=e;return _("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||_(wh,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const vD=["static","relative","fixed","absolute","sticky"],_l=te({position:{type:String,validator:t=>vD.includes(t)}},"position");function bl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xr();return{positionClasses:P(()=>t.position?`${e}--${t.position}`:void 0)}}function gD(){const t=qt("useRoute");return P(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function m1(){var t,e;return(e=(t=qt("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function hu(t,e){var c,u;const n=Fw("RouterLink"),i=P(()=>!!(t.href||t.to)),r=P(()=>(i==null?void 0:i.value)||B_(e,"click")||B_(t,"click"));if(typeof n=="string"||!("useLink"in n))return{isLink:i,isClickable:r,href:ue(t,"href")};const a=P(()=>({...t,to:ue(()=>t.to||"")})),s=n.useLink(a.value),o=P(()=>t.to?s:void 0),l=gD();return{isLink:i,isClickable:r,route:(c=o.value)==null?void 0:c.route,navigate:(u=o.value)==null?void 0:u.navigate,isActive:P(()=>{var d,f,h;return o.value?t.exact?l.value?((h=o.value.isExactActive)==null?void 0:h.value)&&br(o.value.route.value.query,l.value.query):((f=o.value.isExactActive)==null?void 0:f.value)??!1:((d=o.value.isActive)==null?void 0:d.value)??!1:!1}),href:P(()=>{var d;return t.to?(d=o.value)==null?void 0:d.route.value.href:t.href})}}const mu=te({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Jm=!1;function yD(t,e){let n=!1,i,r;Mt&&(vt(()=>{window.addEventListener("popstate",a),i=t==null?void 0:t.beforeEach((s,o,l)=>{Jm?n?e(l):l():setTimeout(()=>n?e(l):l()),Jm=!0}),r=t==null?void 0:t.afterEach(()=>{Jm=!1})}),Nn(()=>{window.removeEventListener("popstate",a),i==null||i(),r==null||r()}));function a(s){var o;(o=s.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function _D(t,e){Te(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&vt(()=>{e(!0)})},{immediate:!0})}const bv=Symbol("rippleStop"),bD=80;function pb(t,e){t.style.transform=e,t.style.webkitTransform=e}function xv(t){return t.constructor.name==="TouchEvent"}function p1(t){return t.constructor.name==="KeyboardEvent"}const xD=function(t,e){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,r=0;if(!p1(t)){const f=e.getBoundingClientRect(),h=xv(t)?t.touches[t.touches.length-1]:t;i=h.clientX-f.left,r=h.clientY-f.top}let a=0,s=.3;(d=e._ripple)!=null&&d.circle?(s=.15,a=e.clientWidth/2,a=n.center?a:a+Math.sqrt((i-a)**2+(r-a)**2)/4):a=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const o=`${(e.clientWidth-a*2)/2}px`,l=`${(e.clientHeight-a*2)/2}px`,c=n.center?o:`${i-a}px`,u=n.center?l:`${r-a}px`;return{radius:a,scale:s,x:c,y:u,centerX:o,centerY:l}},gf={show(t,e){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=e==null?void 0:e._ripple)!=null&&h.enabled))return;const i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:a,scale:s,x:o,y:l,centerX:c,centerY:u}=xD(t,e,n),d=`${a*2}px`;r.className="v-ripple__animation",r.style.width=d,r.style.height=d,e.appendChild(i);const f=window.getComputedStyle(e);f&&f.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),pb(r,`translate(${o}, ${l}) scale3d(${s},${s},${s})`),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),pb(r,`translate(${c}, ${u}) scale3d(1,1,1)`)},0)},hide(t){var a;if(!((a=t==null?void 0:t._ripple)!=null&&a.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),r=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===t&&t.removeChild(n.parentNode)},300)},r)}};function v1(t){return typeof t>"u"||!!t}function Pc(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[bv])){if(t[bv]=!0,xv(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||p1(t),n._ripple.class&&(e.class=n._ripple.class),xv(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{gf.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},bD)}else gf.show(t,n,e)}}function vb(t){t[bv]=!0}function yi(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{yi(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),gf.hide(e)}}function g1(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Ic=!1;function y1(t){!Ic&&(t.keyCode===k_.enter||t.keyCode===k_.space)&&(Ic=!0,Pc(t))}function _1(t){Ic=!1,yi(t)}function b1(t){Ic&&(Ic=!1,yi(t))}function x1(t,e,n){const{value:i,modifiers:r}=e,a=v1(i);if(a||gf.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=a,t._ripple.centered=r.center,t._ripple.circle=r.circle,Hg(i)&&i.class&&(t._ripple.class=i.class),a&&!n){if(r.stop){t.addEventListener("touchstart",vb,{passive:!0}),t.addEventListener("mousedown",vb);return}t.addEventListener("touchstart",Pc,{passive:!0}),t.addEventListener("touchend",yi,{passive:!0}),t.addEventListener("touchmove",g1,{passive:!0}),t.addEventListener("touchcancel",yi),t.addEventListener("mousedown",Pc),t.addEventListener("mouseup",yi),t.addEventListener("mouseleave",yi),t.addEventListener("keydown",y1),t.addEventListener("keyup",_1),t.addEventListener("blur",b1),t.addEventListener("dragstart",yi,{passive:!0})}else!a&&n&&S1(t)}function S1(t){t.removeEventListener("mousedown",Pc),t.removeEventListener("touchstart",Pc),t.removeEventListener("touchend",yi),t.removeEventListener("touchmove",g1),t.removeEventListener("touchcancel",yi),t.removeEventListener("mouseup",yi),t.removeEventListener("mouseleave",yi),t.removeEventListener("keydown",y1),t.removeEventListener("keyup",_1),t.removeEventListener("dragstart",yi),t.removeEventListener("blur",b1)}function SD(t,e){x1(t,e,!1)}function wD(t){delete t._ripple,S1(t)}function MD(t,e){if(e.value===e.oldValue)return;const n=v1(e.oldValue);x1(t,e,n)}const ra={mounted:SD,unmounted:wD,updated:MD},Ch=te({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:oy},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ze,appendIcon:Ze,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...di(),...Ve(),...wn(),...un(),...bn(),...no(),...Mh(),...ia(),..._l(),...Gt(),...mu(),...wr(),...it({tag:"button"}),...pt(),...Ni({variant:"elevated"})},"VBtn"),yt=ve()({name:"VBtn",props:Ch(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:r}=xt(t),{borderClasses:a}=Ei(t),{densityClasses:s}=Yn(t),{dimensionStyles:o}=dn(t),{elevationClasses:l}=In(t),{loaderClasses:c}=du(t),{locationStyles:u}=ro(t),{positionClasses:d}=bl(t),{roundedClasses:f}=jt(t),{sizeClasses:h,sizeStyles:m}=yl(t),v=io(t,t.symbol,!1),p=hu(t,n),g=P(()=>{var T;return t.active!==void 0?t.active:p.isLink.value?(T=p.isActive)==null?void 0:T.value:v==null?void 0:v.isSelected.value}),y=P(()=>g.value?t.activeColor??t.color:t.color),b=P(()=>{var I,D;return{color:(v==null?void 0:v.isSelected.value)&&(!p.isLink.value||((I=p.isActive)==null?void 0:I.value))||!v||((D=p.isActive)==null?void 0:D.value)?y.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:x,colorStyles:E,variantClasses:M}=eo(b),A=P(()=>(v==null?void 0:v.disabled.value)||t.disabled),C=P(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),S=P(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function w(T){var I;A.value||p.isLink.value&&(T.metaKey||T.ctrlKey||T.shiftKey||T.button!==0||n.target==="_blank")||((I=p.navigate)==null||I.call(p,T),v==null||v.toggle())}return _D(p,v==null?void 0:v.select),be(()=>{const T=p.isLink.value?"a":t.tag,I=!!(t.prependIcon||i.prepend),D=!!(t.appendIcon||i.append),N=!!(t.icon&&t.icon!==!0);return Xt(_(T,{type:T==="a"?void 0:"button",class:["v-btn",v==null?void 0:v.selectedClass.value,{"v-btn--active":g.value,"v-btn--block":t.block,"v-btn--disabled":A.value,"v-btn--elevated":C.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},r.value,a.value,x.value,s.value,l.value,c.value,d.value,f.value,h.value,M.value,t.class],style:[E.value,o.value,u.value,m.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:A.value||void 0,href:p.href.value,tabindex:t.loading||t.readonly?-1:void 0,onClick:w,value:S.value},{default:()=>{var $;return[Ga(!0,"v-btn"),!t.icon&&I&&_("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?_(ut,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):_(_t,{key:"prepend-icon",icon:t.prependIcon},null)]),_("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&N?_(_t,{key:"content-icon",icon:t.icon},null):_(ut,{key:"content-defaults",disabled:!N,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var U;return[((U=i.default)==null?void 0:U.call(i))??t.text]}})]),!t.icon&&D&&_("span",{key:"append",class:"v-btn__append"},[i.append?_(ut,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):_(_t,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&_("span",{key:"loader",class:"v-btn__loader"},[(($=i.loader)==null?void 0:$.call(i))??_(cl,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[ra,!A.value&&t.ripple,"",{center:!!t.icon}]])}),{group:v}}}),CD=te({...Ch({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),AD=ve()({name:"VAppBarNavIcon",props:CD(),setup(t,e){let{slots:n}=e;return be(()=>_(yt,xe(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),ED=ve()({name:"VAppBarTitle",props:a1(),setup(t,e){let{slots:n}=e;return be(()=>_(ny,xe(t,{class:"v-app-bar-title"}),n)),{}}}),w1=Sr("v-alert-title"),TD=["success","info","warning","error"],PD=te({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:Ze,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>TD.includes(t)},...Ve(),...wn(),...un(),...bn(),...ia(),..._l(),...Gt(),...it(),...pt(),...Ni({variant:"flat"})},"VAlert"),ID=ve()({name:"VAlert",props:PD(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=We(t,"modelValue"),a=P(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),s=P(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:o}=xt(t),{colorClasses:l,colorStyles:c,variantClasses:u}=eo(s),{densityClasses:d}=Yn(t),{dimensionStyles:f}=dn(t),{elevationClasses:h}=In(t),{locationStyles:m}=ro(t),{positionClasses:v}=bl(t),{roundedClasses:p}=jt(t),{textColorClasses:g,textColorStyles:y}=On(ue(t,"borderColor")),{t:b}=Jt(),x=P(()=>({"aria-label":b(t.closeLabel),onClick(E){r.value=!1,n("click:close",E)}}));return()=>{const E=!!(i.prepend||a.value),M=!!(i.title||t.title),A=!!(i.close||t.closable);return r.value&&_(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},o.value,l.value,d.value,h.value,v.value,p.value,u.value,t.class],style:[c.value,f.value,m.value,t.style],role:"alert"},{default:()=>{var C,S;return[Ga(!1,"v-alert"),t.border&&_("div",{key:"border",class:["v-alert__border",g.value],style:y.value},null),E&&_("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?_(ut,{key:"prepend-defaults",disabled:!a.value,defaults:{VIcon:{density:t.density,icon:a.value,size:t.prominent?44:28}}},i.prepend):_(_t,{key:"prepend-icon",density:t.density,icon:a.value,size:t.prominent?44:28},null)]),_("div",{class:"v-alert__content"},[M&&_(w1,{key:"title"},{default:()=>{var w;return[((w=i.title)==null?void 0:w.call(i))??t.title]}}),((C=i.text)==null?void 0:C.call(i))??t.text,(S=i.default)==null?void 0:S.call(i)]),i.append&&_("div",{key:"append",class:"v-alert__append"},[i.append()]),A&&_("div",{key:"close",class:"v-alert__close"},[i.close?_(ut,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var w;return[(w=i.close)==null?void 0:w.call(i,{props:x.value})]}}):_(yt,xe({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},x.value),null)])]}})}}}),RD=te({start:Boolean,end:Boolean,icon:Ze,image:String,text:String,...di(),...Ve(),...wn(),...Gt(),...wr(),...it(),...pt(),...Ni({variant:"flat"})},"VAvatar"),Oi=ve()({name:"VAvatar",props:RD(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=xt(t),{borderClasses:r}=Ei(t),{colorClasses:a,colorStyles:s,variantClasses:o}=eo(t),{densityClasses:l}=Yn(t),{roundedClasses:c}=jt(t),{sizeClasses:u,sizeStyles:d}=yl(t);return be(()=>_(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,r.value,a.value,l.value,c.value,u.value,o.value,t.class],style:[s.value,d.value,t.style]},{default:()=>[n.default?_(ut,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?_(jr,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?_(_t,{key:"icon",icon:t.icon},null):t.text,Ga(!1,"v-avatar")]})),{}}}),LD=te({text:String,onClick:En(),...Ve(),...pt()},"VLabel"),xl=ve()({name:"VLabel",props:LD(),setup(t,e){let{slots:n}=e;return be(()=>{var i;return _("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),M1=Symbol.for("vuetify:selection-control-group"),ly=te({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ze,trueIcon:Ze,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:br},...Ve(),...wn(),...pt()},"SelectionControlGroup"),kD=te({...ly({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),C1=ve()({name:"VSelectionControlGroup",props:kD(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"modelValue"),r=Pn(),a=P(()=>t.id||`v-selection-control-group-${r}`),s=P(()=>t.name||a.value),o=new Set;return Ct(M1,{modelValue:i,forceUpdate:()=>{o.forEach(l=>l())},onForceUpdate:l=>{o.add(l),Nn(()=>{o.delete(l)})}}),Yt({[t.defaultsTarget]:{color:ue(t,"color"),disabled:ue(t,"disabled"),density:ue(t,"density"),error:ue(t,"error"),inline:ue(t,"inline"),modelValue:i,multiple:P(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:s,falseIcon:ue(t,"falseIcon"),trueIcon:ue(t,"trueIcon"),readonly:ue(t,"readonly"),ripple:ue(t,"ripple"),type:ue(t,"type"),valueComparator:ue(t,"valueComparator")}}),be(()=>{var l;return _("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),Ah=te({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Ve(),...ly()},"VSelectionControl");function DD(t){const e=nt(M1,void 0),{densityClasses:n}=Yn(t),i=We(t,"modelValue"),r=P(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),a=P(()=>t.falseValue!==void 0?t.falseValue:!1),s=P(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),o=P({get(){const h=e?e.modelValue.value:i.value;return s.value?$t(h).some(m=>t.valueComparator(m,r.value)):t.valueComparator(h,r.value)},set(h){if(t.readonly)return;const m=h?r.value:a.value;let v=m;s.value&&(v=h?[...$t(i.value),m]:$t(i.value).filter(p=>!t.valueComparator(p,r.value))),e?e.modelValue.value=v:i.value=v}}),{textColorClasses:l,textColorStyles:c}=On(P(()=>{if(!(t.error||t.disabled))return o.value?t.color:t.baseColor})),{backgroundColorClasses:u,backgroundColorStyles:d}=kt(P(()=>o.value&&!t.error&&!t.disabled?t.color:t.baseColor)),f=P(()=>o.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:r,falseValue:a,model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,icon:f}}const Oa=ve()({name:"VSelectionControl",directives:{Ripple:ra},inheritAttrs:!1,props:Ah(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:r,densityClasses:a,icon:s,model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,trueValue:f}=DD(t),h=Pn(),m=Ee(!1),v=Ee(!1),p=pe(),g=P(()=>t.id||`input-${h}`),y=P(()=>!t.disabled&&!t.readonly);r==null||r.onForceUpdate(()=>{p.value&&(p.value.checked=o.value)});function b(A){y.value&&(m.value=!0,sl(A.target,":focus-visible")!==!1&&(v.value=!0))}function x(){m.value=!1,v.value=!1}function E(A){A.stopPropagation()}function M(A){if(!y.value){p.value&&(p.value.checked=o.value);return}t.readonly&&r&&vt(()=>r.forceUpdate()),o.value=A.target.checked}return be(()=>{var T,I;const A=i.label?i.label({label:t.label,props:{for:g.value}}):t.label,[C,S]=Ha(n),w=_("input",xe({ref:p,checked:o.value,disabled:!!t.disabled,id:g.value,onBlur:x,onFocus:b,onInput:M,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:f.value,name:t.name,"aria-checked":t.type==="checkbox"?o.value:void 0},S),null);return _("div",xe({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":t.inline},a.value,t.class]},C,{style:t.style}),[_("div",{class:["v-selection-control__wrapper",l.value],style:c.value},[(T=i.default)==null?void 0:T.call(i,{backgroundColorClasses:u,backgroundColorStyles:d}),Xt(_("div",{class:["v-selection-control__input"]},[((I=i.input)==null?void 0:I.call(i,{model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,inputNode:w,icon:s.value,props:{onFocus:b,onBlur:x,id:g.value}}))??_(Fe,null,[s.value&&_(_t,{key:"icon",icon:s.value},null),w])]),[[Mi("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),A&&_(xl,{for:g.value,onClick:E},{default:()=>[A]})])}),{isFocused:m,input:p}}}),A1=te({indeterminate:Boolean,indeterminateIcon:{type:Ze,default:"$checkboxIndeterminate"},...Ah({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Kr=ve()({name:"VCheckboxBtn",props:A1(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"indeterminate"),r=We(t,"modelValue");function a(l){i.value&&(i.value=!1)}const s=P(()=>i.value?t.indeterminateIcon:t.falseIcon),o=P(()=>i.value?t.indeterminateIcon:t.trueIcon);return be(()=>{const l=ln(Oa.filterProps(t),["modelValue"]);return _(Oa,xe(l,{modelValue:r.value,"onUpdate:modelValue":[c=>r.value=c,a],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:s.value,trueIcon:o.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function E1(t){const{t:e}=Jt();function n(i){let{name:r}=i;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],s=t[`onClick:${r}`],o=s&&a?e(`$vuetify.input.${a}`,t.label??""):void 0;return _(_t,{icon:t[`${r}Icon`],"aria-label":o,onClick:s},null)}return{InputIcon:n}}const OD=te({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ve(),...er({transition:{component:ry,leaveAbsolute:!0,group:!0}})},"VMessages"),T1=ve()({name:"VMessages",props:OD(),setup(t,e){let{slots:n}=e;const i=P(()=>$t(t.messages)),{textColorClasses:r,textColorStyles:a}=On(P(()=>t.color));return be(()=>_(Wn,{transition:t.transition,tag:"div",class:["v-messages",r.value,t.class],style:[a.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((s,o)=>_("div",{class:"v-messages__message",key:`${o}-${i.value}`},[n.message?n.message({message:s}):s]))]})),{}}}),pu=te({focused:Boolean,"onUpdate:focused":En()},"focus");function aa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xr();const n=We(t,"focused"),i=P(()=>({[`${e}--focused`]:n.value}));function r(){n.value=!0}function a(){n.value=!1}return{focusClasses:i,isFocused:n,focus:r,blur:a}}const P1=Symbol.for("vuetify:form"),VD=te({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function ND(t){const e=We(t,"modelValue"),n=P(()=>t.disabled),i=P(()=>t.readonly),r=Ee(!1),a=pe([]),s=pe([]);async function o(){const u=[];let d=!0;s.value=[],r.value=!0;for(const f of a.value){const h=await f.validate();if(h.length>0&&(d=!1,u.push({id:f.id,errorMessages:h})),!d&&t.fastFail)break}return s.value=u,r.value=!1,{valid:d,errors:s.value}}function l(){a.value.forEach(u=>u.reset())}function c(){a.value.forEach(u=>u.resetValidation())}return Te(a,()=>{let u=0,d=0;const f=[];for(const h of a.value)h.isValid===!1?(d++,f.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&u++;s.value=f,e.value=d>0?!1:u===a.value.length?!0:null},{deep:!0,flush:"post"}),Ct(P1,{register:u=>{let{id:d,vm:f,validate:h,reset:m,resetValidation:v}=u;a.value.some(p=>p.id===d),a.value.push({id:d,validate:h,reset:m,resetValidation:v,vm:gw(f),isValid:null,errorMessages:[]})},unregister:u=>{a.value=a.value.filter(d=>d.id!==u)},update:(u,d,f)=>{const h=a.value.find(m=>m.id===u);h&&(h.isValid=d,h.errorMessages=f)},isDisabled:n,isReadonly:i,isValidating:r,isValid:e,items:a,validateOn:ue(t,"validateOn")}),{errors:s,isDisabled:n,isReadonly:i,isValidating:r,isValid:e,items:a,validate:o,reset:l,resetValidation:c}}function Eh(){return nt(P1,null)}const I1=te({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...pu()},"validation");function R1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xr(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pn();const i=We(t,"modelValue"),r=P(()=>t.validationValue===void 0?i.value:t.validationValue),a=Eh(),s=pe([]),o=Ee(!0),l=P(()=>!!($t(i.value===""?null:i.value).length||$t(r.value===""?null:r.value).length)),c=P(()=>!!(t.disabled??(a==null?void 0:a.isDisabled.value))),u=P(()=>!!(t.readonly??(a==null?void 0:a.isReadonly.value))),d=P(()=>{var E;return(E=t.errorMessages)!=null&&E.length?$t(t.errorMessages).concat(s.value).slice(0,Math.max(0,+t.maxErrors)):s.value}),f=P(()=>{let E=(t.validateOn??(a==null?void 0:a.validateOn.value))||"input";E==="lazy"&&(E="input lazy"),E==="eager"&&(E="input eager");const M=new Set((E==null?void 0:E.split(" "))??[]);return{input:M.has("input"),blur:M.has("blur")||M.has("input")||M.has("invalid-input"),invalidInput:M.has("invalid-input"),lazy:M.has("lazy"),eager:M.has("eager")}}),h=P(()=>{var E;return t.error||(E=t.errorMessages)!=null&&E.length?!1:t.rules.length?o.value?s.value.length||f.value.lazy?null:!0:!s.value.length:!0}),m=Ee(!1),v=P(()=>({[`${e}--error`]:h.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:c.value,[`${e}--readonly`]:u.value})),p=qt("validation"),g=P(()=>t.name??Ot(n));Rg(()=>{a==null||a.register({id:g.value,vm:p,validate:x,reset:y,resetValidation:b})}),Tn(()=>{a==null||a.unregister(g.value)}),cn(async()=>{f.value.lazy||await x(!f.value.eager),a==null||a.update(g.value,h.value,d.value)}),ni(()=>f.value.input||f.value.invalidInput&&h.value===!1,()=>{Te(r,()=>{if(r.value!=null)x();else if(t.focused){const E=Te(()=>t.focused,M=>{M||x(),E()})}})}),ni(()=>f.value.blur,()=>{Te(()=>t.focused,E=>{E||x()})}),Te([h,d],()=>{a==null||a.update(g.value,h.value,d.value)});async function y(){i.value=null,await vt(),await b()}async function b(){o.value=!0,f.value.lazy?s.value=[]:await x(!f.value.eager)}async function x(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const M=[];m.value=!0;for(const A of t.rules){if(M.length>=+(t.maxErrors??1))break;const S=await(typeof A=="function"?A:()=>A)(r.value);if(S!==!0){if(S!==!1&&typeof S!="string"){console.warn(`${S} is not a valid value. Rule functions must return boolean true or a string.`);continue}M.push(S||"")}}return s.value=M,m.value=!1,o.value=E,s.value}return{errorMessages:d,isDirty:l,isDisabled:c,isReadonly:u,isPristine:o,isValid:h,isValidating:m,reset:y,resetValidation:b,validate:x,validationClasses:v}}const sa=te({id:String,appendIcon:Ze,centerAffix:{type:Boolean,default:!0},prependIcon:Ze,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":En(),"onClick:append":En(),...Ve(),...wn(),...hh(un(),["maxWidth","minWidth","width"]),...pt(),...I1()},"VInput"),Vn=ve()({name:"VInput",props:{...sa()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:r}=e;const{densityClasses:a}=Yn(t),{dimensionStyles:s}=dn(t),{themeClasses:o}=xt(t),{rtlClasses:l}=_n(),{InputIcon:c}=E1(t),u=Pn(),d=P(()=>t.id||`input-${u}`),f=P(()=>`${d.value}-messages`),{errorMessages:h,isDirty:m,isDisabled:v,isReadonly:p,isPristine:g,isValid:y,isValidating:b,reset:x,resetValidation:E,validate:M,validationClasses:A}=R1(t,"v-input",d),C=P(()=>({id:d,messagesId:f,isDirty:m,isDisabled:v,isReadonly:p,isPristine:g,isValid:y,isValidating:b,reset:x,resetValidation:E,validate:M})),S=P(()=>{var w;return(w=t.errorMessages)!=null&&w.length||!g.value&&h.value.length?h.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return be(()=>{var N,$,U,Z;const w=!!(i.prepend||t.prependIcon),T=!!(i.append||t.appendIcon),I=S.value.length>0,D=!t.hideDetails||t.hideDetails==="auto"&&(I||!!i.details);return _("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},a.value,o.value,l.value,A.value,t.class],style:[s.value,t.style]},[w&&_("div",{key:"prepend",class:"v-input__prepend"},[(N=i.prepend)==null?void 0:N.call(i,C.value),t.prependIcon&&_(c,{key:"prepend-icon",name:"prepend"},null)]),i.default&&_("div",{class:"v-input__control"},[($=i.default)==null?void 0:$.call(i,C.value)]),T&&_("div",{key:"append",class:"v-input__append"},[t.appendIcon&&_(c,{key:"append-icon",name:"append"},null),(U=i.append)==null?void 0:U.call(i,C.value)]),D&&_("div",{class:"v-input__details"},[_(T1,{id:f.value,active:I,messages:S.value},{message:i.message}),(Z=i.details)==null?void 0:Z.call(i,C.value)])])}),{reset:x,resetValidation:E,validate:M,isValid:y,errorMessages:h}}}),BD=te({...sa(),...ln(A1(),["inline"])},"VCheckbox"),FD=ve()({name:"VCheckbox",inheritAttrs:!1,props:BD(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const r=We(t,"modelValue"),{isFocused:a,focus:s,blur:o}=aa(t),l=Pn(),c=P(()=>t.id||`checkbox-${l}`);return be(()=>{const[u,d]=Ha(n),f=Vn.filterProps(t),h=Kr.filterProps(t);return _(Vn,xe({class:["v-checkbox",t.class]},u,f,{modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,id:c.value,focused:a.value,style:t.style}),{...i,default:m=>{let{id:v,messagesId:p,isDisabled:g,isReadonly:y,isValid:b}=m;return _(Kr,xe(h,{id:v.value,"aria-describedby":p.value,disabled:g.value,readonly:y.value},d,{error:b.value===!1,modelValue:r.value,"onUpdate:modelValue":x=>r.value=x,onFocus:s,onBlur:o}),i)}})}),{}}});function UD(t){let{selectedElement:e,containerElement:n,isRtl:i,isHorizontal:r}=t;const a=Rc(r,n),s=L1(r,i,n),o=Rc(r,e),l=k1(r,e),c=o*.4;return s>l?l-c:s+a<l+o?l-a+o+c:s}function zD(t){let{selectedElement:e,containerElement:n,isHorizontal:i}=t;const r=Rc(i,n),a=k1(i,e),s=Rc(i,e);return a-r/2+s/2}function gb(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function HD(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function L1(t,e,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:r,scrollWidth:a}=n;return t?e?a-r+i:i:n.scrollTop}function Rc(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function k1(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const D1=Symbol.for("vuetify:v-slide-group"),cy=te({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:D1},nextIcon:{type:Ze,default:"$next"},prevIcon:{type:Ze,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Ve(),...Ks({mobile:null}),...it(),...to({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Lc=ve()({name:"VSlideGroup",props:cy(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:i}=_n(),{displayClasses:r,mobile:a}=Vi(t),s=Wa(t,t.symbol),o=Ee(!1),l=Ee(0),c=Ee(0),u=Ee(0),d=P(()=>t.direction==="horizontal"),{resizeRef:f,contentRect:h}=ji(),{resizeRef:m,contentRect:v}=ji(),p=Ak(),g=P(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),y=P(()=>s.selected.value.length?s.items.value.findIndex(q=>q.id===s.selected.value[0]):-1),b=P(()=>s.selected.value.length?s.items.value.findIndex(q=>q.id===s.selected.value[s.selected.value.length-1]):-1);if(Mt){let q=-1;Te(()=>[s.selected.value,h.value,v.value,d.value],()=>{cancelAnimationFrame(q),q=requestAnimationFrame(()=>{if(h.value&&v.value){const F=d.value?"width":"height";c.value=h.value[F],u.value=v.value[F],o.value=c.value+1<u.value}if(y.value>=0&&m.el){const F=m.el.children[b.value];E(F,t.centerActive)}})})}const x=Ee(!1);function E(q,F){let se=0;F?se=zD({containerElement:f.el,isHorizontal:d.value,selectedElement:q}):se=UD({containerElement:f.el,isHorizontal:d.value,isRtl:i.value,selectedElement:q}),M(se)}function M(q){if(!Mt||!f.el)return;const F=Rc(d.value,f.el),se=L1(d.value,i.value,f.el);if(!(gb(d.value,f.el)<=F||Math.abs(q-se)<16)){if(d.value&&i.value&&f.el){const{scrollWidth:Q,offsetWidth:he}=f.el;q=Q-he-q}d.value?p.horizontal(q,g.value):p(q,g.value)}}function A(q){const{scrollTop:F,scrollLeft:se}=q.target;l.value=d.value?se:F}function C(q){if(x.value=!0,!(!o.value||!m.el)){for(const F of q.composedPath())for(const se of m.el.children)if(se===F){E(se);return}}}function S(q){x.value=!1}let w=!1;function T(q){var F;!w&&!x.value&&!(q.relatedTarget&&((F=m.el)!=null&&F.contains(q.relatedTarget)))&&N(),w=!1}function I(){w=!0}function D(q){if(!m.el)return;function F(se){q.preventDefault(),N(se)}d.value?q.key==="ArrowRight"?F(i.value?"prev":"next"):q.key==="ArrowLeft"&&F(i.value?"next":"prev"):q.key==="ArrowDown"?F("next"):q.key==="ArrowUp"&&F("prev"),q.key==="Home"?F("first"):q.key==="End"&&F("last")}function N(q){var se,Ce;if(!m.el)return;let F;if(!q)F=Mc(m.el)[0];else if(q==="next"){if(F=(se=m.el.querySelector(":focus"))==null?void 0:se.nextElementSibling,!F)return N("first")}else if(q==="prev"){if(F=(Ce=m.el.querySelector(":focus"))==null?void 0:Ce.previousElementSibling,!F)return N("last")}else q==="first"?F=m.el.firstElementChild:q==="last"&&(F=m.el.lastElementChild);F&&F.focus({preventScroll:!0})}function $(q){const F=d.value&&i.value?-1:1,se=(q==="prev"?-F:F)*c.value;let Ce=l.value+se;if(d.value&&i.value&&f.el){const{scrollWidth:Q,offsetWidth:he}=f.el;Ce+=Q-he}M(Ce)}const U=P(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),Z=P(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!a.value;case!0:return o.value||Math.abs(l.value)>0;case"mobile":return a.value||o.value||Math.abs(l.value)>0;default:return!a.value&&(o.value||Math.abs(l.value)>0)}}),Y=P(()=>Math.abs(l.value)>1),j=P(()=>{if(!f.value)return!1;const q=gb(d.value,f.el),F=HD(d.value,f.el);return q-F-Math.abs(l.value)>1});return be(()=>_(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":Z.value,"v-slide-group--is-overflowing":o.value},r.value,t.class],style:t.style,tabindex:x.value||s.selected.value.length?-1:0,onFocus:T},{default:()=>{var q,F,se;return[Z.value&&_("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Y.value}],onMousedown:I,onClick:()=>Y.value&&$("prev")},[((q=n.prev)==null?void 0:q.call(n,U.value))??_(Tc,null,{default:()=>[_(_t,{icon:i.value?t.nextIcon:t.prevIcon},null)]})]),_("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:A},[_("div",{ref:m,class:"v-slide-group__content",onFocusin:C,onFocusout:S,onKeydown:D},[(F=n.default)==null?void 0:F.call(n,U.value)])]),Z.value&&_("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!j.value}],onMousedown:I,onClick:()=>j.value&&$("next")},[((se=n.next)==null?void 0:se.call(n,U.value))??_(Tc,null,{default:()=>[_(_t,{icon:i.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:s.selected,scrollTo:$,scrollOffset:l,focus:N,hasPrev:Y,hasNext:j}}}),O1=Symbol.for("vuetify:v-chip-group"),GD=te({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:br},...cy(),...Ve(),...to({selectedClass:"v-chip--selected"}),...it(),...pt(),...Ni({variant:"tonal"})},"VChipGroup"),WD=ve()({name:"VChipGroup",props:GD(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=xt(t),{isSelected:r,select:a,next:s,prev:o,selected:l}=Wa(t,O1);return Yt({VChip:{color:ue(t,"color"),disabled:ue(t,"disabled"),filter:ue(t,"filter"),variant:ue(t,"variant")}}),be(()=>{const c=Lc.filterProps(t);return _(Lc,xe(c,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,select:a,next:s,prev:o,selected:l.value})]}})}),{}}}),$D=te({activeClass:String,appendAvatar:String,appendIcon:Ze,closable:Boolean,closeIcon:{type:Ze,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ze,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:En(),onClickOnce:En(),...di(),...Ve(),...wn(),...bn(),...no(),...Gt(),...mu(),...wr(),...it({tag:"span"}),...pt(),...Ni({variant:"tonal"})},"VChip"),Sl=ve()({name:"VChip",directives:{Ripple:ra},props:$D(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{t:a}=Jt(),{borderClasses:s}=Ei(t),{colorClasses:o,colorStyles:l,variantClasses:c}=eo(t),{densityClasses:u}=Yn(t),{elevationClasses:d}=In(t),{roundedClasses:f}=jt(t),{sizeClasses:h}=yl(t),{themeClasses:m}=xt(t),v=We(t,"modelValue"),p=io(t,O1,!1),g=hu(t,n),y=P(()=>t.link!==!1&&g.isLink.value),b=P(()=>!t.disabled&&t.link!==!1&&(!!p||t.link||g.isClickable.value)),x=P(()=>({"aria-label":a(t.closeLabel),onClick(A){A.preventDefault(),A.stopPropagation(),v.value=!1,i("click:close",A)}}));function E(A){var C;i("click",A),b.value&&((C=g.navigate)==null||C.call(g,A),p==null||p.toggle())}function M(A){(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),E(A))}return()=>{const A=g.isLink.value?"a":t.tag,C=!!(t.appendIcon||t.appendAvatar),S=!!(C||r.append),w=!!(r.close||t.closable),T=!!(r.filter||t.filter)&&p,I=!!(t.prependIcon||t.prependAvatar),D=!!(I||r.prepend),N=!p||p.isSelected.value;return v.value&&Xt(_(A,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":b.value,"v-chip--filter":T,"v-chip--pill":t.pill},m.value,s.value,N?o.value:void 0,u.value,d.value,f.value,h.value,c.value,p==null?void 0:p.selectedClass.value,t.class],style:[N?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,href:g.href.value,tabindex:b.value?0:void 0,onClick:E,onKeydown:b.value&&!y.value&&M},{default:()=>{var $;return[Ga(b.value,"v-chip"),T&&_(ay,{key:"filter"},{default:()=>[Xt(_("div",{class:"v-chip__filter"},[r.filter?_(ut,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},r.filter):_(_t,{key:"filter-icon",icon:t.filterIcon},null)]),[[Qi,p.isSelected.value]])]}),D&&_("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?_(ut,{key:"prepend-defaults",disabled:!I,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},r.prepend):_(Fe,null,[t.prependIcon&&_(_t,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&_(Oi,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),_("div",{class:"v-chip__content","data-no-activator":""},[(($=r.default)==null?void 0:$.call(r,{isSelected:p==null?void 0:p.isSelected.value,selectedClass:p==null?void 0:p.selectedClass.value,select:p==null?void 0:p.select,toggle:p==null?void 0:p.toggle,value:p==null?void 0:p.value.value,disabled:t.disabled}))??t.text]),S&&_("div",{key:"append",class:"v-chip__append"},[r.append?_(ut,{key:"append-defaults",disabled:!C,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},r.append):_(Fe,null,[t.appendIcon&&_(_t,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&_(Oi,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),w&&_("button",xe({key:"close",class:"v-chip__close",type:"button"},x.value),[r.close?_(ut,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},r.close):_(_t,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Mi("ripple"),b.value&&t.ripple,null]])}}}),Sv=Symbol.for("vuetify:list");function V1(){const t=nt(Sv,{hasPrepend:Ee(!1),updateHasPrepend:()=>null}),e={hasPrepend:Ee(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return Ct(Sv,e),t}function N1(){return nt(Sv,null)}const uy=t=>{const e={activate:n=>{let{id:i,value:r,activated:a}=n;return i=je(i),t&&!r&&a.size===1&&a.has(i)||(r?a.add(i):a.delete(i)),a},in:(n,i,r)=>{let a=new Set;if(n!=null)for(const s of $t(n))a=e.activate({id:s,value:!0,activated:new Set(a),children:i,parents:r});return a},out:n=>Array.from(n)};return e},B1=t=>{const e=uy(t);return{activate:i=>{let{activated:r,id:a,...s}=i;a=je(a);const o=r.has(a)?new Set([a]):new Set;return e.activate({...s,id:a,activated:o})},in:(i,r,a)=>{let s=new Set;if(i!=null){const o=$t(i);o.length&&(s=e.in(o.slice(0,1),r,a))}return s},out:(i,r,a)=>e.out(i,r,a)}},XD=t=>{const e=uy(t);return{activate:i=>{let{id:r,activated:a,children:s,...o}=i;return r=je(r),s.has(r)?a:e.activate({id:r,activated:a,children:s,...o})},in:e.in,out:e.out}},YD=t=>{const e=B1(t);return{activate:i=>{let{id:r,activated:a,children:s,...o}=i;return r=je(r),s.has(r)?a:e.activate({id:r,activated:a,children:s,...o})},in:e.in,out:e.out}},qD={open:t=>{let{id:e,value:n,opened:i,parents:r}=t;if(n){const a=new Set;a.add(e);let s=r.get(e);for(;s!=null;)a.add(s),s=r.get(s);return a}else return i.delete(e),i},select:()=>null},F1={open:t=>{let{id:e,value:n,opened:i,parents:r}=t;if(n){let a=je(r.get(e));for(i.add(e);a!=null&&a!==e;)i.add(a),a=je(r.get(a));return i}else i.delete(e);return i},select:()=>null},jD={open:F1.open,select:t=>{let{id:e,value:n,opened:i,parents:r}=t;if(!n)return i;const a=[];let s=r.get(e);for(;s!=null;)a.push(s),s=r.get(s);return new Set(a)}},dy=t=>{const e={select:n=>{let{id:i,value:r,selected:a}=n;if(i=je(i),t&&!r){const s=Array.from(a.entries()).reduce((o,l)=>{let[c,u]=l;return u==="on"&&o.push(c),o},[]);if(s.length===1&&s[0]===i)return a}return a.set(i,r?"on":"off"),a},in:(n,i,r)=>{let a=new Map;for(const s of n||[])a=e.select({id:s,value:!0,selected:new Map(a),children:i,parents:r});return a},out:n=>{const i=[];for(const[r,a]of n.entries())a==="on"&&i.push(r);return i}};return e},U1=t=>{const e=dy(t);return{select:i=>{let{selected:r,id:a,...s}=i;a=je(a);const o=r.has(a)?new Map([[a,r.get(a)]]):new Map;return e.select({...s,id:a,selected:o})},in:(i,r,a)=>{let s=new Map;return i!=null&&i.length&&(s=e.in(i.slice(0,1),r,a)),s},out:(i,r,a)=>e.out(i,r,a)}},KD=t=>{const e=dy(t);return{select:i=>{let{id:r,selected:a,children:s,...o}=i;return r=je(r),s.has(r)?a:e.select({id:r,selected:a,children:s,...o})},in:e.in,out:e.out}},ZD=t=>{const e=U1(t);return{select:i=>{let{id:r,selected:a,children:s,...o}=i;return r=je(r),s.has(r)?a:e.select({id:r,selected:a,children:s,...o})},in:e.in,out:e.out}},JD=t=>{const e={select:n=>{let{id:i,value:r,selected:a,children:s,parents:o}=n;i=je(i);const l=new Map(a),c=[i];for(;c.length;){const d=c.shift();a.set(je(d),r?"on":"off"),s.has(d)&&c.push(...s.get(d))}let u=je(o.get(i));for(;u;){const d=s.get(u),f=d.every(m=>a.get(je(m))==="on"),h=d.every(m=>!a.has(je(m))||a.get(je(m))==="off");a.set(u,f?"on":h?"off":"indeterminate"),u=je(o.get(u))}return t&&!r&&Array.from(a.entries()).reduce((f,h)=>{let[m,v]=h;return v==="on"&&f.push(m),f},[]).length===0?l:a},in:(n,i,r)=>{let a=new Map;for(const s of n||[])a=e.select({id:s,value:!0,selected:new Map(a),children:i,parents:r});return a},out:(n,i)=>{const r=[];for(const[a,s]of n.entries())s==="on"&&!i.has(a)&&r.push(a);return r}};return e},kc=Symbol.for("vuetify:nested"),z1={id:Ee(),root:{register:()=>null,unregister:()=>null,parents:pe(new Map),children:pe(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:pe(!1),selectable:pe(!1),opened:pe(new Set),activated:pe(new Set),selected:pe(new Map),selectedValues:pe([])}},QD=te({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),e2=t=>{let e=!1;const n=pe(new Map),i=pe(new Map),r=We(t,"opened",t.opened,h=>new Set(je(h)),h=>[...h.values()]),a=P(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return XD(t.mandatory);case"single-leaf":return YD(t.mandatory);case"independent":return uy(t.mandatory);case"single-independent":default:return B1(t.mandatory)}}),s=P(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return ZD(t.mandatory);case"leaf":return KD(t.mandatory);case"independent":return dy(t.mandatory);case"single-independent":return U1(t.mandatory);case"classic":default:return JD(t.mandatory)}}),o=P(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return jD;case"single":return qD;case"multiple":default:return F1}}),l=We(t,"activated",t.activated,h=>a.value.in(h,n.value,i.value),h=>a.value.out(h,n.value,i.value)),c=We(t,"selected",t.selected,h=>s.value.in(h,n.value,i.value),h=>s.value.out(h,n.value,i.value));Tn(()=>{e=!0});function u(h){const m=[];let v=h;for(;v!=null;)m.unshift(v),v=i.value.get(v);return m}const d=qt("nested"),f={id:Ee(),root:{opened:r,activatable:ue(t,"activatable"),selectable:ue(t,"selectable"),activated:l,selected:c,selectedValues:P(()=>{const h=[];for(const[m,v]of c.value.entries())v==="on"&&h.push(m);return h}),register:(h,m,v)=>{m&&h!==m&&i.value.set(h,m),v&&n.value.set(h,[]),m!=null&&n.value.set(m,[...n.value.get(m)||[],h])},unregister:h=>{if(e)return;n.value.delete(h);const m=i.value.get(h);if(m){const v=n.value.get(m)??[];n.value.set(m,v.filter(p=>p!==h))}i.value.delete(h)},open:(h,m,v)=>{d.emit("click:open",{id:h,value:m,path:u(h),event:v});const p=o.value.open({id:h,value:m,opened:new Set(r.value),children:n.value,parents:i.value,event:v});p&&(r.value=p)},openOnSelect:(h,m,v)=>{const p=o.value.select({id:h,value:m,selected:new Map(c.value),opened:new Set(r.value),children:n.value,parents:i.value,event:v});p&&(r.value=p)},select:(h,m,v)=>{d.emit("click:select",{id:h,value:m,path:u(h),event:v});const p=s.value.select({id:h,value:m,selected:new Map(c.value),children:n.value,parents:i.value,event:v});p&&(c.value=p),f.root.openOnSelect(h,m,v)},activate:(h,m,v)=>{if(!t.activatable)return f.root.select(h,!0,v);d.emit("click:activate",{id:h,value:m,path:u(h),event:v});const p=a.value.activate({id:h,value:m,activated:new Set(l.value),children:n.value,parents:i.value,event:v});p&&(l.value=p)},children:n,parents:i}};return Ct(kc,f),f.root},H1=(t,e)=>{const n=nt(kc,z1),i=Symbol(Pn()),r=P(()=>t.value!==void 0?t.value:i),a={...n,id:r,open:(s,o)=>n.root.open(je(r.value),s,o),openOnSelect:(s,o)=>n.root.openOnSelect(r.value,s,o),isOpen:P(()=>n.root.opened.value.has(je(r.value))),parent:P(()=>n.root.parents.value.get(r.value)),activate:(s,o)=>n.root.activate(r.value,s,o),isActivated:P(()=>n.root.activated.value.has(je(r.value))),select:(s,o)=>n.root.select(r.value,s,o),isSelected:P(()=>n.root.selected.value.get(je(r.value))==="on"),isIndeterminate:P(()=>n.root.selected.value.get(r.value)==="indeterminate"),isLeaf:P(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(r.value,n.id.value,e),Tn(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),e&&Ct(kc,a),a},t2=()=>{const t=nt(kc,z1);Ct(kc,{...t,isGroupActivator:!0})},n2=Ci({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return t2(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),i2=te({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ze,default:"$collapse"},expandIcon:{type:Ze,default:"$expand"},prependIcon:Ze,appendIcon:Ze,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ve(),...it()},"VListGroup"),wv=ve()({name:"VListGroup",props:i2(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:r,id:a}=H1(ue(t,"value"),!0),s=P(()=>`v-list-group--id-${String(a.value)}`),o=N1(),{isBooted:l}=Qs();function c(h){h.stopPropagation(),r(!i.value,h)}const u=P(()=>({onClick:c,class:"v-list-group__header",id:s.value})),d=P(()=>i.value?t.collapseIcon:t.expandIcon),f=P(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&d.value,appendIcon:t.appendIcon||!t.subgroup&&d.value,title:t.title,value:t.value}}));return be(()=>_(t.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&_(ut,{defaults:f.value},{default:()=>[_(n2,null,{default:()=>[n.activator({props:u.value,isOpen:i.value})]})]}),_(Wn,{transition:{component:xh},disabled:!l.value},{default:()=>{var h;return[Xt(_("div",{class:"v-list-group__items",role:"group","aria-labelledby":s.value},[(h=n.default)==null?void 0:h.call(n)]),[[Qi,i.value]])]}})]})),{isOpen:i}}}),r2=te({opacity:[Number,String],...Ve(),...it()},"VListItemSubtitle"),G1=ve()({name:"VListItemSubtitle",props:r2(),setup(t,e){let{slots:n}=e;return be(()=>_(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),W1=Sr("v-list-item-title"),a2=te({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ze,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ze,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:En(),onClickOnce:En(),...di(),...Ve(),...wn(),...un(),...bn(),...Gt(),...mu(),...it(),...pt(),...Ni({variant:"text"})},"VListItem"),Zr=ve()({name:"VListItem",directives:{Ripple:ra},props:a2(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:r}=e;const a=hu(t,n),s=P(()=>t.value===void 0?a.href.value:t.value),{activate:o,isActivated:l,select:c,isOpen:u,isSelected:d,isIndeterminate:f,isGroupActivator:h,root:m,parent:v,openOnSelect:p}=H1(s,!1),g=N1(),y=P(()=>{var F;return t.active!==!1&&(t.active||((F=a.isActive)==null?void 0:F.value)||(m.activatable.value?l.value:d.value))}),b=P(()=>t.link!==!1&&a.isLink.value),x=P(()=>!t.disabled&&t.link!==!1&&(t.link||a.isClickable.value||!!g&&(m.selectable.value||m.activatable.value||t.value!=null))),E=P(()=>t.rounded||t.nav),M=P(()=>t.color??t.activeColor),A=P(()=>({color:y.value?M.value??t.baseColor:t.baseColor,variant:t.variant}));Te(()=>{var F;return(F=a.isActive)==null?void 0:F.value},F=>{F&&v.value!=null&&m.open(v.value,!0),F&&p(F)},{immediate:!0});const{themeClasses:C}=xt(t),{borderClasses:S}=Ei(t),{colorClasses:w,colorStyles:T,variantClasses:I}=eo(A),{densityClasses:D}=Yn(t),{dimensionStyles:N}=dn(t),{elevationClasses:$}=In(t),{roundedClasses:U}=jt(E),Z=P(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),Y=P(()=>({isActive:y.value,select:c,isOpen:u.value,isSelected:d.value,isIndeterminate:f.value}));function j(F){var se;r("click",F),x.value&&((se=a.navigate)==null||se.call(a,F),!h&&(m.activatable.value?o(!l.value,F):(m.selectable.value||t.value!=null)&&c(!d.value,F)))}function q(F){(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),F.target.dispatchEvent(new MouseEvent("click",F)))}return be(()=>{const F=b.value?"a":t.tag,se=i.title||t.title!=null,Ce=i.subtitle||t.subtitle!=null,Q=!!(t.appendAvatar||t.appendIcon),he=!!(Q||i.append),J=!!(t.prependAvatar||t.prependIcon),W=!!(J||i.prepend);return g==null||g.updateHasPrepend(W),t.activeColor&&sL("active-color",["color","base-color"]),Xt(_(F,{class:["v-list-item",{"v-list-item--active":y.value,"v-list-item--disabled":t.disabled,"v-list-item--link":x.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!W&&(g==null?void 0:g.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&y.value},C.value,S.value,w.value,D.value,$.value,Z.value,U.value,I.value,t.class],style:[T.value,N.value,t.style],href:a.href.value,tabindex:x.value?g?-2:0:void 0,onClick:j,onKeydown:x.value&&!b.value&&q},{default:()=>{var re;return[Ga(x.value||y.value,"v-list-item"),W&&_("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?_(ut,{key:"prepend-defaults",disabled:!J,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var de;return[(de=i.prepend)==null?void 0:de.call(i,Y.value)]}}):_(Fe,null,[t.prependAvatar&&_(Oi,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&_(_t,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),_("div",{class:"v-list-item__spacer"},null)]),_("div",{class:"v-list-item__content","data-no-activator":""},[se&&_(W1,{key:"title"},{default:()=>{var de;return[((de=i.title)==null?void 0:de.call(i,{title:t.title}))??t.title]}}),Ce&&_(G1,{key:"subtitle"},{default:()=>{var de;return[((de=i.subtitle)==null?void 0:de.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(re=i.default)==null?void 0:re.call(i,Y.value)]),he&&_("div",{key:"append",class:"v-list-item__append"},[i.append?_(ut,{key:"append-defaults",disabled:!Q,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var de;return[(de=i.append)==null?void 0:de.call(i,Y.value)]}}):_(Fe,null,[t.appendIcon&&_(_t,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&_(Oi,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),_("div",{class:"v-list-item__spacer"},null)])]}}),[[Mi("ripple"),x.value&&t.ripple]])}),{activate:o,isActivated:l,isGroupActivator:h,isSelected:d,list:g,select:c}}}),s2=te({color:String,inset:Boolean,sticky:Boolean,title:String,...Ve(),...it()},"VListSubheader"),$1=ve()({name:"VListSubheader",props:s2(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:r}=On(ue(t,"color"));return be(()=>{const a=!!(n.default||t.title);return _(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:r},t.style]},{default:()=>{var s;return[a&&_("div",{class:"v-list-subheader__text"},[((s=n.default)==null?void 0:s.call(n))??t.title])]}})}),{}}}),o2=te({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Ve(),...pt()},"VDivider"),vu=ve()({name:"VDivider",props:o2(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:r}=xt(t),{textColorClasses:a,textColorStyles:s}=On(ue(t,"color")),o=P(()=>{const l={};return t.length&&(l[t.vertical?"height":"width"]=Le(t.length)),t.thickness&&(l[t.vertical?"borderRightWidth":"borderTopWidth"]=Le(t.thickness)),l});return be(()=>{const l=_("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},r.value,a.value,t.class],style:[o.value,s.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?_("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[l,_("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),l2=te({items:Array,returnObject:Boolean},"VListChildren"),X1=ve()({name:"VListChildren",props:l2(),setup(t,e){let{slots:n}=e;return V1(),()=>{var i,r;return((i=n.default)==null?void 0:i.call(n))??((r=t.items)==null?void 0:r.map(a=>{var f,h;let{children:s,props:o,type:l,raw:c}=a;if(l==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:o}))??_(vu,o,null);if(l==="subheader")return((h=n.subheader)==null?void 0:h.call(n,{props:o}))??_($1,o,null);const u={subtitle:n.subtitle?m=>{var v;return(v=n.subtitle)==null?void 0:v.call(n,{...m,item:c})}:void 0,prepend:n.prepend?m=>{var v;return(v=n.prepend)==null?void 0:v.call(n,{...m,item:c})}:void 0,append:n.append?m=>{var v;return(v=n.append)==null?void 0:v.call(n,{...m,item:c})}:void 0,title:n.title?m=>{var v;return(v=n.title)==null?void 0:v.call(n,{...m,item:c})}:void 0},d=wv.filterProps(o);return s?_(wv,xe({value:o==null?void 0:o.value},d),{activator:m=>{let{props:v}=m;const p={...o,...v,value:t.returnObject?c:o.value};return n.header?n.header({props:p}):_(Zr,p,u)},default:()=>_(X1,{items:s,returnObject:t.returnObject},n)}):n.item?n.item({props:o}):_(Zr,xe(o,{value:t.returnObject?c:o.value}),u)}))}}}),Y1=te({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:br}},"list-items");function Pa(t,e){const n=vn(e,t.itemTitle,e),i=vn(e,t.itemValue,n),r=vn(e,t.itemChildren),a=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?ln(e,["children"]):e:void 0:vn(e,t.itemProps),s={title:n,value:i,...a};return{title:String(s.title??""),value:s.value,props:s,children:Array.isArray(r)?q1(t,r):void 0,raw:e}}function q1(t,e){const n=[];for(const i of e)n.push(Pa(t,i));return n}function fy(t){const e=P(()=>q1(t,t.items)),n=P(()=>e.value.some(a=>a.value===null));function i(a){return n.value||(a=a.filter(s=>s!==null)),a.map(s=>t.returnObject&&typeof s=="string"?Pa(t,s):e.value.find(o=>t.valueComparator(s,o.value))||Pa(t,s))}function r(a){return t.returnObject?a.map(s=>{let{raw:o}=s;return o}):a.map(s=>{let{value:o}=s;return o})}return{items:e,transformIn:i,transformOut:r}}function c2(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function u2(t,e){const n=vn(e,t.itemType,"item"),i=c2(e)?e:vn(e,t.itemTitle),r=vn(e,t.itemValue,void 0),a=vn(e,t.itemChildren),s=t.itemProps===!0?ln(e,["children"]):vn(e,t.itemProps),o={title:i,value:r,...s};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&a?j1(t,a):void 0,raw:e}}function j1(t,e){const n=[];for(const i of e)n.push(u2(t,i));return n}function d2(t){return{items:P(()=>j1(t,t.items))}}const f2=te({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":En(),"onClick:select":En(),"onUpdate:opened":En(),...QD({selectStrategy:"single-leaf",openStrategy:"list"}),...di(),...Ve(),...wn(),...un(),...bn(),itemType:{type:String,default:"type"},...Y1(),...Gt(),...it(),...pt(),...Ni({variant:"text"})},"VList"),Th=ve()({name:"VList",props:f2(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=d2(t),{themeClasses:r}=xt(t),{backgroundColorClasses:a,backgroundColorStyles:s}=kt(ue(t,"bgColor")),{borderClasses:o}=Ei(t),{densityClasses:l}=Yn(t),{dimensionStyles:c}=dn(t),{elevationClasses:u}=In(t),{roundedClasses:d}=jt(t),{children:f,open:h,parents:m,select:v}=e2(t),p=P(()=>t.lines?`v-list--${t.lines}-line`:void 0),g=ue(t,"activeColor"),y=ue(t,"baseColor"),b=ue(t,"color");V1(),Yt({VListGroup:{activeColor:g,baseColor:y,color:b,expandIcon:ue(t,"expandIcon"),collapseIcon:ue(t,"collapseIcon")},VListItem:{activeClass:ue(t,"activeClass"),activeColor:g,baseColor:y,color:b,density:ue(t,"density"),disabled:ue(t,"disabled"),lines:ue(t,"lines"),nav:ue(t,"nav"),slim:ue(t,"slim"),variant:ue(t,"variant")}});const x=Ee(!1),E=pe();function M(I){x.value=!0}function A(I){x.value=!1}function C(I){var D;!x.value&&!(I.relatedTarget&&((D=E.value)!=null&&D.contains(I.relatedTarget)))&&T()}function S(I){const D=I.target;if(!(!E.value||["INPUT","TEXTAREA"].includes(D.tagName))){if(I.key==="ArrowDown")T("next");else if(I.key==="ArrowUp")T("prev");else if(I.key==="Home")T("first");else if(I.key==="End")T("last");else return;I.preventDefault()}}function w(I){x.value=!0}function T(I){if(E.value)return Ts(E.value,I)}return be(()=>_(t.tag,{ref:E,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},r.value,a.value,o.value,l.value,u.value,p.value,d.value,t.class],style:[s.value,c.value,t.style],tabindex:t.disabled||x.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:M,onFocusout:A,onFocus:C,onKeydown:S,onMousedown:w},{default:()=>[_(X1,{items:i.value,returnObject:t.returnObject},n)]})),{open:h,select:v,focus:T,children:f,parents:m}}}),h2=Sr("v-list-img"),m2=te({start:Boolean,end:Boolean,...Ve(),...it()},"VListItemAction"),p2=ve()({name:"VListItemAction",props:m2(),setup(t,e){let{slots:n}=e;return be(()=>_(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end},t.class],style:t.style},n)),{}}}),v2=te({start:Boolean,end:Boolean,...Ve(),...it()},"VListItemMedia"),g2=ve()({name:"VListItemMedia",props:v2(),setup(t,e){let{slots:n}=e;return be(()=>_(t.tag,{class:["v-list-item-media",{"v-list-item-media--start":t.start,"v-list-item-media--end":t.end},t.class],style:t.style},n)),{}}});function Qm(t,e){return{x:t.x+e.x,y:t.y+e.y}}function y2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yb(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,r=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,a=n==="top"?0:n==="bottom"?e.height:n;return Qm({x:r,y:a},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,r=n==="left"?0:n==="right"?e.width:n,a=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return Qm({x:r,y:a},e)}return Qm({x:e.width/2,y:e.height/2},e)}const K1={static:x2,connected:w2},_2=te({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in K1},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function b2(t,e){const n=pe({}),i=pe();Mt&&ni(()=>!!(e.isActive.value&&t.locationStrategy),a=>{var s,o;Te(()=>t.locationStrategy,a),Nn(()=>{window.removeEventListener("resize",r),i.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(s=t.locationStrategy(e,t,n))==null?void 0:s.updateLocation:i.value=(o=K1[t.locationStrategy](e,t,n))==null?void 0:o.updateLocation});function r(a){var s;(s=i.value)==null||s.call(i,a)}return{contentStyles:n,updateLocation:i}}function x2(){}function S2(t,e){const n=Yg(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function w2(t,e,n){(Array.isArray(t.target.value)||EL(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:a}=$g(()=>{const m=cv(e.location,t.isRtl.value),v=e.origin==="overlap"?m:e.origin==="auto"?qm(m):cv(e.origin,t.isRtl.value);return m.side===v.side&&m.align===jm(v).align?{preferredAnchor:F_(m),preferredOrigin:F_(v)}:{preferredAnchor:m,preferredOrigin:v}}),[s,o,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(m=>P(()=>{const v=parseFloat(e[m]);return isNaN(v)?1/0:v})),u=P(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const m=e.offset.split(" ").map(parseFloat);return m.length<2&&m.push(0),m}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let d=!1;const f=new ResizeObserver(()=>{d&&h()});Te([t.target,t.contentEl],(m,v)=>{let[p,g]=m,[y,b]=v;y&&!Array.isArray(y)&&f.unobserve(y),p&&!Array.isArray(p)&&f.observe(p),b&&f.unobserve(b),g&&f.observe(g)},{immediate:!0}),Nn(()=>{f.disconnect()});function h(){if(d=!1,requestAnimationFrame(()=>d=!0),!t.target.value||!t.contentEl.value)return;const m=PM(t.target.value),v=S2(t.contentEl.value,t.isRtl.value),p=pf(t.contentEl.value),g=12;p.length||(p.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(v.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),v.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const y=p.reduce((T,I)=>{const D=I.getBoundingClientRect(),N=new Ps({x:I===document.documentElement?0:D.x,y:I===document.documentElement?0:D.y,width:I.clientWidth,height:I.clientHeight});return T?new Ps({x:Math.max(T.left,N.left),y:Math.max(T.top,N.top),width:Math.min(T.right,N.right)-Math.max(T.left,N.left),height:Math.min(T.bottom,N.bottom)-Math.max(T.top,N.top)}):N},void 0);y.x+=g,y.y+=g,y.width-=g*2,y.height-=g*2;let b={anchor:r.value,origin:a.value};function x(T){const I=new Ps(v),D=yb(T.anchor,m),N=yb(T.origin,I);let{x:$,y:U}=y2(D,N);switch(T.anchor.side){case"top":U-=u.value[0];break;case"bottom":U+=u.value[0];break;case"left":$-=u.value[0];break;case"right":$+=u.value[0];break}switch(T.anchor.align){case"top":U-=u.value[1];break;case"bottom":U+=u.value[1];break;case"left":$-=u.value[1];break;case"right":$+=u.value[1];break}return I.x+=$,I.y+=U,I.width=Math.min(I.width,l.value),I.height=Math.min(I.height,c.value),{overflows:z_(I,y),x:$,y:U}}let E=0,M=0;const A={x:0,y:0},C={x:!1,y:!1};let S=-1;for(;!(S++>10);){const{x:T,y:I,overflows:D}=x(b);E+=T,M+=I,v.x+=T,v.y+=I;{const N=U_(b.anchor),$=D.x.before||D.x.after,U=D.y.before||D.y.after;let Z=!1;if(["x","y"].forEach(Y=>{if(Y==="x"&&$&&!C.x||Y==="y"&&U&&!C.y){const j={anchor:{...b.anchor},origin:{...b.origin}},q=Y==="x"?N==="y"?jm:qm:N==="y"?qm:jm;j.anchor=q(j.anchor),j.origin=q(j.origin);const{overflows:F}=x(j);(F[Y].before<=D[Y].before&&F[Y].after<=D[Y].after||F[Y].before+F[Y].after<(D[Y].before+D[Y].after)/2)&&(b=j,Z=C[Y]=!0)}}),Z)continue}D.x.before&&(E+=D.x.before,v.x+=D.x.before),D.x.after&&(E-=D.x.after,v.x-=D.x.after),D.y.before&&(M+=D.y.before,v.y+=D.y.before),D.y.after&&(M-=D.y.after,v.y-=D.y.after);{const N=z_(v,y);A.x=y.width-N.x.before-N.x.after,A.y=y.height-N.y.before-N.y.after,E+=N.x.before,v.x+=N.x.before,M+=N.y.before,v.y+=N.y.before}break}const w=U_(b.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${b.anchor.side} ${b.anchor.align}`,transformOrigin:`${b.origin.side} ${b.origin.align}`,top:Le(ep(M)),left:t.isRtl.value?void 0:Le(ep(E)),right:t.isRtl.value?Le(ep(-E)):void 0,minWidth:Le(w==="y"?Math.min(s.value,m.width):s.value),maxWidth:Le(_b(rn(A.x,s.value===1/0?0:s.value,l.value))),maxHeight:Le(_b(rn(A.y,o.value===1/0?0:o.value,c.value)))}),{available:A,contentBox:v}}return Te(()=>[r.value,a.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>h()),vt(()=>{const m=h();if(!m)return;const{available:v,contentBox:p}=m;p.height>v.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function ep(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function _b(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Mv=!0;const yf=[];function M2(t){!Mv||yf.length?(yf.push(t),Cv()):(Mv=!1,t(),Cv())}let bb=-1;function Cv(){cancelAnimationFrame(bb),bb=requestAnimationFrame(()=>{const t=yf.shift();t&&t(),yf.length?Cv():Mv=!0})}const Zd={none:null,close:E2,block:T2,reposition:P2},C2=te({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in Zd}},"VOverlay-scroll-strategies");function A2(t,e){if(!Mt)return;let n;Ft(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=yg(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=Zd[t.scrollStrategy])==null||i.call(Zd,e,t,n)}))}),Nn(()=>{n==null||n.stop()})}function E2(t){function e(n){t.isActive.value=!1}Z1(t.targetEl.value??t.contentEl.value,e)}function T2(t,e){var s;const n=(s=t.root.value)==null?void 0:s.offsetParent,i=[...new Set([...pf(t.targetEl.value,e.contained?n:void 0),...pf(t.contentEl.value,e.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,a=(o=>Jg(o)&&o)(n||document.documentElement);a&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",Le(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Le(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Le(r)),o.classList.add("v-overlay-scroll-blocked")}),Nn(()=>{i.forEach((o,l)=>{const c=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),d=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-c,o.scrollTop=-u,o.style.scrollBehavior=d}),a&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function P2(t,e,n){let i=!1,r=-1,a=-1;function s(o){M2(()=>{var u,d;const l=performance.now();(d=(u=t.updateLocation).value)==null||d.call(u,o),i=(performance.now()-l)/(1e3/60)>2})}a=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{Z1(t.targetEl.value??t.contentEl.value,o=>{i?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{s(o)})})):s(o)})})}),Nn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(a),cancelAnimationFrame(r)})}function Z1(t,e){const n=[document,...pf(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),Nn(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const Av=Symbol.for("vuetify:v-menu"),hy=te({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function my(t,e){let n=()=>{};function i(s){n==null||n();const o=Number(s?t.openDelay:t.closeDelay);return new Promise(l=>{n=qR(o,()=>{e==null||e(s),l(s)})})}function r(){return i(!0)}function a(){return i(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:a}}const I2=te({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...hy()},"VOverlay-activator");function R2(t,e){let{isActive:n,isTop:i,contentEl:r}=e;const a=qt("useActivator"),s=pe();let o=!1,l=!1,c=!0;const u=P(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),d=P(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!u.value),{runOpenDelay:f,runCloseDelay:h}=my(t,C=>{C===(t.openOnHover&&o||u.value&&l)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==C&&(c=!0),n.value=C)}),m=pe(),v={onClick:C=>{C.stopPropagation(),s.value=C.currentTarget||C.target,n.value||(m.value=[C.clientX,C.clientY]),n.value=!n.value},onMouseenter:C=>{var S;(S=C.sourceCapabilities)!=null&&S.firesTouchEvents||(o=!0,s.value=C.currentTarget||C.target,f())},onMouseleave:C=>{o=!1,h()},onFocus:C=>{sl(C.target,":focus-visible")!==!1&&(l=!0,C.stopPropagation(),s.value=C.currentTarget||C.target,f())},onBlur:C=>{l=!1,C.stopPropagation(),h()}},p=P(()=>{const C={};return d.value&&(C.onClick=v.onClick),t.openOnHover&&(C.onMouseenter=v.onMouseenter,C.onMouseleave=v.onMouseleave),u.value&&(C.onFocus=v.onFocus,C.onBlur=v.onBlur),C}),g=P(()=>{const C={};if(t.openOnHover&&(C.onMouseenter=()=>{o=!0,f()},C.onMouseleave=()=>{o=!1,h()}),u.value&&(C.onFocusin=()=>{l=!0,f()},C.onFocusout=()=>{l=!1,h()}),t.closeOnContentClick){const S=nt(Av,null);C.onClick=()=>{n.value=!1,S==null||S.closeParents()}}return C}),y=P(()=>{const C={};return t.openOnHover&&(C.onMouseenter=()=>{c&&(o=!0,c=!1,f())},C.onMouseleave=()=>{o=!1,h()}),C});Te(i,C=>{var S;C&&(t.openOnHover&&!o&&(!u.value||!l)||u.value&&!l&&(!t.openOnHover||!o))&&!((S=r.value)!=null&&S.contains(document.activeElement))&&(n.value=!1)}),Te(n,C=>{C||setTimeout(()=>{m.value=void 0})},{flush:"post"});const b=ff();Ft(()=>{b.value&&vt(()=>{s.value=b.el})});const x=ff(),E=P(()=>t.target==="cursor"&&m.value?m.value:x.value?x.el:J1(t.target,a)||s.value),M=P(()=>Array.isArray(E.value)?void 0:E.value);let A;return Te(()=>!!t.activator,C=>{C&&Mt?(A=yg(),A.run(()=>{L2(t,a,{activatorEl:s,activatorEvents:p})})):A&&A.stop()},{flush:"post",immediate:!0}),Nn(()=>{A==null||A.stop()}),{activatorEl:s,activatorRef:b,target:E,targetEl:M,targetRef:x,activatorEvents:p,contentEvents:g,scrimEvents:y}}function L2(t,e,n){let{activatorEl:i,activatorEvents:r}=n;Te(()=>t.activator,(l,c)=>{if(c&&l!==c){const u=o(c);u&&s(u)}l&&vt(()=>a())},{immediate:!0}),Te(()=>t.activatorProps,()=>{a()}),Nn(()=>{s()});function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&ZR(l,xe(r.value,c))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&JR(l,xe(r.value,c))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const c=J1(l,e);return i.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,i.value}}function J1(t,e){var i,r;if(!t)return;let n;if(t==="parent"){let a=(r=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:r.parentNode;for(;a!=null&&a.hasAttribute("data-no-activator");)a=a.parentNode;n=a}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function Q1(){if(!Mt)return Ee(!1);const{ssr:t}=Vi();if(t){const e=Ee(!1);return cn(()=>{e.value=!0}),e}else return Ee(!0)}const py=te({eager:Boolean},"lazy");function vy(t,e){const n=Ee(!1),i=P(()=>n.value||t.eager||e.value);Te(e,()=>n.value=!0);function r(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:r}}function ao(){const e=qt("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const xb=Symbol.for("vuetify:stack"),kl=kn([]);function k2(t,e,n){const i=qt("useStack"),r=!n,a=nt(xb,void 0),s=kn({activeChildren:new Set});Ct(xb,s);const o=Ee(+e.value);ni(t,()=>{var d;const u=(d=kl.at(-1))==null?void 0:d[1];o.value=u?u+10:+e.value,r&&kl.push([i.uid,o.value]),a==null||a.activeChildren.add(i.uid),Nn(()=>{if(r){const f=je(kl).findIndex(h=>h[0]===i.uid);kl.splice(f,1)}a==null||a.activeChildren.delete(i.uid)})});const l=Ee(!0);r&&Ft(()=>{var d;const u=((d=kl.at(-1))==null?void 0:d[0])===i.uid;setTimeout(()=>l.value=u)});const c=P(()=>!s.activeChildren.size);return{globalTop:Wr(l),localTop:c,stackStyles:P(()=>({zIndex:o.value}))}}function D2(t){return{teleportTarget:P(()=>{const n=t();if(n===!0||!Mt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let r=[...i.children].find(a=>a.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",i.appendChild(r)),r})}}function O2(){return!0}function eC(t,e,n){if(!t||tC(t,n)===!1)return!1;const i=HM(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(e),!r.some(a=>a==null?void 0:a.contains(t.target))}function tC(t,e){return(typeof e.value=="object"&&e.value.closeConditional||O2)(t)}function V2(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&eC(t,e,n)&&setTimeout(()=>{tC(t,n)&&i&&i(t)},0)}function Sb(t,e){const n=HM(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const nC={mounted(t,e){const n=r=>V2(r,t,e),i=r=>{t._clickOutside.lastMousedownWasOutside=eC(r,t,e)};Sb(t,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(t,e){t._clickOutside&&(Sb(t,n=>{var a;if(!n||!((a=t._clickOutside)!=null&&a[e.instance.$.uid]))return;const{onClick:i,onMousedown:r}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",r,!0)}),delete t._clickOutside[e.instance.$.uid])}};function N2(t){const{modelValue:e,color:n,...i}=t;return _(Da,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&_("div",xe({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const gu=te({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...I2(),...Ve(),...un(),...py(),..._2(),...C2(),...pt(),...er()},"VOverlay"),vr=ve()({name:"VOverlay",directives:{ClickOutside:nC},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...gu()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:r}=e;const a=qt("VOverlay"),s=pe(),o=pe(),l=pe(),c=We(t,"modelValue"),u=P({get:()=>c.value,set:J=>{J&&t.disabled||(c.value=J)}}),{themeClasses:d}=xt(t),{rtlClasses:f,isRtl:h}=_n(),{hasContent:m,onAfterLeave:v}=vy(t,u),p=kt(P(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:g,localTop:y,stackStyles:b}=k2(u,ue(t,"zIndex"),t._disableGlobalStack),{activatorEl:x,activatorRef:E,target:M,targetEl:A,targetRef:C,activatorEvents:S,contentEvents:w,scrimEvents:T}=R2(t,{isActive:u,isTop:y,contentEl:l}),{teleportTarget:I}=D2(()=>{var re,de,_e;const J=t.attach||t.contained;if(J)return J;const W=((re=x==null?void 0:x.value)==null?void 0:re.getRootNode())||((_e=(de=a.proxy)==null?void 0:de.$el)==null?void 0:_e.getRootNode());return W instanceof ShadowRoot?W:!1}),{dimensionStyles:D}=dn(t),N=Q1(),{scopeId:$}=ao();Te(()=>t.disabled,J=>{J&&(u.value=!1)});const{contentStyles:U,updateLocation:Z}=b2(t,{isRtl:h,contentEl:l,target:M,isActive:u});A2(t,{root:s,contentEl:l,targetEl:A,isActive:u,updateLocation:Z});function Y(J){r("click:outside",J),t.persistent?Ce():u.value=!1}function j(J){return u.value&&g.value&&(!t.scrim||J.target===o.value||J instanceof MouseEvent&&J.shadowTarget===o.value)}Mt&&Te(u,J=>{J?window.addEventListener("keydown",q):window.removeEventListener("keydown",q)},{immediate:!0}),Tn(()=>{Mt&&window.removeEventListener("keydown",q)});function q(J){var W,re;J.key==="Escape"&&g.value&&(t.persistent?Ce():(u.value=!1,(W=l.value)!=null&&W.contains(document.activeElement)&&((re=x.value)==null||re.focus())))}const F=m1();ni(()=>t.closeOnBack,()=>{yD(F,J=>{g.value&&u.value?(J(!1),t.persistent?Ce():u.value=!1):J()})});const se=pe();Te(()=>u.value&&(t.absolute||t.contained)&&I.value==null,J=>{if(J){const W=Zg(s.value);W&&W!==document.scrollingElement&&(se.value=W.scrollTop)}});function Ce(){t.noClickAnimation||l.value&&xs(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Cc})}function Q(){r("afterEnter")}function he(){v(),r("afterLeave")}return be(()=>{var J;return _(Fe,null,[(J=n.activator)==null?void 0:J.call(n,{isActive:u.value,targetRef:C,props:xe({ref:E},S.value,t.activatorProps)}),N.value&&m.value&&_(sI,{disabled:!I.value,to:I.value},{default:()=>[_("div",xe({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":u.value,"v-overlay--contained":t.contained},d.value,f.value,t.class],style:[b.value,{"--v-overlay-opacity":t.opacity,top:Le(se.value)},t.style],ref:s},$,i),[_(N2,xe({color:p,modelValue:u.value&&!!t.scrim,ref:o},T.value),null),_(Wn,{appear:!0,persisted:!0,transition:t.transition,target:M.value,onAfterEnter:Q,onAfterLeave:he},{default:()=>{var W;return[Xt(_("div",xe({ref:l,class:["v-overlay__content",t.contentClass],style:[D.value,U.value]},w.value,t.contentProps),[(W=n.default)==null?void 0:W.call(n,{isActive:u})]),[[Qi,u.value],[Mi("click-outside"),{handler:Y,closeConditional:j,include:()=>[x.value]}]])]}})])]})])}),{activatorEl:x,scrimEl:o,target:M,animateClick:Ce,contentEl:l,globalTop:g,localTop:y,updateLocation:Z}}}),tp=Symbol("Forwarded refs");function np(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Bi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[tp]=n,new Proxy(t,{get(r,a){if(Reflect.has(r,a))return Reflect.get(r,a);if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const s of n)if(s.value&&Reflect.has(s.value,a)){const o=Reflect.get(s.value,a);return typeof o=="function"?o.bind(s.value):o}}},has(r,a){if(Reflect.has(r,a))return!0;if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,a))return!0;return!1},set(r,a,s){if(Reflect.has(r,a))return Reflect.set(r,a,s);if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,a))return Reflect.set(o.value,a,s);return!1},getOwnPropertyDescriptor(r,a){var o;const s=Reflect.getOwnPropertyDescriptor(r,a);if(s)return s;if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=np(l.value,a)??("_"in l.value?np((o=l.value._)==null?void 0:o.setupState,a):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[tp];if(!c)continue;const u=c.slice();for(;u.length;){const d=u.shift(),f=np(d.value,a);if(f)return f;const h=d.value&&d.value[tp];h&&u.push(...h)}}}}})}const iC=te({id:String,submenu:Boolean,...ln(gu({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:bh}}),["absolute"])},"VMenu"),ul=ve()({name:"VMenu",props:iC(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"modelValue"),{scopeId:r}=ao(),{isRtl:a}=_n(),s=Pn(),o=P(()=>t.id||`v-menu-${s}`),l=pe(),c=nt(Av,null),u=Ee(new Set);Ct(Av,{register(){u.value.add(s)},unregister(){u.value.delete(s)},closeParents(p){setTimeout(()=>{var g;!u.value.size&&!t.persistent&&(p==null||(g=l.value)!=null&&g.contentEl&&!jR(p,l.value.contentEl))&&(i.value=!1,c==null||c.closeParents())},40)}}),Tn(()=>c==null?void 0:c.unregister()),Ig(()=>i.value=!1);async function d(p){var b,x,E;const g=p.relatedTarget,y=p.target;await vt(),i.value&&g!==y&&((b=l.value)!=null&&b.contentEl)&&((x=l.value)!=null&&x.globalTop)&&![document,l.value.contentEl].includes(y)&&!l.value.contentEl.contains(y)&&((E=Mc(l.value.contentEl)[0])==null||E.focus())}Te(i,p=>{p?(c==null||c.register(),document.addEventListener("focusin",d,{once:!0})):(c==null||c.unregister(),document.removeEventListener("focusin",d))});function f(p){c==null||c.closeParents(p)}function h(p){var g,y,b,x,E;if(!t.disabled)if(p.key==="Tab"||p.key==="Enter"&&!t.closeOnContentClick){if(p.key==="Enter"&&(p.target instanceof HTMLTextAreaElement||p.target instanceof HTMLInputElement&&p.target.closest("form")))return;p.key==="Enter"&&p.preventDefault(),AM(Mc((g=l.value)==null?void 0:g.contentEl,!1),p.shiftKey?"prev":"next",A=>A.tabIndex>=0)||(i.value=!1,(b=(y=l.value)==null?void 0:y.activatorEl)==null||b.focus())}else t.submenu&&p.key===(a.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(E=(x=l.value)==null?void 0:x.activatorEl)==null||E.focus())}function m(p){var y;if(t.disabled)return;const g=(y=l.value)==null?void 0:y.contentEl;g&&i.value?p.key==="ArrowDown"?(p.preventDefault(),p.stopImmediatePropagation(),Ts(g,"next")):p.key==="ArrowUp"?(p.preventDefault(),p.stopImmediatePropagation(),Ts(g,"prev")):t.submenu&&(p.key===(a.value?"ArrowRight":"ArrowLeft")?i.value=!1:p.key===(a.value?"ArrowLeft":"ArrowRight")&&(p.preventDefault(),Ts(g,"first"))):(t.submenu?p.key===(a.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(p.key))&&(i.value=!0,p.preventDefault(),setTimeout(()=>setTimeout(()=>m(p))))}const v=P(()=>xe({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":o.value,onKeydown:m},t.activatorProps));return be(()=>{const p=vr.filterProps(t);return _(vr,xe({ref:l,id:o.value,class:["v-menu",t.class],style:t.style},p,{modelValue:i.value,"onUpdate:modelValue":g=>i.value=g,absolute:!0,activatorProps:v.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:h},r),{activator:n.activator,default:function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];return _(ut,{root:"VMenu"},{default:()=>{var x;return[(x=n.default)==null?void 0:x.call(n,...y)]}})}})}),Bi({id:o,ΨopenChildren:u},l)}}),B2=te({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Ve(),...er({transition:{component:ry}})},"VCounter"),Ph=ve()({name:"VCounter",functional:!0,props:B2(),setup(t,e){let{slots:n}=e;const i=P(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return be(()=>_(Wn,{transition:t.transition},{default:()=>[Xt(_("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[Qi,t.active]])]})),{}}}),F2=te({floating:Boolean,...Ve()},"VFieldLabel"),Zl=ve()({name:"VFieldLabel",props:F2(),setup(t,e){let{slots:n}=e;return be(()=>_(xl,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}}),U2=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],yu=te({appendInnerIcon:Ze,bgColor:String,clearable:Boolean,clearIcon:{type:Ze,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Ze,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>U2.includes(t)},"onClick:clear":En(),"onClick:appendInner":En(),"onClick:prependInner":En(),...Ve(),...Mh(),...Gt(),...pt()},"VField"),wl=ve()({name:"VField",inheritAttrs:!1,props:{id:String,...pu(),...yu()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{themeClasses:a}=xt(t),{loaderClasses:s}=du(t),{focusClasses:o,isFocused:l,focus:c,blur:u}=aa(t),{InputIcon:d}=E1(t),{roundedClasses:f}=jt(t),{rtlClasses:h}=_n(),m=P(()=>t.dirty||t.active),v=P(()=>!t.singleLine&&!!(t.label||r.label)),p=Pn(),g=P(()=>t.id||`input-${p}`),y=P(()=>`${g.value}-messages`),b=pe(),x=pe(),E=pe(),M=P(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:A,backgroundColorStyles:C}=kt(ue(t,"bgColor")),{textColorClasses:S,textColorStyles:w}=On(P(()=>t.error||t.disabled?void 0:m.value&&l.value?t.color:t.baseColor));Te(m,N=>{if(v.value){const $=b.value.$el,U=x.value.$el;requestAnimationFrame(()=>{const Z=Yg($),Y=U.getBoundingClientRect(),j=Y.x-Z.x,q=Y.y-Z.y-(Z.height/2-Y.height/2),F=Y.width/.75,se=Math.abs(F-Z.width)>1?{maxWidth:Le(F)}:void 0,Ce=getComputedStyle($),Q=getComputedStyle(U),he=parseFloat(Ce.transitionDuration)*1e3||150,J=parseFloat(Q.getPropertyValue("--v-field-label-scale")),W=Q.getPropertyValue("color");$.style.visibility="visible",U.style.visibility="hidden",xs($,{transform:`translate(${j}px, ${q}px) scale(${J})`,color:W,...se},{duration:he,easing:Cc,direction:N?"normal":"reverse"}).finished.then(()=>{$.style.removeProperty("visibility"),U.style.removeProperty("visibility")})})}},{flush:"post"});const T=P(()=>({isActive:m,isFocused:l,controlRef:E,blur:u,focus:c}));function I(N){N.target!==document.activeElement&&N.preventDefault()}function D(N){var $;N.key!=="Enter"&&N.key!==" "||(N.preventDefault(),N.stopPropagation(),($=t["onClick:clear"])==null||$.call(t,new MouseEvent("click")))}return be(()=>{var j,q,F;const N=t.variant==="outlined",$=!!(r["prepend-inner"]||t.prependInnerIcon),U=!!(t.clearable||r.clear),Z=!!(r["append-inner"]||t.appendInnerIcon||U),Y=()=>r.label?r.label({...T.value,label:t.label,props:{for:g.value}}):t.label;return _("div",xe({class:["v-field",{"v-field--active":m.value,"v-field--appended":Z,"v-field--center-affix":t.centerAffix??!M.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":$,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!Y(),[`v-field--variant-${t.variant}`]:!0},a.value,A.value,o.value,s.value,f.value,h.value,t.class],style:[C.value,t.style],onClick:I},n),[_("div",{class:"v-field__overlay"},null),_(fu,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:r.loader}),$&&_("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&_(d,{key:"prepend-icon",name:"prependInner"},null),(j=r["prepend-inner"])==null?void 0:j.call(r,T.value)]),_("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&v.value&&_(Zl,{key:"floating-label",ref:x,class:[S.value],floating:!0,for:g.value,style:w.value},{default:()=>[Y()]}),_(Zl,{ref:b,for:g.value},{default:()=>[Y()]}),(q=r.default)==null?void 0:q.call(r,{...T.value,props:{id:g.value,class:"v-field__input","aria-describedby":y.value},focus:c,blur:u})]),U&&_(ay,{key:"clear"},{default:()=>[Xt(_("div",{class:"v-field__clearable",onMousedown:se=>{se.preventDefault(),se.stopPropagation()}},[_(ut,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[r.clear?r.clear({...T.value,props:{onKeydown:D,onFocus:c,onBlur:u,onClick:t["onClick:clear"]}}):_(d,{name:"clear",onKeydown:D,onFocus:c,onBlur:u},null)]})]),[[Qi,t.dirty]])]}),Z&&_("div",{key:"append",class:"v-field__append-inner"},[(F=r["append-inner"])==null?void 0:F.call(r,T.value),t.appendInnerIcon&&_(d,{key:"append-icon",name:"appendInner"},null)]),_("div",{class:["v-field__outline",S.value],style:w.value},[N&&_(Fe,null,[_("div",{class:"v-field__outline__start"},null),v.value&&_("div",{class:"v-field__outline__notch"},[_(Zl,{ref:x,floating:!0,for:g.value},{default:()=>[Y()]})]),_("div",{class:"v-field__outline__end"},null)]),M.value&&v.value&&_(Zl,{ref:x,floating:!0,for:g.value},{default:()=>[Y()]})])])}),{controlRef:E}}});function gy(t){const e=Object.keys(wl.props).filter(n=>!mh(n)&&n!=="class"&&n!=="style");return Wg(t,e)}const z2=["color","file","time","date","datetime-local","week","month"],Ih=te({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...sa(),...yu()},"VTextField"),Bs=ve()({name:"VTextField",directives:{Intersect:uu},inheritAttrs:!1,props:Ih(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const a=We(t,"modelValue"),{isFocused:s,focus:o,blur:l}=aa(t),c=P(()=>typeof t.counterValue=="function"?t.counterValue(a.value):typeof t.counterValue=="number"?t.counterValue:(a.value??"").toString().length),u=P(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),d=P(()=>["plain","underlined"].includes(t.variant));function f(M,A){var C,S;!t.autofocus||!M||(S=(C=A[0].target)==null?void 0:C.focus)==null||S.call(C)}const h=pe(),m=pe(),v=pe(),p=P(()=>z2.includes(t.type)||t.persistentPlaceholder||s.value||t.active);function g(){var M;v.value!==document.activeElement&&((M=v.value)==null||M.focus()),s.value||o()}function y(M){i("mousedown:control",M),M.target!==v.value&&(g(),M.preventDefault())}function b(M){g(),i("click:control",M)}function x(M){M.stopPropagation(),g(),vt(()=>{a.value=null,Xg(t["onClick:clear"],M)})}function E(M){var C;const A=M.target;if(a.value=A.value,(C=t.modelModifiers)!=null&&C.trim&&["text","search","password","tel","url"].includes(t.type)){const S=[A.selectionStart,A.selectionEnd];vt(()=>{A.selectionStart=S[0],A.selectionEnd=S[1]})}}return be(()=>{const M=!!(r.counter||t.counter!==!1&&t.counter!=null),A=!!(M||r.details),[C,S]=Ha(n),{modelValue:w,...T}=Vn.filterProps(t),I=gy(t);return _(Vn,xe({ref:h,modelValue:a.value,"onUpdate:modelValue":D=>a.value=D,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":d.value},t.class],style:t.style},C,T,{centerAffix:!d.value,focused:s.value}),{...r,default:D=>{let{id:N,isDisabled:$,isDirty:U,isReadonly:Z,isValid:Y}=D;return _(wl,xe({ref:m,onMousedown:y,onClick:b,"onClick:clear":x,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},I,{id:N.value,active:p.value||U.value,dirty:U.value||t.dirty,disabled:$.value,focused:s.value,error:Y.value===!1}),{...r,default:j=>{let{props:{class:q,...F}}=j;const se=Xt(_("input",xe({ref:v,value:a.value,onInput:E,autofocus:t.autofocus,readonly:Z.value,disabled:$.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:g,onBlur:l},F,S),null),[[Mi("intersect"),{handler:f},null,{once:!0}]]);return _(Fe,null,[t.prefix&&_("span",{class:"v-text-field__prefix"},[_("span",{class:"v-text-field__prefix__text"},[t.prefix])]),r.default?_("div",{class:q,"data-no-activator":""},[r.default(),se]):Xr(se,{class:q}),t.suffix&&_("span",{class:"v-text-field__suffix"},[_("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:A?D=>{var N;return _(Fe,null,[(N=r.details)==null?void 0:N.call(r,D),M&&_(Fe,null,[_("span",null,null),_(Ph,{active:t.persistentCounter||s.value,value:c.value,max:u.value,disabled:t.disabled},r.counter)])])}:void 0})}),Bi({},h,m,v)}}),H2=te({renderless:Boolean,...Ve()},"VVirtualScrollItem"),rC=ve()({name:"VVirtualScrollItem",inheritAttrs:!1,props:H2(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{resizeRef:a,contentRect:s}=ji(void 0,"border");Te(()=>{var o;return(o=s.value)==null?void 0:o.height},o=>{o!=null&&i("update:height",o)}),be(()=>{var o,l;return t.renderless?_(Fe,null,[(o=r.default)==null?void 0:o.call(r,{itemRef:a})]):_("div",xe({ref:a,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=r.default)==null?void 0:l.call(r)])})}}),G2=-1,W2=1,ip=100,aC=te({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function sC(t,e){const n=Vi(),i=Ee(0);Ft(()=>{i.value=parseFloat(t.itemHeight||0)});const r=Ee(0),a=Ee(Math.ceil((parseInt(t.height)||n.height.value)/(i.value||16))||1),s=Ee(0),o=Ee(0),l=pe(),c=pe();let u=0;const{resizeRef:d,contentRect:f}=ji();Ft(()=>{d.value=l.value});const h=P(()=>{var j;return l.value===document.documentElement?n.height.value:((j=f.value)==null?void 0:j.height)||parseInt(t.height)||0}),m=P(()=>!!(l.value&&c.value&&h.value&&i.value));let v=Array.from({length:e.value.length}),p=Array.from({length:e.value.length});const g=Ee(0);let y=-1;function b(j){return v[j]||i.value}const x=WR(()=>{const j=performance.now();p[0]=0;const q=e.value.length;for(let F=1;F<=q-1;F++)p[F]=(p[F-1]||0)+b(F-1);g.value=Math.max(g.value,performance.now()-j)},g),E=Te(m,j=>{j&&(E(),u=c.value.offsetTop,x.immediate(),$(),~y&&vt(()=>{Mt&&window.requestAnimationFrame(()=>{Z(y),y=-1})}))});Nn(()=>{x.clear()});function M(j,q){const F=v[j],se=i.value;i.value=se?Math.min(i.value,q):q,(F!==q||se!==i.value)&&(v[j]=q,x())}function A(j){return j=rn(j,0,e.value.length-1),p[j]||0}function C(j){return $2(p,j)}let S=0,w=0,T=0;Te(h,(j,q)=>{q&&($(),j<q&&requestAnimationFrame(()=>{w=0,$()}))});function I(){if(!l.value||!c.value)return;const j=l.value.scrollTop,q=performance.now();q-T>500?(w=Math.sign(j-S),u=c.value.offsetTop):w=j-S,S=j,T=q,$()}function D(){!l.value||!c.value||(w=0,T=0,$())}let N=-1;function $(){cancelAnimationFrame(N),N=requestAnimationFrame(U)}function U(){if(!l.value||!h.value)return;const j=S-u,q=Math.sign(w),F=Math.max(0,j-ip),se=rn(C(F),0,e.value.length),Ce=j+h.value+ip,Q=rn(C(Ce)+1,se+1,e.value.length);if((q!==G2||se<r.value)&&(q!==W2||Q>a.value)){const he=A(r.value)-A(se),J=A(Q)-A(a.value);Math.max(he,J)>ip?(r.value=se,a.value=Q):(se<=0&&(r.value=se),Q>=e.value.length&&(a.value=Q))}s.value=A(r.value),o.value=A(e.value.length)-A(a.value)}function Z(j){const q=A(j);!l.value||j&&!q?y=j:l.value.scrollTop=q}const Y=P(()=>e.value.slice(r.value,a.value).map((j,q)=>({raw:j,index:q+r.value})));return Te(e,()=>{v=Array.from({length:e.value.length}),p=Array.from({length:e.value.length}),x.immediate(),$()},{deep:!0}),{calculateVisibleItems:$,containerRef:l,markerRef:c,computedItems:Y,paddingTop:s,paddingBottom:o,scrollToIndex:Z,handleScroll:I,handleScrollend:D,handleItemResize:M}}function $2(t,e){let n=t.length-1,i=0,r=0,a=null,s=-1;if(t[n]<e)return n;for(;i<=n;)if(r=i+n>>1,a=t[r],a>e)n=r-1;else if(a<e)s=r,i=r+1;else return a===e?r:i;return s}const X2=te({items:{type:Array,default:()=>[]},renderless:Boolean,...aC(),...Ve(),...un()},"VVirtualScroll"),Rh=ve()({name:"VVirtualScroll",props:X2(),setup(t,e){let{slots:n}=e;const i=qt("VVirtualScroll"),{dimensionStyles:r}=dn(t),{calculateVisibleItems:a,containerRef:s,markerRef:o,handleScroll:l,handleScrollend:c,handleItemResize:u,scrollToIndex:d,paddingTop:f,paddingBottom:h,computedItems:m}=sC(t,ue(t,"items"));return ni(()=>t.renderless,()=>{function v(){var y,b;const g=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";s.value===document.documentElement?(document[g]("scroll",l,{passive:!0}),document[g]("scrollend",c)):((y=s.value)==null||y[g]("scroll",l,{passive:!0}),(b=s.value)==null||b[g]("scrollend",c))}cn(()=>{s.value=Zg(i.vnode.el,!0),v(!0)}),Nn(v)}),be(()=>{const v=m.value.map(p=>_(rC,{key:p.index,renderless:t.renderless,"onUpdate:height":g=>u(p.index,g)},{default:g=>{var y;return(y=n.default)==null?void 0:y.call(n,{item:p.raw,index:p.index,...g})}}));return t.renderless?_(Fe,null,[_("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Le(f.value)}},null),v,_("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Le(h.value)}},null)]):_("div",{ref:s,class:["v-virtual-scroll",t.class],onScrollPassive:l,onScrollend:c,style:[r.value,t.style]},[_("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Le(f.value),paddingBottom:Le(h.value)}},[v])])}),{calculateVisibleItems:a,scrollToIndex:d}}});function yy(t,e){const n=Ee(!1);let i;function r(o){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function a(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const l=Te(n,()=>{l(),o()})}else o()})}async function s(o){var u,d;if(o.key==="Tab"&&((u=e.value)==null||u.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(d=t.value)==null?void 0:d.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await a();const c=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const f=l.getBoundingClientRect().top;for(const h of c)if(h.getBoundingClientRect().top>=f){h.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const h of[...c].reverse())if(h.getBoundingClientRect().bottom<=f){h.focus();break}}}return{onScrollPassive:r,onKeydown:s}}const _y=te({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ze,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Y1({itemChildren:!1})},"Select"),Y2=te({..._y(),...ln(Ih({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...er({transition:{component:bh}})},"VSelect"),by=ve()({name:"VSelect",props:Y2(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Jt(),r=pe(),a=pe(),s=pe(),o=We(t,"menu"),l=P({get:()=>o.value,set:j=>{var q;o.value&&!j&&((q=a.value)!=null&&q.ΨopenChildren.size)||(o.value=j)}}),{items:c,transformIn:u,transformOut:d}=fy(t),f=We(t,"modelValue",[],j=>u(j===null?[null]:$t(j)),j=>{const q=d(j);return t.multiple?q:q[0]??null}),h=P(()=>typeof t.counterValue=="function"?t.counterValue(f.value):typeof t.counterValue=="number"?t.counterValue:f.value.length),m=Eh(),v=P(()=>f.value.map(j=>j.value)),p=Ee(!1),g=P(()=>l.value?t.closeText:t.openText);let y="",b;const x=P(()=>t.hideSelected?c.value.filter(j=>!f.value.some(q=>t.valueComparator(q,j))):c.value),E=P(()=>t.hideNoData&&!x.value.length||t.readonly||(m==null?void 0:m.isReadonly.value)),M=P(()=>{var j;return{...t.menuProps,activatorProps:{...((j=t.menuProps)==null?void 0:j.activatorProps)||{},"aria-haspopup":"listbox"}}}),A=pe(),C=yy(A,r);function S(j){t.openOnClear&&(l.value=!0)}function w(){E.value||(l.value=!l.value)}function T(j){hf(j)&&I(j)}function I(j){var Ce,Q;if(!j.key||t.readonly||m!=null&&m.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(j.key)&&j.preventDefault(),["Enter","ArrowDown"," "].includes(j.key)&&(l.value=!0),["Escape","Tab"].includes(j.key)&&(l.value=!1),j.key==="Home"?(Ce=A.value)==null||Ce.focus("first"):j.key==="End"&&((Q=A.value)==null||Q.focus("last"));const q=1e3;if(t.multiple||!hf(j))return;const F=performance.now();F-b>q&&(y=""),y+=j.key.toLowerCase(),b=F;const se=c.value.find(he=>he.title.toLowerCase().startsWith(y));if(se!==void 0){f.value=[se];const he=x.value.indexOf(se);Mt&&window.requestAnimationFrame(()=>{var J;he>=0&&((J=s.value)==null||J.scrollToIndex(he))})}}function D(j){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!j.props.disabled)if(t.multiple){const F=f.value.findIndex(Ce=>t.valueComparator(Ce.value,j.value)),se=q??!~F;if(~F){const Ce=se?[...f.value,j]:[...f.value];Ce.splice(F,1),f.value=Ce}else se&&(f.value=[...f.value,j])}else{const F=q!==!1;f.value=F?[j]:[],vt(()=>{l.value=!1})}}function N(j){var q;(q=A.value)!=null&&q.$el.contains(j.relatedTarget)||(l.value=!1)}function $(){var j;t.eager&&((j=s.value)==null||j.calculateVisibleItems())}function U(){var j;p.value&&((j=r.value)==null||j.focus())}function Z(j){p.value=!0}function Y(j){if(j==null)f.value=[];else if(sl(r.value,":autofill")||sl(r.value,":-webkit-autofill")){const q=c.value.find(F=>F.title===j);q&&D(q)}else r.value&&(r.value.value="")}return Te(l,()=>{if(!t.hideSelected&&l.value&&f.value.length){const j=x.value.findIndex(q=>f.value.some(F=>t.valueComparator(F.value,q.value)));Mt&&window.requestAnimationFrame(()=>{var q;j>=0&&((q=s.value)==null||q.scrollToIndex(j))})}}),Te(()=>t.items,(j,q)=>{l.value||p.value&&!q.length&&j.length&&(l.value=!0)}),be(()=>{const j=!!(t.chips||n.chip),q=!!(!t.hideNoData||x.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),F=f.value.length>0,se=Bs.filterProps(t),Ce=F||!p.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return _(Bs,xe({ref:r},se,{modelValue:f.value.map(Q=>Q.props.value).join(", "),"onUpdate:modelValue":Y,focused:p.value,"onUpdate:focused":Q=>p.value=Q,validationValue:f.externalValue,counterValue:h.value,dirty:F,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:Ce,"onClick:clear":S,"onMousedown:control":w,onBlur:N,onKeydown:I,"aria-label":i(g.value),title:i(g.value)}),{...n,default:()=>_(Fe,null,[_(ul,xe({ref:a,modelValue:l.value,"onUpdate:modelValue":Q=>l.value=Q,activator:"parent",contentClass:"v-select__content",disabled:E.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:$,onAfterLeave:U},M.value),{default:()=>[q&&_(Th,xe({ref:A,selected:v.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Q=>Q.preventDefault(),onKeydown:T,onFocusin:Z,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},C,t.listProps),{default:()=>{var Q,he,J;return[(Q=n["prepend-item"])==null?void 0:Q.call(n),!x.value.length&&!t.hideNoData&&(((he=n["no-data"])==null?void 0:he.call(n))??_(Zr,{title:i(t.noDataText)},null)),_(Rh,{ref:s,renderless:!0,items:x.value},{default:W=>{var V;let{item:re,index:de,itemRef:_e}=W;const me=xe(re.props,{ref:_e,key:de,onClick:()=>D(re,null)});return((V=n.item)==null?void 0:V.call(n,{item:re,index:de,props:me}))??_(Zr,xe(me,{role:"option"}),{prepend:L=>{let{isSelected:k}=L;return _(Fe,null,[t.multiple&&!t.hideSelected?_(Kr,{key:re.value,modelValue:k,ripple:!1,tabindex:"-1"},null):void 0,re.props.prependAvatar&&_(Oi,{image:re.props.prependAvatar},null),re.props.prependIcon&&_(_t,{icon:re.props.prependIcon},null)])}})}}),(J=n["append-item"])==null?void 0:J.call(n)]}})]}),f.value.map((Q,he)=>{function J(_e){_e.stopPropagation(),_e.preventDefault(),D(Q,!1)}const W={"onClick:close":J,onKeydown(_e){_e.key!=="Enter"&&_e.key!==" "||(_e.preventDefault(),_e.stopPropagation(),J(_e))},onMousedown(_e){_e.preventDefault(),_e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},re=j?!!n.chip:!!n.selection,de=re?ph(j?n.chip({item:Q,index:he,props:W}):n.selection({item:Q,index:he})):void 0;if(!(re&&!de))return _("div",{key:Q.value,class:"v-select__selection"},[j?n.chip?_(ut,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Q.title}}},{default:()=>[de]}):_(Sl,xe({key:"chip",closable:t.closableChips,size:"small",text:Q.title,disabled:Q.props.disabled},W),null):de??_("span",{class:"v-select__selection-text"},[Q.title,t.multiple&&he<f.value.length-1&&_("span",{class:"v-select__selection-comma"},[Yr(",")])])])})]),"append-inner":function(){var W;for(var Q=arguments.length,he=new Array(Q),J=0;J<Q;J++)he[J]=arguments[J];return _(Fe,null,[(W=n["append-inner"])==null?void 0:W.call(n,...he),t.menuIcon?_(_t,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Bi({isFocused:p,menu:l,select:D},r)}}),q2=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),_u=te({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function j2(t,e,n){var o;const i=[],r=(n==null?void 0:n.default)??q2,a=n!=null&&n.filterKeys?$t(n.filterKeys):!1,s=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return i;e:for(let l=0;l<t.length;l++){const[c,u=c]=$t(t[l]),d={},f={};let h=-1;if((e||s>0)&&!(n!=null&&n.noFilter)){if(typeof c=="object"){const p=a||Object.keys(u);for(const g of p){const y=vn(u,g),b=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[g];if(h=b?b(y,e,c):r(y,e,c),h!==-1&&h!==!1)b?d[g]=h:f[g]=h;else if((n==null?void 0:n.filterMode)==="every")continue e}}else h=r(c,e,c),h!==-1&&h!==!1&&(f.title=h);const m=Object.keys(f).length,v=Object.keys(d).length;if(!m&&!v||(n==null?void 0:n.filterMode)==="union"&&v!==s&&!m||(n==null?void 0:n.filterMode)==="intersection"&&(v!==s||!m))continue}i.push({index:l,matches:{...f,...d}})}return i}function bu(t,e,n,i){const r=pe([]),a=pe(new Map),s=P(()=>i!=null&&i.transform?Ot(e).map(l=>[l,i.transform(l)]):Ot(e));Ft(()=>{const l=typeof n=="function"?n():Ot(n),c=typeof l!="string"&&typeof l!="number"?"":String(l),u=j2(s.value,c,{customKeyFilter:{...t.customKeyFilter,...Ot(i==null?void 0:i.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),d=Ot(e),f=[],h=new Map;u.forEach(m=>{let{index:v,matches:p}=m;const g=d[v];f.push(g),h.set(g.value,p)}),r.value=f,a.value=h});function o(l){return a.value.get(l.value)}return{filteredItems:r,filteredMatches:a,getMatches:o}}function K2(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?_(Fe,null,[_("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),_("span",{class:"v-autocomplete__mask"},[t.substr(e,n)]),_("span",{class:"v-autocomplete__unmask"},[t.substr(e+n)])]):t}const Z2=te({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,..._u({filterKeys:["title"]}),..._y(),...ln(Ih({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...er({transition:!1})},"VAutocomplete"),J2=ve()({name:"VAutocomplete",props:Z2(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Jt(),r=pe(),a=Ee(!1),s=Ee(!0),o=Ee(!1),l=pe(),c=pe(),u=We(t,"menu"),d=P({get:()=>u.value,set:me=>{var V;u.value&&!me&&((V=l.value)!=null&&V.ΨopenChildren.size)||(u.value=me)}}),f=Ee(-1),h=P(()=>{var me;return(me=r.value)==null?void 0:me.color}),m=P(()=>d.value?t.closeText:t.openText),{items:v,transformIn:p,transformOut:g}=fy(t),{textColorClasses:y,textColorStyles:b}=On(h),x=We(t,"search",""),E=We(t,"modelValue",[],me=>p(me===null?[null]:$t(me)),me=>{const V=g(me);return t.multiple?V:V[0]??null}),M=P(()=>typeof t.counterValue=="function"?t.counterValue(E.value):typeof t.counterValue=="number"?t.counterValue:E.value.length),A=Eh(),{filteredItems:C,getMatches:S}=bu(t,v,()=>s.value?"":x.value),w=P(()=>t.hideSelected?C.value.filter(me=>!E.value.some(V=>V.value===me.value)):C.value),T=P(()=>!!(t.chips||n.chip)),I=P(()=>T.value||!!n.selection),D=P(()=>E.value.map(me=>me.props.value)),N=P(()=>{var V;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&x.value===((V=w.value[0])==null?void 0:V.title))&&w.value.length>0&&!s.value&&!o.value}),$=P(()=>t.hideNoData&&!w.value.length||t.readonly||(A==null?void 0:A.isReadonly.value)),U=pe(),Z=yy(U,r);function Y(me){t.openOnClear&&(d.value=!0),x.value=""}function j(){$.value||(d.value=!0)}function q(me){$.value||(a.value&&(me.preventDefault(),me.stopPropagation()),d.value=!d.value)}function F(me){var V;hf(me)&&((V=r.value)==null||V.focus())}function se(me){var k,z,G;if(t.readonly||A!=null&&A.isReadonly.value)return;const V=r.value.selectionStart,L=E.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(me.key))&&me.preventDefault(),["Enter","ArrowDown"].includes(me.key)&&(d.value=!0),["Escape"].includes(me.key)&&(d.value=!1),N.value&&["Enter","Tab"].includes(me.key)&&!E.value.some(K=>{let{value:ee}=K;return ee===w.value[0].value})&&_e(w.value[0]),me.key==="ArrowDown"&&N.value&&((k=U.value)==null||k.focus("next")),["Backspace","Delete"].includes(me.key)){if(!t.multiple&&I.value&&E.value.length>0&&!x.value)return _e(E.value[0],!1);if(~f.value){const K=f.value;_e(E.value[f.value],!1),f.value=K>=L-1?L-2:K}else me.key==="Backspace"&&!x.value&&(f.value=L-1)}if(t.multiple){if(me.key==="ArrowLeft"){if(f.value<0&&V>0)return;const K=f.value>-1?f.value-1:L-1;E.value[K]?f.value=K:(f.value=-1,r.value.setSelectionRange((z=x.value)==null?void 0:z.length,(G=x.value)==null?void 0:G.length))}if(me.key==="ArrowRight"){if(f.value<0)return;const K=f.value+1;E.value[K]?f.value=K:(f.value=-1,r.value.setSelectionRange(0,0))}}}function Ce(me){if(sl(r.value,":autofill")||sl(r.value,":-webkit-autofill")){const V=v.value.find(L=>L.title===me.target.value);V&&_e(V)}}function Q(){var me;t.eager&&((me=c.value)==null||me.calculateVisibleItems())}function he(){var me;a.value&&(s.value=!0,(me=r.value)==null||me.focus())}function J(me){a.value=!0,setTimeout(()=>{o.value=!0})}function W(me){o.value=!1}function re(me){(me==null||me===""&&!t.multiple&&!I.value)&&(E.value=[])}const de=Ee(!1);function _e(me){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!me||me.props.disabled))if(t.multiple){const L=E.value.findIndex(z=>t.valueComparator(z.value,me.value)),k=V??!~L;if(~L){const z=k?[...E.value,me]:[...E.value];z.splice(L,1),E.value=z}else k&&(E.value=[...E.value,me]);t.clearOnSelect&&(x.value="")}else{const L=V!==!1;E.value=L?[me]:[],x.value=L&&!I.value?me.title:"",vt(()=>{d.value=!1,s.value=!0})}}return Te(a,(me,V)=>{var L;me!==V&&(me?(de.value=!0,x.value=t.multiple||I.value?"":String(((L=E.value.at(-1))==null?void 0:L.props.title)??""),s.value=!0,vt(()=>de.value=!1)):(!t.multiple&&x.value==null&&(E.value=[]),d.value=!1,E.value.some(k=>{let{title:z}=k;return z===x.value})||(x.value=""),f.value=-1))}),Te(x,me=>{!a.value||de.value||(me&&(d.value=!0),s.value=!me)}),Te(d,()=>{if(!t.hideSelected&&d.value&&E.value.length){const me=w.value.findIndex(V=>E.value.some(L=>V.value===L.value));Mt&&window.requestAnimationFrame(()=>{var V;me>=0&&((V=c.value)==null||V.scrollToIndex(me))})}}),Te(()=>t.items,(me,V)=>{d.value||a.value&&!V.length&&me.length&&(d.value=!0)}),be(()=>{const me=!!(!t.hideNoData||w.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),V=E.value.length>0,L=Bs.filterProps(t);return _(Bs,xe({ref:r},L,{modelValue:x.value,"onUpdate:modelValue":[k=>x.value=k,re],focused:a.value,"onUpdate:focused":k=>a.value=k,validationValue:E.externalValue,counterValue:M.value,dirty:V,onChange:Ce,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!I.value,"v-autocomplete--selecting-index":f.value>-1},t.class],style:t.style,readonly:t.readonly,placeholder:V?void 0:t.placeholder,"onClick:clear":Y,"onMousedown:control":j,onKeydown:se}),{...n,default:()=>_(Fe,null,[_(ul,xe({ref:l,modelValue:d.value,"onUpdate:modelValue":k=>d.value=k,activator:"parent",contentClass:"v-autocomplete__content",disabled:$.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:Q,onAfterLeave:he},t.menuProps),{default:()=>[me&&_(Th,xe({ref:U,selected:D.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:k=>k.preventDefault(),onKeydown:F,onFocusin:J,onFocusout:W,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},Z,t.listProps),{default:()=>{var k,z,G;return[(k=n["prepend-item"])==null?void 0:k.call(n),!w.value.length&&!t.hideNoData&&(((z=n["no-data"])==null?void 0:z.call(n))??_(Zr,{title:i(t.noDataText)},null)),_(Rh,{ref:c,renderless:!0,items:w.value},{default:K=>{var X;let{item:ee,index:fe,itemRef:O}=K;const R=xe(ee.props,{ref:O,key:fe,active:N.value&&fe===0?!0:void 0,onClick:()=>_e(ee,null)});return((X=n.item)==null?void 0:X.call(n,{item:ee,index:fe,props:R}))??_(Zr,xe(R,{role:"option"}),{prepend:le=>{let{isSelected:ne}=le;return _(Fe,null,[t.multiple&&!t.hideSelected?_(Kr,{key:ee.value,modelValue:ne,ripple:!1,tabindex:"-1"},null):void 0,ee.props.prependAvatar&&_(Oi,{image:ee.props.prependAvatar},null),ee.props.prependIcon&&_(_t,{icon:ee.props.prependIcon},null)])},title:()=>{var le,ne;return s.value?ee.title:K2(ee.title,(le=S(ee))==null?void 0:le.title,((ne=x.value)==null?void 0:ne.length)??0)}})}}),(G=n["append-item"])==null?void 0:G.call(n)]}})]}),E.value.map((k,z)=>{function G(O){O.stopPropagation(),O.preventDefault(),_e(k,!1)}const K={"onClick:close":G,onKeydown(O){O.key!=="Enter"&&O.key!==" "||(O.preventDefault(),O.stopPropagation(),G(O))},onMousedown(O){O.preventDefault(),O.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ee=T.value?!!n.chip:!!n.selection,fe=ee?ph(T.value?n.chip({item:k,index:z,props:K}):n.selection({item:k,index:z})):void 0;if(!(ee&&!fe))return _("div",{key:k.value,class:["v-autocomplete__selection",z===f.value&&["v-autocomplete__selection--selected",y.value]],style:z===f.value?b.value:{}},[T.value?n.chip?_(ut,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:k.title}}},{default:()=>[fe]}):_(Sl,xe({key:"chip",closable:t.closableChips,size:"small",text:k.title,disabled:k.props.disabled},K),null):fe??_("span",{class:"v-autocomplete__selection-text"},[k.title,t.multiple&&z<E.value.length-1&&_("span",{class:"v-autocomplete__selection-comma"},[Yr(",")])])])})]),"append-inner":function(){var K;for(var k=arguments.length,z=new Array(k),G=0;G<k;G++)z[G]=arguments[G];return _(Fe,null,[(K=n["append-inner"])==null?void 0:K.call(n,...z),t.menuIcon?_(_t,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:q,onClick:EM,"aria-label":i(m.value),title:i(m.value),tabindex:"-1"},null):void 0])}})}),Bi({isFocused:a,isPristine:s,menu:d,search:x,filteredItems:C,select:_e},r)}}),Q2=te({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ze,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Ve(),...ia({location:"top end"}),...Gt(),...it(),...pt(),...er({transition:"scale-rotate-transition"})},"VBadge"),eO=ve()({name:"VBadge",inheritAttrs:!1,props:Q2(),setup(t,e){const{backgroundColorClasses:n,backgroundColorStyles:i}=kt(ue(t,"color")),{roundedClasses:r}=jt(t),{t:a}=Jt(),{textColorClasses:s,textColorStyles:o}=On(ue(t,"textColor")),{themeClasses:l}=QM(),{locationStyles:c}=ro(t,!0,u=>(t.floating?t.dot?2:4:t.dot?8:12)+(["top","bottom"].includes(u)?+(t.offsetY??0):["left","right"].includes(u)?+(t.offsetX??0):0));return be(()=>{const u=Number(t.content),d=!t.max||isNaN(u)?t.content:u<=+t.max?u:`${t.max}+`,[f,h]=lv(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return _(t.tag,xe({class:["v-badge",{"v-badge--bordered":t.bordered,"v-badge--dot":t.dot,"v-badge--floating":t.floating,"v-badge--inline":t.inline},t.class]},h,{style:t.style}),{default:()=>{var m,v;return[_("div",{class:"v-badge__wrapper"},[(v=(m=e.slots).default)==null?void 0:v.call(m),_(Wn,{transition:t.transition},{default:()=>{var p,g;return[Xt(_("span",xe({class:["v-badge__badge",l.value,n.value,r.value,s.value],style:[i.value,o.value,t.inline?{}:c.value],"aria-atomic":"true","aria-label":a(t.label,u),"aria-live":"polite",role:"status"},f),[t.dot?void 0:e.slots.badge?(g=(p=e.slots).badge)==null?void 0:g.call(p):t.icon?_(_t,{icon:t.icon},null):d]),[[Qi,t.modelValue]])]}})])]}})}),{}}}),tO=te({color:String,density:String,...Ve()},"VBannerActions"),oC=ve()({name:"VBannerActions",props:tO(),setup(t,e){let{slots:n}=e;return Yt({VBtn:{color:t.color,density:t.density,slim:!0,variant:"text"}}),be(()=>{var i;return _("div",{class:["v-banner-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),lC=Sr("v-banner-text"),nO=te({avatar:String,bgColor:String,color:String,icon:Ze,lines:String,stacked:Boolean,sticky:Boolean,text:String,...di(),...Ve(),...wn(),...un(),...Ks({mobile:null}),...bn(),...ia(),..._l(),...Gt(),...it(),...pt()},"VBanner"),iO=ve()({name:"VBanner",props:nO(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:r}=kt(t,"bgColor"),{borderClasses:a}=Ei(t),{densityClasses:s}=Yn(t),{displayClasses:o,mobile:l}=Vi(t),{dimensionStyles:c}=dn(t),{elevationClasses:u}=In(t),{locationStyles:d}=ro(t),{positionClasses:f}=bl(t),{roundedClasses:h}=jt(t),{themeClasses:m}=xt(t),v=ue(t,"color"),p=ue(t,"density");Yt({VBannerActions:{color:v,density:p}}),be(()=>{const g=!!(t.text||n.text),y=!!(t.avatar||t.icon),b=!!(y||n.prepend);return _(t.tag,{class:["v-banner",{"v-banner--stacked":t.stacked||l.value,"v-banner--sticky":t.sticky,[`v-banner--${t.lines}-line`]:!!t.lines},m.value,i.value,a.value,s.value,o.value,u.value,f.value,h.value,t.class],style:[r.value,c.value,d.value,t.style],role:"banner"},{default:()=>{var x;return[b&&_("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?_(ut,{key:"prepend-defaults",disabled:!y,defaults:{VAvatar:{color:v.value,density:p.value,icon:t.icon,image:t.avatar}}},n.prepend):_(Oi,{key:"prepend-avatar",color:v.value,density:p.value,icon:t.icon,image:t.avatar},null)]),_("div",{class:"v-banner__content"},[g&&_(lC,{key:"text"},{default:()=>{var E;return[((E=n.text)==null?void 0:E.call(n))??t.text]}}),(x=n.default)==null?void 0:x.call(n)]),n.actions&&_(oC,{key:"actions"},n.actions)]}})})}}),rO=te({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...di(),...Ve(),...wn(),...bn(),...Gt(),...Zs({name:"bottom-navigation"}),...it({tag:"header"}),...to({selectedClass:"v-btn--selected"}),...pt()},"VBottomNavigation"),aO=ve()({name:"VBottomNavigation",props:rO(),emits:{"update:active":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=QM(),{borderClasses:r}=Ei(t),{backgroundColorClasses:a,backgroundColorStyles:s}=kt(ue(t,"bgColor")),{densityClasses:o}=Yn(t),{elevationClasses:l}=In(t),{roundedClasses:c}=jt(t),{ssrBootStyles:u}=Qs(),d=P(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),f=We(t,"active",t.active),{layoutItemStyles:h}=Js({id:t.name,order:P(()=>parseInt(t.order,10)),position:P(()=>"bottom"),layoutSize:P(()=>f.value?d.value:0),elementSize:d,active:f,absolute:ue(t,"absolute")});return Wa(t,oy),Yt({VBtn:{baseColor:ue(t,"baseColor"),color:ue(t,"color"),density:ue(t,"density"),stacked:P(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),be(()=>_(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},i.value,a.value,r.value,o.value,l.value,c.value,t.class],style:[s.value,h.value,{height:Le(d.value)},u.value,t.style]},{default:()=>[n.default&&_("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),cC=te({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...gu({origin:"center center",scrollStrategy:"block",transition:{component:bh},zIndex:2400})},"VDialog"),Ev=ve()({name:"VDialog",props:cC(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=We(t,"modelValue"),{scopeId:a}=ao(),s=pe();function o(u){var h,m;const d=u.relatedTarget,f=u.target;if(d!==f&&((h=s.value)!=null&&h.contentEl)&&((m=s.value)!=null&&m.globalTop)&&![document,s.value.contentEl].includes(f)&&!s.value.contentEl.contains(f)){const v=Mc(s.value.contentEl);if(!v.length)return;const p=v[0],g=v[v.length-1];d===p?g.focus():p.focus()}}Mt&&Te(()=>r.value&&t.retainFocus,u=>{u?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function l(){var u;n("afterEnter"),(u=s.value)!=null&&u.contentEl&&!s.value.contentEl.contains(document.activeElement)&&s.value.contentEl.focus({preventScroll:!0})}function c(){n("afterLeave")}return Te(r,async u=>{var d;u||(await vt(),(d=s.value.activatorEl)==null||d.focus({preventScroll:!0}))}),be(()=>{const u=vr.filterProps(t),d=xe({"aria-haspopup":"dialog","aria-expanded":String(r.value)},t.activatorProps),f=xe({tabindex:-1},t.contentProps);return _(vr,xe({ref:s,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},u,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,"aria-modal":"true",activatorProps:d,contentProps:f,role:"dialog",onAfterEnter:l,onAfterLeave:c},a),{activator:i.activator,default:function(){for(var h=arguments.length,m=new Array(h),v=0;v<h;v++)m[v]=arguments[v];return _(ut,{root:"VDialog"},{default:()=>{var p;return[(p=i.default)==null?void 0:p.call(i,...m)]}})}})}),Bi({},s)}}),sO=te({inset:Boolean,...cC({transition:"bottom-sheet-transition"})},"VBottomSheet"),oO=ve()({name:"VBottomSheet",props:sO(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"modelValue");return be(()=>{const r=Ev.filterProps(t);return _(Ev,xe(r,{contentClass:["v-bottom-sheet__content",t.contentClass],modelValue:i.value,"onUpdate:modelValue":a=>i.value=a,class:["v-bottom-sheet",{"v-bottom-sheet--inset":t.inset},t.class],style:t.style}),n)}),{}}}),lO=te({divider:[Number,String],...Ve()},"VBreadcrumbsDivider"),uC=ve()({name:"VBreadcrumbsDivider",props:lO(),setup(t,e){let{slots:n}=e;return be(()=>{var i;return _("li",{class:["v-breadcrumbs-divider",t.class],style:t.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??t.divider])}),{}}}),cO=te({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Ve(),...mu(),...it({tag:"li"})},"VBreadcrumbsItem"),dC=ve()({name:"VBreadcrumbsItem",props:cO(),setup(t,e){let{slots:n,attrs:i}=e;const r=hu(t,i),a=P(()=>{var c;return t.active||((c=r.isActive)==null?void 0:c.value)}),s=P(()=>a.value?t.activeColor:t.color),{textColorClasses:o,textColorStyles:l}=On(s);return be(()=>_(t.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":a.value,"v-breadcrumbs-item--disabled":t.disabled,[`${t.activeClass}`]:a.value&&t.activeClass},o.value,t.class],style:[l.value,t.style],"aria-current":a.value?"page":void 0},{default:()=>{var c,u;return[r.isLink.value?_("a",{class:"v-breadcrumbs-item--link",href:r.href.value,"aria-current":a.value?"page":void 0,onClick:r.navigate},[((u=n.default)==null?void 0:u.call(n))??t.title]):((c=n.default)==null?void 0:c.call(n))??t.title]}})),{}}}),uO=te({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Ze,items:{type:Array,default:()=>[]},...Ve(),...wn(),...Gt(),...it({tag:"ul"})},"VBreadcrumbs"),dO=ve()({name:"VBreadcrumbs",props:uO(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:r}=kt(ue(t,"bgColor")),{densityClasses:a}=Yn(t),{roundedClasses:s}=jt(t);Yt({VBreadcrumbsDivider:{divider:ue(t,"divider")},VBreadcrumbsItem:{activeClass:ue(t,"activeClass"),activeColor:ue(t,"activeColor"),color:ue(t,"color"),disabled:ue(t,"disabled")}});const o=P(()=>t.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return be(()=>{const l=!!(n.prepend||t.icon);return _(t.tag,{class:["v-breadcrumbs",i.value,a.value,s.value,t.class],style:[r.value,t.style]},{default:()=>{var c;return[l&&_("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?_(ut,{key:"prepend-defaults",disabled:!t.icon,defaults:{VIcon:{icon:t.icon,start:!0}}},n.prepend):_(_t,{key:"prepend-icon",start:!0,icon:t.icon},null)]),o.value.map((u,d,f)=>{var v;let{item:h,raw:m}=u;return _(Fe,null,[((v=n.item)==null?void 0:v.call(n,{item:h,index:d}))??_(dC,xe({key:d,disabled:d>=f.length-1},typeof h=="string"?{title:h}:h),{default:n.title?()=>{var p;return(p=n.title)==null?void 0:p.call(n,{item:h,index:d})}:void 0}),d<f.length-1&&_(uC,null,{default:n.divider?()=>{var p;return(p=n.divider)==null?void 0:p.call(n,{item:m,index:d})}:void 0})])}),(c=n.default)==null?void 0:c.call(n)]}})}),{}}}),fC=ve()({name:"VCardActions",props:Ve(),setup(t,e){let{slots:n}=e;return Yt({VBtn:{slim:!0,variant:"text"}}),be(()=>{var i;return _("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),fO=te({opacity:[Number,String],...Ve(),...it()},"VCardSubtitle"),hC=ve()({name:"VCardSubtitle",props:fO(),setup(t,e){let{slots:n}=e;return be(()=>_(t.tag,{class:["v-card-subtitle",t.class],style:[{"--v-card-subtitle-opacity":t.opacity},t.style]},n)),{}}}),mC=Sr("v-card-title"),hO=te({appendAvatar:String,appendIcon:Ze,prependAvatar:String,prependIcon:Ze,subtitle:[String,Number],title:[String,Number],...Ve(),...wn()},"VCardItem"),pC=ve()({name:"VCardItem",props:hO(),setup(t,e){let{slots:n}=e;return be(()=>{var c;const i=!!(t.prependAvatar||t.prependIcon),r=!!(i||n.prepend),a=!!(t.appendAvatar||t.appendIcon),s=!!(a||n.append),o=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return _("div",{class:["v-card-item",t.class],style:t.style},[r&&_("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?_(ut,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):_(Fe,null,[t.prependAvatar&&_(Oi,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&_(_t,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),_("div",{class:"v-card-item__content"},[o&&_(mC,{key:"title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??t.title]}}),l&&_(hC,{key:"subtitle"},{default:()=>{var u;return[((u=n.subtitle)==null?void 0:u.call(n))??t.subtitle]}}),(c=n.default)==null?void 0:c.call(n)]),s&&_("div",{key:"append",class:"v-card-item__append"},[n.append?_(ut,{key:"append-defaults",disabled:!a,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):_(Fe,null,[t.appendIcon&&_(_t,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&_(Oi,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),mO=te({opacity:[Number,String],...Ve(),...it()},"VCardText"),vC=ve()({name:"VCardText",props:mO(),setup(t,e){let{slots:n}=e;return be(()=>_(t.tag,{class:["v-card-text",t.class],style:[{"--v-card-text-opacity":t.opacity},t.style]},n)),{}}}),pO=te({appendAvatar:String,appendIcon:Ze,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ze,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...di(),...Ve(),...wn(),...un(),...bn(),...Mh(),...ia(),..._l(),...Gt(),...mu(),...it(),...pt(),...Ni({variant:"elevated"})},"VCard"),vO=ve()({name:"VCard",directives:{Ripple:ra},props:pO(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:r}=xt(t),{borderClasses:a}=Ei(t),{colorClasses:s,colorStyles:o,variantClasses:l}=eo(t),{densityClasses:c}=Yn(t),{dimensionStyles:u}=dn(t),{elevationClasses:d}=In(t),{loaderClasses:f}=du(t),{locationStyles:h}=ro(t),{positionClasses:m}=bl(t),{roundedClasses:v}=jt(t),p=hu(t,n),g=P(()=>t.link!==!1&&p.isLink.value),y=P(()=>!t.disabled&&t.link!==!1&&(t.link||p.isClickable.value));return be(()=>{const b=g.value?"a":t.tag,x=!!(i.title||t.title!=null),E=!!(i.subtitle||t.subtitle!=null),M=x||E,A=!!(i.append||t.appendAvatar||t.appendIcon),C=!!(i.prepend||t.prependAvatar||t.prependIcon),S=!!(i.image||t.image),w=M||C||A,T=!!(i.text||t.text!=null);return Xt(_(b,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":y.value},r.value,a.value,s.value,c.value,d.value,f.value,m.value,v.value,l.value,t.class],style:[o.value,u.value,h.value,t.style],href:p.href.value,onClick:y.value&&p.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var I;return[S&&_("div",{key:"image",class:"v-card__image"},[i.image?_(ut,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):_(jr,{key:"image-img",cover:!0,src:t.image},null)]),_(fu,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),w&&_(pC,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),T&&_(vC,{key:"text"},{default:()=>{var D;return[((D=i.text)==null?void 0:D.call(i))??t.text]}}),(I=i.default)==null?void 0:I.call(i),i.actions&&_(fC,null,{default:i.actions}),Ga(y.value,"v-card")]}}),[[Mi("ripple"),y.value&&t.ripple]])}),{}}}),gO=t=>{const{touchstartX:e,touchendX:n,touchstartY:i,touchendY:r}=t,a=.5,s=16;t.offsetX=n-e,t.offsetY=r-i,Math.abs(t.offsetY)<a*Math.abs(t.offsetX)&&(t.left&&n<e-s&&t.left(t),t.right&&n>e+s&&t.right(t)),Math.abs(t.offsetX)<a*Math.abs(t.offsetY)&&(t.up&&r<i-s&&t.up(t),t.down&&r>i+s&&t.down(t))};function yO(t,e){var i;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(i=e.start)==null||i.call(e,{originalEvent:t,...e})}function _O(t,e){var i;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(i=e.end)==null||i.call(e,{originalEvent:t,...e}),gO(e)}function bO(t,e){var i;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(i=e.move)==null||i.call(e,{originalEvent:t,...e})}function xO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>yO(n,e),touchend:n=>_O(n,e),touchmove:n=>bO(n,e)}}function SO(t,e){var o;const n=e.value,i=n!=null&&n.parent?t.parentElement:t,r=(n==null?void 0:n.options)??{passive:!0},a=(o=e.instance)==null?void 0:o.$.uid;if(!i||!a)return;const s=xO(e.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[a]=s,SM(s).forEach(l=>{i.addEventListener(l,s[l],r)})}function wO(t,e){var a,s;const n=(a=e.value)!=null&&a.parent?t.parentElement:t,i=(s=e.instance)==null?void 0:s.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const r=n._touchHandlers[i];SM(r).forEach(o=>{n.removeEventListener(o,r[o])}),delete n._touchHandlers[i]}const xy={mounted:SO,unmounted:wO},gC=Symbol.for("vuetify:v-window"),yC=Symbol.for("vuetify:v-window-group"),Lh=te({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ve(),...it(),...pt()},"VWindow"),Fs=ve()({name:"VWindow",directives:{Touch:xy},props:Lh(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=xt(t),{isRtl:r}=_n(),{t:a}=Jt(),s=Wa(t,yC),o=pe(),l=P(()=>r.value?!t.reverse:t.reverse),c=Ee(!1),u=P(()=>{const x=t.direction==="vertical"?"y":"x",M=(l.value?!c.value:c.value)?"-reverse":"";return`v-window-${x}${M}-transition`}),d=Ee(0),f=pe(void 0),h=P(()=>s.items.value.findIndex(x=>s.selected.value.includes(x.id)));Te(h,(x,E)=>{const M=s.items.value.length,A=M-1;M<=2?c.value=x<E:x===A&&E===0?c.value=!0:x===0&&E===A?c.value=!1:c.value=x<E}),Ct(gC,{transition:u,isReversed:c,transitionCount:d,transitionHeight:f,rootRef:o});const m=P(()=>t.continuous||h.value!==0),v=P(()=>t.continuous||h.value!==s.items.value.length-1);function p(){m.value&&s.prev()}function g(){v.value&&s.next()}const y=P(()=>{const x=[],E={icon:r.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:s.prev,"aria-label":a("$vuetify.carousel.prev")};x.push(m.value?n.prev?n.prev({props:E}):_(yt,E,null):_("div",null,null));const M={icon:r.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:s.next,"aria-label":a("$vuetify.carousel.next")};return x.push(v.value?n.next?n.next({props:M}):_(yt,M,null):_("div",null,null)),x}),b=P(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?p():g()},right:()=>{l.value?g():p()},start:E=>{let{originalEvent:M}=E;M.stopPropagation()}},...t.touch===!0?{}:t.touch});return be(()=>Xt(_(t.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},i.value,t.class],style:t.style},{default:()=>{var x,E;return[_("div",{class:"v-window__container",style:{height:f.value}},[(x=n.default)==null?void 0:x.call(n,{group:s}),t.showArrows!==!1&&_("div",{class:"v-window__controls"},[y.value])]),(E=n.additional)==null?void 0:E.call(n,{group:s})]}}),[[Mi("touch"),b.value]])),{group:s}}}),MO=te({color:String,cycle:Boolean,delimiterIcon:{type:Ze,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>Number(t)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...Lh({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),CO=ve()({name:"VCarousel",props:MO(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"modelValue"),{t:r}=Jt(),a=pe();let s=-1;Te(i,l),Te(()=>t.interval,l),Te(()=>t.cycle,c=>{c?l():window.clearTimeout(s)}),cn(o);function o(){!t.cycle||!a.value||(s=window.setTimeout(a.value.group.next,+t.interval>0?+t.interval:6e3))}function l(){window.clearTimeout(s),window.requestAnimationFrame(o)}return be(()=>{const c=Fs.filterProps(t);return _(Fs,xe({ref:a},c,{modelValue:i.value,"onUpdate:modelValue":u=>i.value=u,class:["v-carousel",{"v-carousel--hide-delimiter-background":t.hideDelimiterBackground,"v-carousel--vertical-delimiters":t.verticalDelimiters},t.class],style:[{height:Le(t.height)},t.style]}),{default:n.default,additional:u=>{let{group:d}=u;return _(Fe,null,[!t.hideDelimiters&&_("div",{class:"v-carousel__controls",style:{left:t.verticalDelimiters==="left"&&t.verticalDelimiters?0:"auto",right:t.verticalDelimiters==="right"?0:"auto"}},[d.items.value.length>0&&_(ut,{defaults:{VBtn:{color:t.color,icon:t.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[d.items.value.map((f,h)=>{const m={id:`carousel-item-${f.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",h+1,d.items.value.length),class:["v-carousel__controls__item",d.isSelected(f.id)&&"v-btn--active"],onClick:()=>d.select(f.id,!0)};return n.item?n.item({props:m,item:f}):_(yt,xe(f,m),null)})]})]),t.progress&&_(wh,{class:"v-carousel__progress",color:typeof t.progress=="string"?t.progress:void 0,modelValue:(d.getItemIndex(i.value)+1)/d.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),kh=te({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ve(),...no(),...py()},"VWindowItem"),Us=ve()({name:"VWindowItem",directives:{Touch:xy},props:kh(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=nt(gC),r=io(t,yC),{isBooted:a}=Qs();if(!i||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=Ee(!1),o=P(()=>a.value&&(i.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!s.value||!i||(s.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function c(){var m;s.value||!i||(s.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Le((m=i.rootRef.value)==null?void 0:m.clientHeight)),i.transitionCount.value+=1)}function u(){l()}function d(m){s.value&&vt(()=>{!o.value||!s.value||!i||(i.transitionHeight.value=Le(m.clientHeight))})}const f=P(()=>{const m=i.isReversed.value?t.reverseTransition:t.transition;return o.value?{name:typeof m!="string"?i.transition.value:m,onBeforeEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:c,onAfterLeave:l,onLeaveCancelled:u,onEnter:d}:!1}),{hasContent:h}=vy(t,r.isSelected);return be(()=>_(Wn,{transition:f.value,disabled:!a.value},{default:()=>{var m;return[Xt(_("div",{class:["v-window-item",r.selectedClass.value,t.class],style:t.style},[h.value&&((m=n.default)==null?void 0:m.call(n))]),[[Qi,r.isSelected.value]])]}})),{groupItem:r}}}),AO=te({...u1(),...kh()},"VCarouselItem"),EO=ve()({name:"VCarouselItem",inheritAttrs:!1,props:AO(),setup(t,e){let{slots:n,attrs:i}=e;be(()=>{const r=jr.filterProps(t),a=Us.filterProps(t);return _(Us,xe({class:["v-carousel-item",t.class]},a),{default:()=>[_(jr,xe(i,r),n)]})})}}),TO=Sr("v-code"),PO=te({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Ve()},"VColorPickerCanvas"),IO=Ci({name:"VColorPickerCanvas",props:PO(),emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:n}=e;const i=Ee(!1),r=pe(),a=Ee(parseFloat(t.width)),s=Ee(parseFloat(t.height)),o=pe({x:0,y:0}),l=P({get:()=>o.value,set(p){var b,x;if(!r.value)return;const{x:g,y}=p;o.value=p,n("update:color",{h:((b=t.color)==null?void 0:b.h)??0,s:rn(g,0,a.value)/a.value,v:1-rn(y,0,s.value)/s.value,a:((x=t.color)==null?void 0:x.a)??1})}}),c=P(()=>{const{x:p,y:g}=l.value,y=parseInt(t.dotSize,10)/2;return{width:Le(t.dotSize),height:Le(t.dotSize),transform:`translate(${Le(p-y)}, ${Le(g-y)})`}}),{resizeRef:u}=ji(p=>{var b;if(!((b=u.el)!=null&&b.offsetParent))return;const{width:g,height:y}=p[0].contentRect;a.value=g,s.value=y});function d(p,g,y){const{left:b,top:x,width:E,height:M}=y;l.value={x:rn(p-b,0,E),y:rn(g-x,0,M)}}function f(p){p.type==="mousedown"&&p.preventDefault(),!t.disabled&&(h(p),window.addEventListener("mousemove",h),window.addEventListener("mouseup",m),window.addEventListener("touchmove",h),window.addEventListener("touchend",m))}function h(p){if(t.disabled||!r.value)return;i.value=!0;const g=YR(p);d(g.clientX,g.clientY,r.value.getBoundingClientRect())}function m(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",h),window.removeEventListener("touchend",m)}function v(){var x;if(!r.value)return;const p=r.value,g=p.getContext("2d");if(!g)return;const y=g.createLinearGradient(0,0,p.width,0);y.addColorStop(0,"hsla(0, 0%, 100%, 1)"),y.addColorStop(1,`hsla(${((x=t.color)==null?void 0:x.h)??0}, 100%, 50%, 1)`),g.fillStyle=y,g.fillRect(0,0,p.width,p.height);const b=g.createLinearGradient(0,0,0,p.height);b.addColorStop(0,"hsla(0, 0%, 0%, 0)"),b.addColorStop(1,"hsla(0, 0%, 0%, 1)"),g.fillStyle=b,g.fillRect(0,0,p.width,p.height)}return Te(()=>{var p;return(p=t.color)==null?void 0:p.h},v,{immediate:!0}),Te(()=>[a.value,s.value],(p,g)=>{v(),o.value={x:l.value.x*p[0]/g[0],y:l.value.y*p[1]/g[1]}},{flush:"post"}),Te(()=>t.color,()=>{if(i.value){i.value=!1;return}o.value=t.color?{x:t.color.s*a.value,y:(1-t.color.v)*s.value}:{x:0,y:0}},{deep:!0,immediate:!0}),cn(()=>v()),be(()=>_("div",{ref:u,class:["v-color-picker-canvas",t.class],style:t.style,onMousedown:f,onTouchstartPassive:f},[_("canvas",{ref:r,width:a.value,height:s.value},null),t.color&&_("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:c.value},null)])),{}}});function RO(t,e){if(e){const{a:n,...i}=t;return i}return t}function LO(t,e){if(e==null||typeof e=="string"){const n=FM(t);return t.a===1?n.slice(0,7):n}if(typeof e=="object"){let n;return bs(e,["r","g","b"])?n=qr(t):bs(e,["h","s","l"])?n=kM(t):bs(e,["h","s","v"])&&(n=t),RO(n,!bs(e,["a"])&&t.a===1)}return t}const Ho={h:0,s:0,v:0,a:1},Tv={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:qr,from:vh};var GS;const kO={...Tv,inputs:(GS=Tv.inputs)==null?void 0:GS.slice(0,3)},Pv={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:kM,from:jg},DO={...Pv,inputs:Pv.inputs.slice(0,3)},_C={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:FM,from:BM},OO={..._C,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},Is={rgb:kO,rgba:Tv,hsl:DO,hsla:Pv,hex:OO,hexa:_C},VO=t=>{let{label:e,...n}=t;return _("div",{class:"v-color-picker-edit__input"},[_("input",n,null),_("span",null,[e])])},NO=te({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Is).includes(t)},modes:{type:Array,default:()=>Object.keys(Is),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Is).includes(e))},...Ve()},"VColorPickerEdit"),BO=Ci({name:"VColorPickerEdit",props:NO(),emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:n}=e;const i=P(()=>t.modes.map(a=>({...Is[a],name:a}))),r=P(()=>{var o;const a=i.value.find(l=>l.name===t.mode);if(!a)return[];const s=t.color?a.to(t.color):null;return(o=a.inputs)==null?void 0:o.map(l=>{let{getValue:c,getColor:u,...d}=l;return{...a.inputProps,...d,disabled:t.disabled,value:s&&c(s),onChange:f=>{const h=f.target;h&&n("update:color",a.from(u(s??a.to(Ho),h.value)))}}})});return be(()=>{var a;return _("div",{class:["v-color-picker-edit",t.class],style:t.style},[(a=r.value)==null?void 0:a.map(s=>_(VO,s,null)),i.value.length>1&&_(yt,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const s=i.value.findIndex(o=>o.name===t.mode);n("update:mode",i.value[(s+1)%i.value.length].name)}},null)])}),{}}}),Sy=Symbol.for("vuetify:v-slider");function Iv(t,e,n){const i=n==="vertical",r=e.getBoundingClientRect(),a="touches"in t?t.touches[0]:t;return i?a.clientY-(r.top+r.height/2):a.clientX-(r.left+r.width/2)}function FO(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const bC=te({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...Gt(),...bn({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),xC=t=>{const e=P(()=>parseFloat(t.min)),n=P(()=>parseFloat(t.max)),i=P(()=>+t.step>0?parseFloat(t.step):0),r=P(()=>Math.max(D_(i.value),D_(e.value)));function a(s){if(s=parseFloat(s),i.value<=0)return s;const o=rn(s,e.value,n.value),l=e.value%i.value,c=Math.round((o-l)/i.value)*i.value+l;return parseFloat(Math.min(c,n.value).toFixed(r.value))}return{min:e,max:n,step:i,decimals:r,roundValue:a}},SC=t=>{let{props:e,steps:n,onSliderStart:i,onSliderMove:r,onSliderEnd:a,getActiveThumb:s}=t;const{isRtl:o}=_n(),l=ue(e,"reverse"),c=P(()=>e.direction==="vertical"),u=P(()=>c.value!==l.value),{min:d,max:f,step:h,decimals:m,roundValue:v}=n,p=P(()=>parseInt(e.thumbSize,10)),g=P(()=>parseInt(e.tickSize,10)),y=P(()=>parseInt(e.trackSize,10)),b=P(()=>(f.value-d.value)/h.value),x=ue(e,"disabled"),E=P(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),M=P(()=>e.error||e.disabled?void 0:e.trackColor??e.color),A=P(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),C=Ee(!1),S=Ee(0),w=pe(),T=pe();function I(J){var z;const W=e.direction==="vertical",re=W?"top":"left",de=W?"height":"width",_e=W?"clientY":"clientX",{[re]:me,[de]:V}=(z=w.value)==null?void 0:z.$el.getBoundingClientRect(),L=FO(J,_e);let k=Math.min(Math.max((L-me-S.value)/V,0),1)||0;return(W?u.value:u.value!==o.value)&&(k=1-k),v(d.value+k*(f.value-d.value))}const D=J=>{a({value:I(J)}),C.value=!1,S.value=0},N=J=>{T.value=s(J),T.value&&(T.value.focus(),C.value=!0,T.value.contains(J.target)?S.value=Iv(J,T.value,e.direction):(S.value=0,r({value:I(J)})),i({value:I(J)}))},$={passive:!0,capture:!0};function U(J){r({value:I(J)})}function Z(J){J.stopPropagation(),J.preventDefault(),D(J),window.removeEventListener("mousemove",U,$),window.removeEventListener("mouseup",Z)}function Y(J){var W;D(J),window.removeEventListener("touchmove",U,$),(W=J.target)==null||W.removeEventListener("touchend",Y)}function j(J){var W;N(J),window.addEventListener("touchmove",U,$),(W=J.target)==null||W.addEventListener("touchend",Y,{passive:!1})}function q(J){J.preventDefault(),N(J),window.addEventListener("mousemove",U,$),window.addEventListener("mouseup",Z,{passive:!1})}const F=J=>{const W=(J-d.value)/(f.value-d.value)*100;return rn(isNaN(W)?0:W,0,100)},se=ue(e,"showTicks"),Ce=P(()=>se.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(J=>({value:J,position:F(J),label:J.toString()})):Object.keys(e.ticks).map(J=>({value:parseFloat(J),position:F(parseFloat(J)),label:e.ticks[J]})):b.value!==1/0?cr(b.value+1).map(J=>{const W=d.value+J*h.value;return{value:W,position:F(W)}}):[]:[]),Q=P(()=>Ce.value.some(J=>{let{label:W}=J;return!!W})),he={activeThumbRef:T,color:ue(e,"color"),decimals:m,disabled:x,direction:ue(e,"direction"),elevation:ue(e,"elevation"),hasLabels:Q,isReversed:l,indexFromEnd:u,min:d,max:f,mousePressed:C,numTicks:b,onSliderMousedown:q,onSliderTouchstart:j,parsedTicks:Ce,parseMouseMove:I,position:F,readonly:ue(e,"readonly"),rounded:ue(e,"rounded"),roundValue:v,showTicks:se,startOffset:S,step:h,thumbSize:p,thumbColor:E,thumbLabel:ue(e,"thumbLabel"),ticks:ue(e,"ticks"),tickSize:g,trackColor:M,trackContainerRef:w,trackFillColor:A,trackSize:y,vertical:c};return Ct(Sy,he),he},UO=te({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Ve()},"VSliderThumb"),Rv=ve()({name:"VSliderThumb",directives:{Ripple:ra},props:UO(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=nt(Sy),{isRtl:a,rtlClasses:s}=_n();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:l,disabled:c,thumbSize:u,thumbLabel:d,direction:f,isReversed:h,vertical:m,readonly:v,elevation:p,mousePressed:g,decimals:y,indexFromEnd:b}=r,x=P(()=>c.value?void 0:p.value),{elevationClasses:E}=In(x),{textColorClasses:M,textColorStyles:A}=On(o),{pageup:C,pagedown:S,end:w,home:T,left:I,right:D,down:N,up:$}=ov,U=[C,S,w,T,I,D,N,$],Z=P(()=>l.value?[1,2,3]:[1,5,10]);function Y(q,F){if(!U.includes(q.key))return;q.preventDefault();const se=l.value||.1,Ce=(t.max-t.min)/se;if([I,D,N,$].includes(q.key)){const he=(m.value?[a.value?I:D,h.value?N:$]:b.value!==a.value?[I,$]:[D,$]).includes(q.key)?1:-1,J=q.shiftKey?2:q.ctrlKey?1:0;F=F+he*se*Z.value[J]}else if(q.key===T)F=t.min;else if(q.key===w)F=t.max;else{const Q=q.key===S?1:-1;F=F-Q*se*(Ce>100?Ce/10:10)}return Math.max(t.min,Math.min(t.max,F))}function j(q){const F=Y(q,t.modelValue);F!=null&&i("update:modelValue",F)}return be(()=>{const q=Le(b.value?100-t.position:t.position,"%");return _("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&g.value},t.class,s.value],style:[{"--v-slider-thumb-position":q,"--v-slider-thumb-size":Le(u.value)},t.style],role:"slider",tabindex:c.value?-1:0,"aria-label":t.name,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!v.value,"aria-orientation":f.value,onKeydown:v.value?void 0:j},[_("div",{class:["v-slider-thumb__surface",M.value,E.value],style:{...A.value}},null),Xt(_("div",{class:["v-slider-thumb__ripple",M.value],style:A.value},null),[[Mi("ripple"),t.ripple,null,{circle:!0,center:!0}]]),_(iy,{origin:"bottom center"},{default:()=>{var F;return[Xt(_("div",{class:"v-slider-thumb__label-container"},[_("div",{class:["v-slider-thumb__label"]},[_("div",null,[((F=n["thumb-label"])==null?void 0:F.call(n,{modelValue:t.modelValue}))??t.modelValue.toFixed(l.value?y.value:1)])])]),[[Qi,d.value&&t.focused||d.value==="always"]])]}})])}),{}}}),zO=te({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ve()},"VSliderTrack"),wC=ve()({name:"VSliderTrack",props:zO(),emits:{},setup(t,e){let{slots:n}=e;const i=nt(Sy);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:a,rounded:s,showTicks:o,tickSize:l,trackColor:c,trackFillColor:u,trackSize:d,vertical:f,min:h,max:m,indexFromEnd:v}=i,{roundedClasses:p}=jt(s),{backgroundColorClasses:g,backgroundColorStyles:y}=kt(u),{backgroundColorClasses:b,backgroundColorStyles:x}=kt(c),E=P(()=>`inset-${f.value?"block":"inline"}-${v.value?"end":"start"}`),M=P(()=>f.value?"height":"width"),A=P(()=>({[E.value]:"0%",[M.value]:"100%"})),C=P(()=>t.stop-t.start),S=P(()=>({[E.value]:Le(t.start,"%"),[M.value]:Le(C.value,"%")})),w=P(()=>o.value?(f.value?a.value.slice().reverse():a.value).map((I,D)=>{var $;const N=I.value!==h.value&&I.value!==m.value?Le(I.position,"%"):void 0;return _("div",{key:I.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":I.position>=t.start&&I.position<=t.stop,"v-slider-track__tick--first":I.value===h.value,"v-slider-track__tick--last":I.value===m.value}],style:{[E.value]:N}},[(I.label||n["tick-label"])&&_("div",{class:"v-slider-track__tick-label"},[(($=n["tick-label"])==null?void 0:$.call(n,{tick:I,index:D}))??I.label])])}):[]);return be(()=>_("div",{class:["v-slider-track",p.value,t.class],style:[{"--v-slider-track-size":Le(d.value),"--v-slider-tick-size":Le(l.value)},t.style]},[_("div",{class:["v-slider-track__background",b.value,{"v-slider-track__background--opacity":!!r.value||!u.value}],style:{...A.value,...x.value}},null),_("div",{class:["v-slider-track__fill",g.value],style:{...S.value,...y.value}},null),o.value&&_("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}]},[w.value])])),{}}}),HO=te({...pu(),...bC(),...sa(),modelValue:{type:[Number,String],default:0}},"VSlider"),Lv=ve()({name:"VSlider",props:HO(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=pe(),{rtlClasses:a}=_n(),s=xC(t),o=We(t,"modelValue",void 0,M=>s.roundValue(M??s.min.value)),{min:l,max:c,mousePressed:u,roundValue:d,onSliderMousedown:f,onSliderTouchstart:h,trackContainerRef:m,position:v,hasLabels:p,readonly:g}=SC({props:t,steps:s,onSliderStart:()=>{i("start",o.value)},onSliderEnd:M=>{let{value:A}=M;const C=d(A);o.value=C,i("end",C)},onSliderMove:M=>{let{value:A}=M;return o.value=d(A)},getActiveThumb:()=>{var M;return(M=r.value)==null?void 0:M.$el}}),{isFocused:y,focus:b,blur:x}=aa(t),E=P(()=>v(o.value));return be(()=>{const M=Vn.filterProps(t),A=!!(t.label||n.label||n.prepend);return _(Vn,xe({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||p.value,"v-slider--focused":y.value,"v-slider--pressed":u.value,"v-slider--disabled":t.disabled},a.value,t.class],style:t.style},M,{focused:y.value}),{...n,prepend:A?C=>{var S,w;return _(Fe,null,[((S=n.label)==null?void 0:S.call(n,C))??(t.label?_(xl,{id:C.id.value,class:"v-slider__label",text:t.label},null):void 0),(w=n.prepend)==null?void 0:w.call(n,C)])}:void 0,default:C=>{let{id:S,messagesId:w}=C;return _("div",{class:"v-slider__container",onMousedown:g.value?void 0:f,onTouchstartPassive:g.value?void 0:h},[_("input",{id:S.value,name:t.name||S.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:o.value},null),_(wC,{ref:m,start:0,stop:E.value},{"tick-label":n["tick-label"]}),_(Rv,{ref:r,"aria-describedby":w.value,focused:y.value,min:l.value,max:c.value,modelValue:o.value,"onUpdate:modelValue":T=>o.value=T,position:E.value,elevation:t.elevation,onFocus:b,onBlur:x,ripple:t.ripple,name:t.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),GO=te({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Ve()},"VColorPickerPreview"),WO=Ci({name:"VColorPickerPreview",props:GO(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;const i=new AbortController;$r(()=>i.abort());async function r(){if(!I_)return;const a=new window.EyeDropper;try{const s=await a.open({signal:i.signal}),o=BM(s.sRGBHex);n("update:color",{...t.color??Ho,...o})}catch{}}return be(()=>{var a,s;return _("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha},t.class],style:t.style},[I_&&_("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[_(yt,{onClick:r,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),_("div",{class:"v-color-picker-preview__dot"},[_("div",{style:{background:OM(t.color??Ho)}},null)]),_("div",{class:"v-color-picker-preview__sliders"},[_(Lv,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(a=t.color)==null?void 0:a.h,"onUpdate:modelValue":o=>n("update:color",{...t.color??Ho,h:o}),step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&_(Lv,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((s=t.color)==null?void 0:s.a)??1,"onUpdate:modelValue":o=>n("update:color",{...t.color??Ho,a:o}),step:1/256,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),$O={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},XO={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},YO={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},qO={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},jO={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},KO={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},ZO={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},JO={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},QO={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},eV={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},tV={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},nV={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},iV={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},rV={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},aV={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},sV={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},oV={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},lV={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},cV={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},uV={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},dV={red:$O,pink:XO,purple:YO,deepPurple:qO,indigo:jO,blue:KO,lightBlue:ZO,cyan:JO,teal:QO,green:eV,lightGreen:tV,lime:nV,yellow:iV,amber:rV,orange:aV,deepOrange:sV,brown:oV,blueGrey:lV,grey:cV,shades:uV},fV=te({swatches:{type:Array,default:()=>hV(dV)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Ve()},"VColorPickerSwatches");function hV(t){return Object.keys(t).map(e=>{const n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const mV=Ci({name:"VColorPickerSwatches",props:fV(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return be(()=>_("div",{class:["v-color-picker-swatches",t.class],style:[{maxHeight:Le(t.maxHeight)},t.style]},[_("div",null,[t.swatches.map(i=>_("div",{class:"v-color-picker-swatches__swatch"},[i.map(r=>{const a=Li(r),s=vh(a),o=DM(a);return _("div",{class:"v-color-picker-swatches__color",onClick:()=>s&&n("update:color",s)},[_("div",{style:{background:o}},[t.color&&br(t.color,s)?_(_t,{size:"x-small",icon:"$success",color:yL(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),Dh=te({color:String,...di(),...Ve(),...un(),...bn(),...ia(),..._l(),...Gt(),...it(),...pt()},"VSheet"),zs=ve()({name:"VSheet",props:Dh(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=xt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=kt(ue(t,"color")),{borderClasses:s}=Ei(t),{dimensionStyles:o}=dn(t),{elevationClasses:l}=In(t),{locationStyles:c}=ro(t),{positionClasses:u}=bl(t),{roundedClasses:d}=jt(t);return be(()=>_(t.tag,{class:["v-sheet",i.value,r.value,s.value,l.value,u.value,d.value,t.class],style:[a.value,o.value,c.value,t.style]},n)),{}}}),pV=te({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Is).includes(t)},modes:{type:Array,default:()=>Object.keys(Is),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Is).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...ln(Dh({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),vV=Ci({name:"VColorPicker",props:pV(),emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=We(t,"mode"),n=pe(null),i=We(t,"modelValue",void 0,l=>{if(l==null||l==="")return null;let c;try{c=vh(Li(l))}catch{return null}return c},l=>l?LO(l,t.modelValue):null),r=P(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:a}=_n();let s=!0;Te(i,l=>{if(!s){s=!0;return}l&&(n.value=l.h)},{immediate:!0});const o=l=>{s=!1,n.value=l.h,i.value=l};return cn(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),Yt({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),be(()=>{const l=zs.filterProps(t);return _(zs,xe({rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker",a.value,t.class],style:[{"--v-color-picker-color-hsv":OM({...r.value??Ho,a:1})},t.style]},l,{maxWidth:t.width}),{default:()=>[!t.hideCanvas&&_(IO,{key:"canvas",color:r.value,"onUpdate:color":o,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&_("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&_(WO,{key:"preview",color:r.value,"onUpdate:color":o,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&_(BO,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":c=>e.value=c,color:r.value,"onUpdate:color":o,disabled:t.disabled},null)]),t.showSwatches&&_(mV,{key:"swatches",color:r.value,"onUpdate:color":o,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})}),{}}});function gV(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?_(Fe,null,[_("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),_("span",{class:"v-combobox__mask"},[t.substr(e,n)]),_("span",{class:"v-combobox__unmask"},[t.substr(e+n)])]):t}const yV=te({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,..._u({filterKeys:["title"]}),..._y({hideNoData:!0,returnObject:!0}),...ln(Ih({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...er({transition:!1})},"VCombobox"),_V=ve()({name:"VCombobox",props:yV(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var V;let{emit:n,slots:i}=e;const{t:r}=Jt(),a=pe(),s=Ee(!1),o=Ee(!0),l=Ee(!1),c=pe(),u=pe(),d=We(t,"menu"),f=P({get:()=>d.value,set:L=>{var k;d.value&&!L&&((k=c.value)!=null&&k.ΨopenChildren.size)||(d.value=L)}}),h=Ee(-1);let m=!1;const v=P(()=>{var L;return(L=a.value)==null?void 0:L.color}),p=P(()=>f.value?t.closeText:t.openText),{items:g,transformIn:y,transformOut:b}=fy(t),{textColorClasses:x,textColorStyles:E}=On(v),M=We(t,"modelValue",[],L=>y($t(L)),L=>{const k=b(L);return t.multiple?k:k[0]??null}),A=Eh(),C=P(()=>!!(t.chips||i.chip)),S=P(()=>C.value||!!i.selection),w=Ee(!t.multiple&&!S.value?((V=M.value[0])==null?void 0:V.title)??"":""),T=P({get:()=>w.value,set:L=>{var k;if(w.value=L??"",!t.multiple&&!S.value&&(M.value=[Pa(t,L)]),L&&t.multiple&&((k=t.delimiters)!=null&&k.length)){const z=L.split(new RegExp(`(?:${t.delimiters.join("|")})+`));z.length>1&&(z.forEach(G=>{G=G.trim(),G&&re(Pa(t,G))}),w.value="")}L||(h.value=-1),o.value=!L}}),I=P(()=>typeof t.counterValue=="function"?t.counterValue(M.value):typeof t.counterValue=="number"?t.counterValue:t.multiple?M.value.length:T.value.length);Te(w,L=>{m?vt(()=>m=!1):s.value&&!f.value&&(f.value=!0),n("update:search",L)}),Te(M,L=>{var k;!t.multiple&&!S.value&&(w.value=((k=L[0])==null?void 0:k.title)??"")});const{filteredItems:D,getMatches:N}=bu(t,g,()=>o.value?"":T.value),$=P(()=>t.hideSelected?D.value.filter(L=>!M.value.some(k=>k.value===L.value)):D.value),U=P(()=>M.value.map(L=>L.value)),Z=P(()=>{var k;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&T.value===((k=$.value[0])==null?void 0:k.title))&&$.value.length>0&&!o.value&&!l.value}),Y=P(()=>t.hideNoData&&!$.value.length||t.readonly||(A==null?void 0:A.isReadonly.value)),j=pe(),q=yy(j,a);function F(L){m=!0,t.openOnClear&&(f.value=!0)}function se(){Y.value||(f.value=!0)}function Ce(L){Y.value||(s.value&&(L.preventDefault(),L.stopPropagation()),f.value=!f.value)}function Q(L){var k;hf(L)&&((k=a.value)==null||k.focus())}function he(L){var G;if(GR(L)||t.readonly||A!=null&&A.isReadonly.value)return;const k=a.value.selectionStart,z=M.value.length;if((h.value>-1||["Enter","ArrowDown","ArrowUp"].includes(L.key))&&L.preventDefault(),["Enter","ArrowDown"].includes(L.key)&&(f.value=!0),["Escape"].includes(L.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(L.key)&&(Z.value&&["Enter","Tab"].includes(L.key)&&!M.value.some(K=>{let{value:ee}=K;return ee===$.value[0].value})&&re(D.value[0]),o.value=!0),L.key==="ArrowDown"&&Z.value&&((G=j.value)==null||G.focus("next")),L.key==="Enter"&&T.value&&(re(Pa(t,T.value)),S.value&&(w.value="")),["Backspace","Delete"].includes(L.key)){if(!t.multiple&&S.value&&M.value.length>0&&!T.value)return re(M.value[0],!1);if(~h.value){const K=h.value;re(M.value[h.value],!1),h.value=K>=z-1?z-2:K}else L.key==="Backspace"&&!T.value&&(h.value=z-1)}if(t.multiple){if(L.key==="ArrowLeft"){if(h.value<0&&k>0)return;const K=h.value>-1?h.value-1:z-1;M.value[K]?h.value=K:(h.value=-1,a.value.setSelectionRange(T.value.length,T.value.length))}if(L.key==="ArrowRight"){if(h.value<0)return;const K=h.value+1;M.value[K]?h.value=K:(h.value=-1,a.value.setSelectionRange(0,0))}}}function J(){var L;t.eager&&((L=u.value)==null||L.calculateVisibleItems())}function W(){var L;s.value&&(o.value=!0,(L=a.value)==null||L.focus())}function re(L){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!L||L.props.disabled))if(t.multiple){const z=M.value.findIndex(K=>t.valueComparator(K.value,L.value)),G=k??!~z;if(~z){const K=G?[...M.value,L]:[...M.value];K.splice(z,1),M.value=K}else G&&(M.value=[...M.value,L]);t.clearOnSelect&&(T.value="")}else{const z=k!==!1;M.value=z?[L]:[],w.value=z&&!S.value?L.title:"",vt(()=>{f.value=!1,o.value=!0})}}function de(L){s.value=!0,setTimeout(()=>{l.value=!0})}function _e(L){l.value=!1}function me(L){(L==null||L===""&&!t.multiple&&!S.value)&&(M.value=[])}return Te(s,(L,k)=>{if(!(L||L===k)&&(h.value=-1,f.value=!1,T.value)){if(t.multiple){re(Pa(t,T.value));return}if(!S.value)return;M.value.some(z=>{let{title:G}=z;return G===T.value})?w.value="":re(Pa(t,T.value))}}),Te(f,()=>{if(!t.hideSelected&&f.value&&M.value.length){const L=$.value.findIndex(k=>M.value.some(z=>t.valueComparator(z.value,k.value)));Mt&&window.requestAnimationFrame(()=>{var k;L>=0&&((k=u.value)==null||k.scrollToIndex(L))})}}),Te(()=>t.items,(L,k)=>{f.value||s.value&&!k.length&&L.length&&(f.value=!0)}),be(()=>{const L=!!(!t.hideNoData||$.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),k=M.value.length>0,z=Bs.filterProps(t);return _(Bs,xe({ref:a},z,{modelValue:T.value,"onUpdate:modelValue":[G=>T.value=G,me],focused:s.value,"onUpdate:focused":G=>s.value=G,validationValue:M.externalValue,counterValue:I.value,dirty:k,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!t.chips,"v-combobox--selection-slot":!!S.value,"v-combobox--selecting-index":h.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0},t.class],style:t.style,readonly:t.readonly,placeholder:k?void 0:t.placeholder,"onClick:clear":F,"onMousedown:control":se,onKeydown:he}),{...i,default:()=>_(Fe,null,[_(ul,xe({ref:c,modelValue:f.value,"onUpdate:modelValue":G=>f.value=G,activator:"parent",contentClass:"v-combobox__content",disabled:Y.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:J,onAfterLeave:W},t.menuProps),{default:()=>[L&&_(Th,xe({ref:j,selected:U.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:G=>G.preventDefault(),onKeydown:Q,onFocusin:de,onFocusout:_e,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},q,t.listProps),{default:()=>{var G,K,ee;return[(G=i["prepend-item"])==null?void 0:G.call(i),!$.value.length&&!t.hideNoData&&(((K=i["no-data"])==null?void 0:K.call(i))??_(Zr,{title:r(t.noDataText)},null)),_(Rh,{ref:u,renderless:!0,items:$.value},{default:fe=>{var ne;let{item:O,index:R,itemRef:X}=fe;const le=xe(O.props,{ref:X,key:R,active:Z.value&&R===0?!0:void 0,onClick:()=>re(O,null)});return((ne=i.item)==null?void 0:ne.call(i,{item:O,index:R,props:le}))??_(Zr,xe(le,{role:"option"}),{prepend:ce=>{let{isSelected:Pe}=ce;return _(Fe,null,[t.multiple&&!t.hideSelected?_(Kr,{key:O.value,modelValue:Pe,ripple:!1,tabindex:"-1"},null):void 0,O.props.prependAvatar&&_(Oi,{image:O.props.prependAvatar},null),O.props.prependIcon&&_(_t,{icon:O.props.prependIcon},null)])},title:()=>{var ce,Pe;return o.value?O.title:gV(O.title,(ce=N(O))==null?void 0:ce.title,((Pe=T.value)==null?void 0:Pe.length)??0)}})}}),(ee=i["append-item"])==null?void 0:ee.call(i)]}})]}),M.value.map((G,K)=>{function ee(X){X.stopPropagation(),X.preventDefault(),re(G,!1)}const fe={"onClick:close":ee,onKeydown(X){X.key!=="Enter"&&X.key!==" "||(X.preventDefault(),X.stopPropagation(),ee(X))},onMousedown(X){X.preventDefault(),X.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},O=C.value?!!i.chip:!!i.selection,R=O?ph(C.value?i.chip({item:G,index:K,props:fe}):i.selection({item:G,index:K})):void 0;if(!(O&&!R))return _("div",{key:G.value,class:["v-combobox__selection",K===h.value&&["v-combobox__selection--selected",x.value]],style:K===h.value?E.value:{}},[C.value?i.chip?_(ut,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:G.title}}},{default:()=>[R]}):_(Sl,xe({key:"chip",closable:t.closableChips,size:"small",text:G.title,disabled:G.props.disabled},fe),null):R??_("span",{class:"v-combobox__selection-text"},[G.title,t.multiple&&K<M.value.length-1&&_("span",{class:"v-combobox__selection-comma"},[Yr(",")])])])})]),"append-inner":function(){var fe;for(var G=arguments.length,K=new Array(G),ee=0;ee<G;ee++)K[ee]=arguments[ee];return _(Fe,null,[(fe=i["append-inner"])==null?void 0:fe.call(i,...K),(!t.hideNoData||t.items.length)&&t.menuIcon?_(_t,{class:"v-combobox__menu-icon",icon:t.menuIcon,onMousedown:Ce,onClick:EM,"aria-label":r(p.value),title:r(p.value),tabindex:"-1"},null):void 0])}})}),Bi({isFocused:s,isPristine:o,menu:f,search:T,selectionIndex:h,filteredItems:D,select:re},a)}}),bV=te({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),xV=ve()({name:"VConfirmEdit",props:bV(),emits:{cancel:()=>!0,save:t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=We(t,"modelValue"),a=pe();Ft(()=>{a.value=structuredClone(je(r.value))});const{t:s}=Jt(),o=P(()=>br(r.value,a.value));function l(){r.value=a.value,n("save",a.value)}function c(){a.value=structuredClone(je(r.value)),n("cancel")}let u=!1;return be(()=>{var f;const d=_(Fe,null,[_(yt,{disabled:o.value,variant:"text",color:t.color,onClick:c,text:s(t.cancelText)},null),_(yt,{disabled:o.value,variant:"text",color:t.color,onClick:l,text:s(t.okText)},null)]);return _(Fe,null,[(f=i.default)==null?void 0:f.call(i,{model:a,save:l,cancel:c,isPristine:o.value,get actions(){return u=!0,d}}),!u&&d])}),{save:l,cancel:c,isPristine:o}}}),MC=te({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),CC=Symbol.for("vuetify:datatable:expanded");function Oh(t){const e=ue(t,"expandOnClick"),n=We(t,"expanded",t.expanded,o=>new Set(o),o=>[...o.values()]);function i(o,l){const c=new Set(n.value);l?c.add(o.value):c.delete(o.value),n.value=c}function r(o){return n.value.has(o.value)}function a(o){i(o,!r(o))}const s={expand:i,expanded:n,expandOnClick:e,isExpanded:r,toggleExpand:a};return Ct(CC,s),s}function AC(){const t=nt(CC);if(!t)throw new Error("foo");return t}const wy=te({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),EC=Symbol.for("vuetify:data-table-group");function My(t){return{groupBy:We(t,"groupBy")}}function Vh(t){const{disableSort:e,groupBy:n,sortBy:i}=t,r=pe(new Set),a=P(()=>n.value.map(u=>({...u,order:u.order??!1})).concat(e!=null&&e.value?[]:i.value));function s(u){return r.value.has(u.id)}function o(u){const d=new Set(r.value);s(u)?d.delete(u.id):d.add(u.id),r.value=d}function l(u){function d(f){const h=[];for(const m of f.items)"type"in m&&m.type==="group"?h.push(...d(m)):h.push(m);return h}return d({type:"group",items:u,id:"dummy",key:"dummy",value:"dummy",depth:0})}const c={sortByWithGroups:a,toggleGroup:o,opened:r,groupBy:n,extractRows:l,isGroupOpen:s};return Ct(EC,c),c}function TC(){const t=nt(EC);if(!t)throw new Error("Missing group!");return t}function SV(t,e){if(!t.length)return[];const n=new Map;for(const i of t){const r=Ns(i.raw,e);n.has(r)||n.set(r,[]),n.get(r).push(i)}return n}function PC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const r=SV(t,e[0]),a=[],s=e.slice(1);return r.forEach((o,l)=>{const c=e[0],u=`${i}_${c}_${l}`;a.push({depth:n,id:u,key:c,value:l,items:s.length?PC(o,s,n+1,u):o,type:"group"})}),a}function IC(t,e){const n=[];for(const i of t)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(e.has(i.id)||i.value==null)&&n.push(...IC(i.items,e))):n.push(i);return n}function Nh(t,e,n){return{flatItems:P(()=>{if(!e.value.length)return t.value;const r=PC(t.value,e.value.map(a=>a.key));return IC(r,n.value)})}}function Bh(t){let{page:e,itemsPerPage:n,sortBy:i,groupBy:r,search:a}=t;const s=qt("VDataTable"),o=P(()=>({page:e.value,itemsPerPage:n.value,sortBy:i.value,groupBy:r.value,search:a.value}));let l=null;Te(o,()=>{br(l,o.value)||(l&&l.search!==o.value.search&&(e.value=1),s.emit("update:options",o.value),l=o.value)},{deep:!0,immediate:!0})}const Cy=te({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),RC=Symbol.for("vuetify:data-table-pagination");function Ay(t){const e=We(t,"page",void 0,i=>+(i??1)),n=We(t,"itemsPerPage",void 0,i=>+(i??10));return{page:e,itemsPerPage:n}}function Ey(t){const{page:e,itemsPerPage:n,itemsLength:i}=t,r=P(()=>n.value===-1?0:n.value*(e.value-1)),a=P(()=>n.value===-1?i.value:Math.min(i.value,r.value+n.value)),s=P(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));Ft(()=>{e.value>s.value&&(e.value=s.value)});function o(f){n.value=f,e.value=1}function l(){e.value=rn(e.value+1,1,s.value)}function c(){e.value=rn(e.value-1,1,s.value)}function u(f){e.value=rn(f,1,s.value)}const d={page:e,itemsPerPage:n,startIndex:r,stopIndex:a,pageCount:s,itemsLength:i,nextPage:l,prevPage:c,setPage:u,setItemsPerPage:o};return Ct(RC,d),d}function wV(){const t=nt(RC);if(!t)throw new Error("Missing pagination!");return t}function LC(t){const e=qt("usePaginatedItems"),{items:n,startIndex:i,stopIndex:r,itemsPerPage:a}=t,s=P(()=>a.value<=0?n.value:n.value.slice(i.value,r.value));return Te(s,o=>{e.emit("update:currentItems",o)}),{paginatedItems:s}}const MV={showSelectAll:!1,allSelected:()=>[],select:t=>{var i;let{items:e,value:n}=t;return new Set(n?[(i=e[0])==null?void 0:i.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},kC={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const r of e)n?i.add(r.value):i.delete(r.value);return i},selectAll:t=>{let{value:e,currentPage:n,selected:i}=t;return kC.select({items:n,value:e,selected:i})}},DC={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const r of e)n?i.add(r.value):i.delete(r.value);return i},selectAll:t=>{let{value:e,allItems:n,selected:i}=t;return DC.select({items:n,value:e,selected:i})}},OC=te({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:br}},"DataTable-select"),VC=Symbol.for("vuetify:data-table-selection");function Fh(t,e){let{allItems:n,currentPage:i}=e;const r=We(t,"modelValue",t.modelValue,g=>new Set($t(g).map(y=>{var b;return((b=n.value.find(x=>t.valueComparator(y,x.value)))==null?void 0:b.value)??y})),g=>[...g.values()]),a=P(()=>n.value.filter(g=>g.selectable)),s=P(()=>i.value.filter(g=>g.selectable)),o=P(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return MV;case"all":return DC;case"page":default:return kC}});function l(g){return $t(g).every(y=>r.value.has(y.value))}function c(g){return $t(g).some(y=>r.value.has(y.value))}function u(g,y){const b=o.value.select({items:g,value:y,selected:new Set(r.value)});r.value=b}function d(g){u([g],!l([g]))}function f(g){const y=o.value.selectAll({value:g,allItems:a.value,currentPage:s.value,selected:new Set(r.value)});r.value=y}const h=P(()=>r.value.size>0),m=P(()=>{const g=o.value.allSelected({allItems:a.value,currentPage:s.value});return!!g.length&&l(g)}),v=P(()=>o.value.showSelectAll),p={toggleSelect:d,select:u,selectAll:f,isSelected:l,isSomeSelected:c,someSelected:h,allSelected:m,showSelectAll:v};return Ct(VC,p),p}function Uh(){const t=nt(VC);if(!t)throw new Error("Missing selection!");return t}const NC=te({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),BC=Symbol.for("vuetify:data-table-sort");function zh(t){const e=We(t,"sortBy"),n=ue(t,"mustSort"),i=ue(t,"multiSort");return{sortBy:e,mustSort:n,multiSort:i}}function Hh(t){const{sortBy:e,mustSort:n,multiSort:i,page:r}=t,a=l=>{if(l.key==null)return;let c=e.value.map(d=>({...d}))??[];const u=c.find(d=>d.key===l.key);u?u.order==="desc"?n.value?u.order="asc":c=c.filter(d=>d.key!==l.key):u.order="desc":i.value?c=[...c,{key:l.key,order:"asc"}]:c=[{key:l.key,order:"asc"}],e.value=c,r&&(r.value=1)};function s(l){return!!e.value.find(c=>c.key===l.key)}const o={sortBy:e,toggleSort:a,isSorted:s};return Ct(BC,o),o}function FC(){const t=nt(BC);if(!t)throw new Error("Missing sort!");return t}function Ty(t,e,n,i){const r=Jt();return{sortedItems:P(()=>{var s,o;return n.value.length?CV(e.value,n.value,r.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...t.customKeySort,...(s=i==null?void 0:i.sortFunctions)==null?void 0:s.value},sortRawFunctions:(o=i==null?void 0:i.sortRawFunctions)==null?void 0:o.value}):e.value})}}function CV(t,e,n,i){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return t.map(s=>[s,i!=null&&i.transform?i.transform(s):s]).sort((s,o)=>{var l,c;for(let u=0;u<e.length;u++){let d=!1;const f=e[u].key,h=e[u].order??"asc";if(h===!1)continue;let m=Ns(s[1],f),v=Ns(o[1],f),p=s[0].raw,g=o[0].raw;if(h==="desc"&&([m,v]=[v,m],[p,g]=[g,p]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[f]){const y=i.sortRawFunctions[f](p,g);if(y==null)continue;if(d=!0,y)return y}if((c=i==null?void 0:i.sortFunctions)!=null&&c[f]){const y=i.sortFunctions[f](m,v);if(y==null)continue;if(d=!0,y)return y}if(!d){if(m instanceof Date&&v instanceof Date)return m.getTime()-v.getTime();if([m,v]=[m,v].map(y=>y!=null?y.toString().toLocaleLowerCase():y),m!==v)return Wu(m)&&Wu(v)?0:Wu(m)?-1:Wu(v)?1:!isNaN(m)&&!isNaN(v)?Number(m)-Number(v):r.compare(m,v)}}return 0}).map(s=>{let[o]=s;return o})}const AV=te({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function EV(t,e){const n=t.returnObject?e:vn(e,t.itemValue),i=vn(e,t.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:e}}function TV(t,e){const n=[];for(const i of e)n.push(EV(t,i));return n}function PV(t){return{items:P(()=>TV(t,t.items))}}const IV=te({search:String,loading:Boolean,...Ve(),...AV(),...OC(),...NC(),...Cy({itemsPerPage:5}),...MC(),...wy(),..._u(),...it(),...er({transition:{component:Tc,hideOnLeave:!0}})},"VDataIterator"),RV=ve()({name:"VDataIterator",props:IV(),emits:{"update:modelValue":t=>!0,"update:groupBy":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"groupBy"),r=ue(t,"search"),{items:a}=PV(t),{filteredItems:s}=bu(t,a,r,{transform:F=>F.raw}),{sortBy:o,multiSort:l,mustSort:c}=zh(t),{page:u,itemsPerPage:d}=Ay(t),{toggleSort:f}=Hh({sortBy:o,multiSort:l,mustSort:c,page:u}),{sortByWithGroups:h,opened:m,extractRows:v,isGroupOpen:p,toggleGroup:g}=Vh({groupBy:i,sortBy:o}),{sortedItems:y}=Ty(t,s,h,{transform:F=>F.raw}),{flatItems:b}=Nh(y,i,m),x=P(()=>b.value.length),{startIndex:E,stopIndex:M,pageCount:A,prevPage:C,nextPage:S,setItemsPerPage:w,setPage:T}=Ey({page:u,itemsPerPage:d,itemsLength:x}),{paginatedItems:I}=LC({items:b,startIndex:E,stopIndex:M,itemsPerPage:d}),D=P(()=>v(I.value)),{isSelected:N,select:$,selectAll:U,toggleSelect:Z}=Fh(t,{allItems:a,currentPage:D}),{isExpanded:Y,toggleExpand:j}=Oh(t);Bh({page:u,itemsPerPage:d,sortBy:o,groupBy:i,search:r});const q=P(()=>({page:u.value,itemsPerPage:d.value,sortBy:o.value,pageCount:A.value,toggleSort:f,prevPage:C,nextPage:S,setPage:T,setItemsPerPage:w,isSelected:N,select:$,selectAll:U,toggleSelect:Z,isExpanded:Y,toggleExpand:j,isGroupOpen:p,toggleGroup:g,items:D.value,groupedItems:I.value}));return be(()=>_(t.tag,{class:["v-data-iterator",{"v-data-iterator--loading":t.loading},t.class],style:t.style},{default:()=>{var F,se;return[(F=n.header)==null?void 0:F.call(n,q.value),_(Wn,{transition:t.transition},{default:()=>{var Ce,Q;return[t.loading?_(fu,{key:"loader",name:"v-data-iterator",active:!0},{default:he=>{var J;return(J=n.loader)==null?void 0:J.call(n,he)}}):_("div",{key:"items"},[I.value.length?(Q=n.default)==null?void 0:Q.call(n,q.value):(Ce=n["no-data"])==null?void 0:Ce.call(n)])]}}),(se=n.footer)==null?void 0:se.call(n,q.value)]}})),{}}});function LV(){const t=pe([]);Nw(()=>t.value=[]);function e(n,i){t.value[i]=n}return{refs:t,updateRef:e}}const kV=te({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:Ze,default:"$first"},prevIcon:{type:Ze,default:"$prev"},nextIcon:{type:Ze,default:"$next"},lastIcon:{type:Ze,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...di(),...Ve(),...wn(),...bn(),...Gt(),...wr(),...it({tag:"nav"}),...pt(),...Ni({variant:"text"})},"VPagination"),kv=ve()({name:"VPagination",props:kV(),emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=We(t,"modelValue"),{t:a,n:s}=Jt(),{isRtl:o}=_n(),{themeClasses:l}=xt(t),{width:c}=Vi(),u=Ee(-1);Yt(void 0,{scoped:!0});const{resizeRef:d}=ji(C=>{if(!C.length)return;const{target:S,contentRect:w}=C[0],T=S.querySelector(".v-pagination__list > *");if(!T)return;const I=w.width,D=T.offsetWidth+parseFloat(getComputedStyle(T).marginRight)*2;u.value=v(I,D)}),f=P(()=>parseInt(t.length,10)),h=P(()=>parseInt(t.start,10)),m=P(()=>t.totalVisible!=null?parseInt(t.totalVisible,10):u.value>=0?u.value:v(c.value,58));function v(C,S){const w=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((C-S*w)/S).toFixed(2)))}const p=P(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(m.value<=0)return[];if(m.value===1)return[r.value];if(f.value<=m.value)return cr(f.value,h.value);const C=m.value%2===0,S=C?m.value/2:Math.floor(m.value/2),w=C?S:S+1,T=f.value-S;if(w-r.value>=0)return[...cr(Math.max(1,m.value-1),h.value),t.ellipsis,f.value];if(r.value-T>=(C?1:0)){const I=m.value-1,D=f.value-I+h.value;return[h.value,t.ellipsis,...cr(I,D)]}else{const I=Math.max(1,m.value-3),D=I===1?r.value:r.value-Math.ceil(I/2)+h.value;return[h.value,t.ellipsis,...cr(I,D),t.ellipsis,f.value]}});function g(C,S,w){C.preventDefault(),r.value=S,w&&i(w,S)}const{refs:y,updateRef:b}=LV();Yt({VPaginationBtn:{color:ue(t,"color"),border:ue(t,"border"),density:ue(t,"density"),size:ue(t,"size"),variant:ue(t,"variant"),rounded:ue(t,"rounded"),elevation:ue(t,"elevation")}});const x=P(()=>p.value.map((C,S)=>{const w=T=>b(T,S);if(typeof C=="string")return{isActive:!1,key:`ellipsis-${S}`,page:C,props:{ref:w,ellipsis:!0,icon:!0,disabled:!0}};{const T=C===r.value;return{isActive:T,key:C,page:s(C),props:{ref:w,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:T?t.activeColor:t.color,"aria-current":T,"aria-label":a(T?t.currentPageAriaLabel:t.pageAriaLabel,C),onClick:I=>g(I,C)}}}})),E=P(()=>{const C=!!t.disabled||r.value<=h.value,S=!!t.disabled||r.value>=h.value+f.value-1;return{first:t.showFirstLastPage?{icon:o.value?t.lastIcon:t.firstIcon,onClick:w=>g(w,h.value,"first"),disabled:C,"aria-label":a(t.firstAriaLabel),"aria-disabled":C}:void 0,prev:{icon:o.value?t.nextIcon:t.prevIcon,onClick:w=>g(w,r.value-1,"prev"),disabled:C,"aria-label":a(t.previousAriaLabel),"aria-disabled":C},next:{icon:o.value?t.prevIcon:t.nextIcon,onClick:w=>g(w,r.value+1,"next"),disabled:S,"aria-label":a(t.nextAriaLabel),"aria-disabled":S},last:t.showFirstLastPage?{icon:o.value?t.firstIcon:t.lastIcon,onClick:w=>g(w,h.value+f.value-1,"last"),disabled:S,"aria-label":a(t.lastAriaLabel),"aria-disabled":S}:void 0}});function M(){var S;const C=r.value-h.value;(S=y.value[C])==null||S.$el.focus()}function A(C){C.key===ov.left&&!t.disabled&&r.value>+t.start?(r.value=r.value-1,vt(M)):C.key===ov.right&&!t.disabled&&r.value<h.value+f.value-1&&(r.value=r.value+1,vt(M))}return be(()=>_(t.tag,{ref:d,class:["v-pagination",l.value,t.class],style:t.style,role:"navigation","aria-label":a(t.ariaLabel),onKeydown:A,"data-test":"v-pagination-root"},{default:()=>[_("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&_("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(E.value.first):_(yt,xe({_as:"VPaginationBtn"},E.value.first),null)]),_("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(E.value.prev):_(yt,xe({_as:"VPaginationBtn"},E.value.prev),null)]),x.value.map((C,S)=>_("li",{key:C.key,class:["v-pagination__item",{"v-pagination__item--is-active":C.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(C):_(yt,xe({_as:"VPaginationBtn"},C.props),{default:()=>[C.page]})])),_("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(E.value.next):_(yt,xe({_as:"VPaginationBtn"},E.value.next),null)]),t.showFirstLastPage&&_("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(E.value.last):_(yt,xe({_as:"VPaginationBtn"},E.value.last),null)])])]})),{}}}),Py=te({prevIcon:{type:Ze,default:"$prev"},nextIcon:{type:Ze,default:"$next"},firstIcon:{type:Ze,default:"$first"},lastIcon:{type:Ze,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Dc=ve()({name:"VDataTableFooter",props:Py(),setup(t,e){let{slots:n}=e;const{t:i}=Jt(),{page:r,pageCount:a,startIndex:s,stopIndex:o,itemsLength:l,itemsPerPage:c,setItemsPerPage:u}=wV(),d=P(()=>t.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?i(f.title):f.title}));return be(()=>{var h;const f=kv.filterProps(t);return _("div",{class:"v-data-table-footer"},[(h=n.prepend)==null?void 0:h.call(n),_("div",{class:"v-data-table-footer__items-per-page"},[_("span",null,[i(t.itemsPerPageText)]),_(by,{items:d.value,modelValue:c.value,"onUpdate:modelValue":m=>u(Number(m)),density:"compact",variant:"outlined","hide-details":!0},null)]),_("div",{class:"v-data-table-footer__info"},[_("div",null,[i(t.pageText,l.value?s.value+1:0,o.value,l.value)])]),_("div",{class:"v-data-table-footer__pagination"},[_(kv,xe({modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,density:"comfortable","first-aria-label":t.firstPageLabel,"last-aria-label":t.lastPageLabel,length:a.value,"next-aria-label":t.nextPageLabel,"previous-aria-label":t.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":t.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),_f=wL({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(t,e)=>{let{slots:n}=e;const i=t.tag??"td";return _(i,{class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding,"v-data-table-column--nowrap":t.nowrap},`v-data-table-column--align-${t.align}`],style:{height:Le(t.height),width:Le(t.width),maxWidth:Le(t.maxWidth),left:Le(t.fixedOffset||null)}},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}})}),DV=te({headers:Array},"DataTable-header"),UC=Symbol.for("vuetify:data-table-headers"),zC={title:"",sortable:!1},OV={...zC,width:48};function VV(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let r=!1;for(let a=0;a<e.length;a++)if(e[a].priority>i){e.splice(a,0,{element:n,priority:i}),r=!0;break}r||e.push({element:n,priority:i})},size:()=>e.length,count:()=>{let n=0;if(!e.length)return 0;const i=Math.floor(e[0].priority);for(let r=0;r<e.length;r++)Math.floor(e[r].priority)===i&&(n+=1);return n},dequeue:()=>e.shift()}}function Dv(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t.children)e.push(t);else for(const n of t.children)Dv(n,e);return e}function HC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of t)n.key&&e.add(n.key),n.children&&HC(n.children,e);return e}function NV(t){if(t.key){if(t.key==="data-table-group")return zC;if(["data-table-expand","data-table-select"].includes(t.key))return OV}}function Iy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.children?Math.max(e,...t.children.map(n=>Iy(n,e+1))):e}function BV(t){let e=!1;function n(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a)if(s&&(a.fixed=!0),a.fixed)if(a.children)for(let o=a.children.length-1;o>=0;o--)n(a.children[o],!0);else e?isNaN(+a.width)&&(`${a.key}`,void 0):a.lastFixed=!0,e=!0;else if(a.children)for(let o=a.children.length-1;o>=0;o--)n(a.children[o]);else e=!1}for(let a=t.length-1;a>=0;a--)n(t[a]);function i(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!a)return s;if(a.children){a.fixedOffset=s;for(const o of a.children)s=i(o,s)}else a.fixed&&(a.fixedOffset=s,s+=parseFloat(a.width||"0")||0);return s}let r=0;for(const a of t)r=i(a,r)}function FV(t,e){const n=[];let i=0;const r=VV(t);for(;r.size()>0;){let s=r.count();const o=[];let l=1;for(;s>0;){const{element:c,priority:u}=r.dequeue(),d=e-i-Iy(c);if(o.push({...c,rowspan:d??1,colspan:c.children?Dv(c).length:1}),c.children)for(const f of c.children){const h=u%1+l/Math.pow(10,i+2);r.enqueue(f,i+d+h)}l+=1,s-=1}i+=1,n.push(o)}return{columns:t.map(s=>Dv(s)).flat(),headers:n}}function GC(t){const e=[];for(const n of t){const i={...NV(n),...n},r=i.key??(typeof i.value=="string"?i.value:null),a=i.value??r??null,s={...i,key:r,value:a,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?GC(i.children):void 0};e.push(s)}return e}function Ry(t,e){const n=pe([]),i=pe([]),r=pe({}),a=pe({}),s=pe({});Ft(()=>{var v,p,g;const c=(t.headers||Object.keys(t.items[0]??{}).map(y=>({key:y,title:_r(y)}))).slice(),u=HC(c);(v=e==null?void 0:e.groupBy)!=null&&v.value.length&&!u.has("data-table-group")&&c.unshift({key:"data-table-group",title:"Group"}),(p=e==null?void 0:e.showSelect)!=null&&p.value&&!u.has("data-table-select")&&c.unshift({key:"data-table-select"}),(g=e==null?void 0:e.showExpand)!=null&&g.value&&!u.has("data-table-expand")&&c.push({key:"data-table-expand"});const d=GC(c);BV(d);const f=Math.max(...d.map(y=>Iy(y)))+1,h=FV(d,f);n.value=h.headers,i.value=h.columns;const m=h.headers.flat(1);for(const y of m)y.key&&(y.sortable&&(y.sort&&(r.value[y.key]=y.sort),y.sortRaw&&(a.value[y.key]=y.sortRaw)),y.filter&&(s.value[y.key]=y.filter))});const o={headers:n,columns:i,sortFunctions:r,sortRawFunctions:a,filterFunctions:s};return Ct(UC,o),o}function Gh(){const t=nt(UC);if(!t)throw new Error("Missing headers!");return t}const WC=te({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:Ze,default:"$sortAsc"},sortDescIcon:{type:Ze,default:"$sortDesc"},headerProps:{type:Object},...Ks(),...Mh()},"VDataTableHeaders"),Hs=ve()({name:"VDataTableHeaders",props:WC(),setup(t,e){let{slots:n}=e;const{t:i}=Jt(),{toggleSort:r,sortBy:a,isSorted:s}=FC(),{someSelected:o,allSelected:l,selectAll:c,showSelectAll:u}=Uh(),{columns:d,headers:f}=Gh(),{loaderClasses:h}=du(t);function m(C,S){if(!(!t.sticky&&!C.fixed))return{position:"sticky",left:C.fixed?Le(C.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${S})`:void 0}}function v(C){const S=a.value.find(w=>w.key===C.key);return S?S.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:p,backgroundColorStyles:g}=kt(t,"color"),{displayClasses:y,mobile:b}=Vi(t),x=P(()=>({headers:f.value,columns:d.value,toggleSort:r,isSorted:s,sortBy:a.value,someSelected:o.value,allSelected:l.value,selectAll:c,getSortIcon:v})),E=P(()=>["v-data-table__th",{"v-data-table__th--sticky":t.sticky},y.value,h.value]),M=C=>{let{column:S,x:w,y:T}=C;const I=S.key==="data-table-select"||S.key==="data-table-expand",D=xe(t.headerProps??{},S.headerProps??{});return _(_f,xe({tag:"th",align:S.align,class:[{"v-data-table__th--sortable":S.sortable&&!t.disableSort,"v-data-table__th--sorted":s(S),"v-data-table__th--fixed":S.fixed},...E.value],style:{width:Le(S.width),minWidth:Le(S.minWidth),maxWidth:Le(S.maxWidth),...m(S,T)},colspan:S.colspan,rowspan:S.rowspan,onClick:S.sortable?()=>r(S):void 0,fixed:S.fixed,nowrap:S.nowrap,lastFixed:S.lastFixed,noPadding:I},D),{default:()=>{var U;const N=`header.${S.key}`,$={column:S,selectAll:c,isSorted:s,toggleSort:r,sortBy:a.value,someSelected:o.value,allSelected:l.value,getSortIcon:v};return n[N]?n[N]($):S.key==="data-table-select"?((U=n["header.data-table-select"])==null?void 0:U.call(n,$))??(u.value&&_(Kr,{modelValue:l.value,indeterminate:o.value&&!l.value,"onUpdate:modelValue":c},null)):_("div",{class:"v-data-table-header__content"},[_("span",null,[S.title]),S.sortable&&!t.disableSort&&_(_t,{key:"icon",class:"v-data-table-header__sort-icon",icon:v(S)},null),t.multiSort&&s(S)&&_("div",{key:"badge",class:["v-data-table-header__sort-badge",...p.value],style:g.value},[a.value.findIndex(Z=>Z.key===S.key)+1])])}})},A=()=>{const C=xe(t.headerProps??{}??{}),S=P(()=>d.value.filter(T=>(T==null?void 0:T.sortable)&&!t.disableSort)),w=P(()=>{if(d.value.find(I=>I.key==="data-table-select")!=null)return l.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return _(_f,xe({tag:"th",class:[...E.value],colspan:f.value.length+1},C),{default:()=>[_("div",{class:"v-data-table-header__content"},[_(by,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:S.value,label:i("$vuetify.dataTable.sortBy"),multiple:t.multiSort,variant:"underlined","onClick:clear":()=>a.value=[],appendIcon:w.value,"onClick:append":()=>c(!l.value)},{...n,chip:T=>{var I;return _(Sl,{onClick:(I=T.item.raw)!=null&&I.sortable?()=>r(T.item.raw):void 0,onMousedown:D=>{D.preventDefault(),D.stopPropagation()}},{default:()=>[T.item.title,_(_t,{class:["v-data-table__td-sort-icon",s(T.item.raw)&&"v-data-table__td-sort-icon-active"],icon:v(T.item.raw),size:"small"},null)]})}})])]})};be(()=>b.value?_("tr",null,[_(A,null,null)]):_(Fe,null,[n.headers?n.headers(x.value):f.value.map((C,S)=>_("tr",null,[C.map((w,T)=>_(M,{column:w,x:T,y:S},null))])),t.loading&&_("tr",{class:"v-data-table-progress"},[_("th",{colspan:d.value.length},[_(fu,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:n.loader})])])]))}}),UV=te({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),zV=ve()({name:"VDataTableGroupHeaderRow",props:UV(),setup(t,e){let{slots:n}=e;const{isGroupOpen:i,toggleGroup:r,extractRows:a}=TC(),{isSelected:s,isSomeSelected:o,select:l}=Uh(),{columns:c}=Gh(),u=P(()=>a([t.item]));return()=>_("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[c.value.map(d=>{var f,h;if(d.key==="data-table-group"){const m=i(t.item)?"$expand":"$next",v=()=>r(t.item);return((f=n["data-table-group"])==null?void 0:f.call(n,{item:t.item,count:u.value.length,props:{icon:m,onClick:v}}))??_(_f,{class:"v-data-table-group-header-row__column"},{default:()=>[_(yt,{size:"small",variant:"text",icon:m,onClick:v},null),_("span",null,[t.item.value]),_("span",null,[Yr("("),u.value.length,Yr(")")])]})}if(d.key==="data-table-select"){const m=s(u.value),v=o(u.value)&&!m,p=g=>l(u.value,g);return((h=n["data-table-select"])==null?void 0:h.call(n,{props:{modelValue:m,indeterminate:v,"onUpdate:modelValue":p}}))??_("td",null,[_(Kr,{modelValue:m,indeterminate:v,"onUpdate:modelValue":p},null)])}return _("td",null,null)})])}}),HV=te({index:Number,item:Object,cellProps:[Object,Function],onClick:En(),onContextmenu:En(),onDblclick:En(),...Ks()},"VDataTableRow"),Ly=ve()({name:"VDataTableRow",props:HV(),setup(t,e){let{slots:n}=e;const{displayClasses:i,mobile:r}=Vi(t,"v-data-table__tr"),{isSelected:a,toggleSelect:s,someSelected:o,allSelected:l,selectAll:c}=Uh(),{isExpanded:u,toggleExpand:d}=AC(),{toggleSort:f,sortBy:h,isSorted:m}=FC(),{columns:v}=Gh();be(()=>_("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(t.onClick||t.onContextmenu||t.onDblclick)},i.value],onClick:t.onClick,onContextmenu:t.onContextmenu,onDblclick:t.onDblclick},[t.item&&v.value.map((p,g)=>{const y=t.item,b=`item.${p.key}`,x=`header.${p.key}`,E={index:t.index,item:y.raw,internalItem:y,value:Ns(y.columns,p.key),column:p,isSelected:a,toggleSelect:s,isExpanded:u,toggleExpand:d},M={column:p,selectAll:c,isSorted:m,toggleSort:f,sortBy:h.value,someSelected:o.value,allSelected:l.value,getSortIcon:()=>""},A=typeof t.cellProps=="function"?t.cellProps({index:E.index,item:E.item,internalItem:E.internalItem,value:E.value,column:p}):t.cellProps,C=typeof p.cellProps=="function"?p.cellProps({index:E.index,item:E.item,internalItem:E.internalItem,value:E.value}):p.cellProps;return _(_f,xe({align:p.align,class:{"v-data-table__td--expanded-row":p.key==="data-table-expand","v-data-table__td--select-row":p.key==="data-table-select"},fixed:p.fixed,fixedOffset:p.fixedOffset,lastFixed:p.lastFixed,maxWidth:r.value?void 0:p.maxWidth,noPadding:p.key==="data-table-select"||p.key==="data-table-expand",nowrap:p.nowrap,width:r.value?void 0:p.width},A,C),{default:()=>{var w,T,I,D,N;if(n[b]&&!r.value)return(w=n[b])==null?void 0:w.call(n,E);if(p.key==="data-table-select")return((T=n["item.data-table-select"])==null?void 0:T.call(n,E))??_(Kr,{disabled:!y.selectable,modelValue:a([y]),onClick:T_(()=>s(y),["stop"])},null);if(p.key==="data-table-expand")return((I=n["item.data-table-expand"])==null?void 0:I.call(n,E))??_(yt,{icon:u(y)?"$collapse":"$expand",size:"small",variant:"text",onClick:T_(()=>d(y),["stop"])},null);const S=JS(E.value);return r.value?_(Fe,null,[_("div",{class:"v-data-table__td-title"},[((D=n[x])==null?void 0:D.call(n,M))??p.title]),_("div",{class:"v-data-table__td-value"},[((N=n[b])==null?void 0:N.call(n,E))??S])]):S}})})]))}}),$C=te({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Ks()},"VDataTableRows"),Gs=ve()({name:"VDataTableRows",inheritAttrs:!1,props:$C(),setup(t,e){let{attrs:n,slots:i}=e;const{columns:r}=Gh(),{expandOnClick:a,toggleExpand:s,isExpanded:o}=AC(),{isSelected:l,toggleSelect:c}=Uh(),{toggleGroup:u,isGroupOpen:d}=TC(),{t:f}=Jt(),{mobile:h}=Vi(t);return be(()=>{var m,v;return t.loading&&(!t.items.length||i.loading)?_("tr",{class:"v-data-table-rows-loading",key:"loading"},[_("td",{colspan:r.value.length},[((m=i.loading)==null?void 0:m.call(i))??f(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?_("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[_("td",{colspan:r.value.length},[((v=i["no-data"])==null?void 0:v.call(i))??f(t.noDataText)])]):_(Fe,null,[t.items.map((p,g)=>{var x;if(p.type==="group"){const E={index:g,item:p,columns:r.value,isExpanded:o,toggleExpand:s,isSelected:l,toggleSelect:c,toggleGroup:u,isGroupOpen:d};return i["group-header"]?i["group-header"](E):_(zV,xe({key:`group-header_${p.id}`,item:p},J_(n,":group-header",()=>E)),i)}const y={index:g,item:p.raw,internalItem:p,columns:r.value,isExpanded:o,toggleExpand:s,isSelected:l,toggleSelect:c},b={...y,props:xe({key:`item_${p.key??p.index}`,onClick:a.value?()=>{s(p)}:void 0,index:g,item:p,cellProps:t.cellProps,mobile:h.value},J_(n,":row",()=>y),typeof t.rowProps=="function"?t.rowProps({item:y.item,index:y.index,internalItem:y.internalItem}):t.rowProps)};return _(Fe,{key:b.props.key},[i.item?i.item(b):_(Ly,b.props,i),o(p)&&((x=i["expanded-row"])==null?void 0:x.call(i,y))])})])}),{}}}),XC=te({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ve(),...wn(),...it(),...pt()},"VTable"),Ws=ve()({name:"VTable",props:XC(),setup(t,e){let{slots:n,emit:i}=e;const{themeClasses:r}=xt(t),{densityClasses:a}=Yn(t);return be(()=>_(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":t.hover},r.value,a.value,t.class],style:t.style},{default:()=>{var s,o,l;return[(s=n.top)==null?void 0:s.call(n),n.default?_("div",{class:"v-table__wrapper",style:{height:Le(t.height)}},[_("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),GV=te({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function WV(t,e,n,i){const r=t.returnObject?e:vn(e,t.itemValue),a=vn(e,t.itemSelectable,!0),s=i.reduce((o,l)=>(l.key!=null&&(o[l.key]=vn(e,l.value)),o),{});return{type:"item",key:t.returnObject?vn(e,t.itemValue):r,index:n,value:r,selectable:a,columns:s,raw:e}}function $V(t,e,n){return e.map((i,r)=>WV(t,i,r,n))}function ky(t,e){return{items:P(()=>$V(t,t.items,e.value))}}const Dy=te({...$C(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...MC(),...wy(),...DV(),...GV(),...OC(),...NC(),...WC(),...XC()},"DataTable"),XV=te({...Cy(),...Dy(),..._u(),...Py()},"VDataTable"),YV=ve()({name:"VDataTable",props:XV(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:r}=My(t),{sortBy:a,multiSort:s,mustSort:o}=zh(t),{page:l,itemsPerPage:c}=Ay(t),{disableSort:u}=za(t),{columns:d,headers:f,sortFunctions:h,sortRawFunctions:m,filterFunctions:v}=Ry(t,{groupBy:r,showSelect:ue(t,"showSelect"),showExpand:ue(t,"showExpand")}),{items:p}=ky(t,d),g=ue(t,"search"),{filteredItems:y}=bu(t,p,g,{transform:W=>W.columns,customKeyFilter:v}),{toggleSort:b}=Hh({sortBy:a,multiSort:s,mustSort:o,page:l}),{sortByWithGroups:x,opened:E,extractRows:M,isGroupOpen:A,toggleGroup:C}=Vh({groupBy:r,sortBy:a,disableSort:u}),{sortedItems:S}=Ty(t,y,x,{transform:W=>({...W.raw,...W.columns}),sortFunctions:h,sortRawFunctions:m}),{flatItems:w}=Nh(S,r,E),T=P(()=>w.value.length),{startIndex:I,stopIndex:D,pageCount:N,setItemsPerPage:$}=Ey({page:l,itemsPerPage:c,itemsLength:T}),{paginatedItems:U}=LC({items:w,startIndex:I,stopIndex:D,itemsPerPage:c}),Z=P(()=>M(U.value)),{isSelected:Y,select:j,selectAll:q,toggleSelect:F,someSelected:se,allSelected:Ce}=Fh(t,{allItems:p,currentPage:Z}),{isExpanded:Q,toggleExpand:he}=Oh(t);Bh({page:l,itemsPerPage:c,sortBy:a,groupBy:r,search:g}),Yt({VDataTableRows:{hideNoData:ue(t,"hideNoData"),noDataText:ue(t,"noDataText"),loading:ue(t,"loading"),loadingText:ue(t,"loadingText")}});const J=P(()=>({page:l.value,itemsPerPage:c.value,sortBy:a.value,pageCount:N.value,toggleSort:b,setItemsPerPage:$,someSelected:se.value,allSelected:Ce.value,isSelected:Y,select:j,selectAll:q,toggleSelect:F,isExpanded:Q,toggleExpand:he,isGroupOpen:A,toggleGroup:C,items:Z.value.map(W=>W.raw),internalItems:Z.value,groupedItems:U.value,columns:d.value,headers:f.value}));return be(()=>{const W=Dc.filterProps(t),re=Hs.filterProps(t),de=Gs.filterProps(t),_e=Ws.filterProps(t);return _(Ws,xe({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},_e),{top:()=>{var me;return(me=i.top)==null?void 0:me.call(i,J.value)},default:()=>{var me,V,L,k,z,G;return i.default?i.default(J.value):_(Fe,null,[(me=i.colgroup)==null?void 0:me.call(i,J.value),!t.hideDefaultHeader&&_("thead",{key:"thead"},[_(Hs,re,i)]),(V=i.thead)==null?void 0:V.call(i,J.value),!t.hideDefaultBody&&_("tbody",null,[(L=i["body.prepend"])==null?void 0:L.call(i,J.value),i.body?i.body(J.value):_(Gs,xe(n,de,{items:U.value}),i),(k=i["body.append"])==null?void 0:k.call(i,J.value)]),(z=i.tbody)==null?void 0:z.call(i,J.value),(G=i.tfoot)==null?void 0:G.call(i,J.value)])},bottom:()=>i.bottom?i.bottom(J.value):!t.hideDefaultFooter&&_(Fe,null,[_(vu,null,null),_(Dc,W,{prepend:i["footer.prepend"]})])})}),{}}}),qV=te({...Dy(),...wy(),...aC(),..._u()},"VDataTableVirtual"),jV=ve()({name:"VDataTableVirtual",props:qV(),emits:{"update:modelValue":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:r}=My(t),{sortBy:a,multiSort:s,mustSort:o}=zh(t),{disableSort:l}=za(t),{columns:c,headers:u,filterFunctions:d,sortFunctions:f,sortRawFunctions:h}=Ry(t,{groupBy:r,showSelect:ue(t,"showSelect"),showExpand:ue(t,"showExpand")}),{items:m}=ky(t,c),v=ue(t,"search"),{filteredItems:p}=bu(t,m,v,{transform:re=>re.columns,customKeyFilter:d}),{toggleSort:g}=Hh({sortBy:a,multiSort:s,mustSort:o}),{sortByWithGroups:y,opened:b,extractRows:x,isGroupOpen:E,toggleGroup:M}=Vh({groupBy:r,sortBy:a,disableSort:l}),{sortedItems:A}=Ty(t,p,y,{transform:re=>({...re.raw,...re.columns}),sortFunctions:f,sortRawFunctions:h}),{flatItems:C}=Nh(A,r,b),S=P(()=>x(C.value)),{isSelected:w,select:T,selectAll:I,toggleSelect:D,someSelected:N,allSelected:$}=Fh(t,{allItems:S,currentPage:S}),{isExpanded:U,toggleExpand:Z}=Oh(t),{containerRef:Y,markerRef:j,paddingTop:q,paddingBottom:F,computedItems:se,handleItemResize:Ce,handleScroll:Q,handleScrollend:he}=sC(t,C),J=P(()=>se.value.map(re=>re.raw));Bh({sortBy:a,page:Ee(1),itemsPerPage:Ee(-1),groupBy:r,search:v}),Yt({VDataTableRows:{hideNoData:ue(t,"hideNoData"),noDataText:ue(t,"noDataText"),loading:ue(t,"loading"),loadingText:ue(t,"loadingText")}});const W=P(()=>({sortBy:a.value,toggleSort:g,someSelected:N.value,allSelected:$.value,isSelected:w,select:T,selectAll:I,toggleSelect:D,isExpanded:U,toggleExpand:Z,isGroupOpen:E,toggleGroup:M,items:S.value.map(re=>re.raw),internalItems:S.value,groupedItems:C.value,columns:c.value,headers:u.value}));be(()=>{const re=Hs.filterProps(t),de=Gs.filterProps(t),_e=Ws.filterProps(t);return _(Ws,xe({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},_e),{top:()=>{var me;return(me=i.top)==null?void 0:me.call(i,W.value)},wrapper:()=>{var me,V,L;return _("div",{ref:Y,onScrollPassive:Q,onScrollend:he,class:"v-table__wrapper",style:{height:Le(t.height)}},[_("table",null,[(me=i.colgroup)==null?void 0:me.call(i,W.value),!t.hideDefaultHeader&&_("thead",{key:"thead"},[_(Hs,xe(re,{sticky:t.fixedHeader}),i)]),!t.hideDefaultBody&&_("tbody",null,[_("tr",{ref:j,style:{height:Le(q.value),border:0}},[_("td",{colspan:c.value.length,style:{height:0,border:0}},null)]),(V=i["body.prepend"])==null?void 0:V.call(i,W.value),_(Gs,xe(n,de,{items:J.value}),{...i,item:k=>_(rC,{key:k.internalItem.index,renderless:!0,"onUpdate:height":z=>Ce(k.internalItem.index,z)},{default:z=>{var K;let{itemRef:G}=z;return((K=i.item)==null?void 0:K.call(i,{...k,itemRef:G}))??_(Ly,xe(k.props,{ref:G,key:k.internalItem.index,index:k.internalItem.index}),i)}})}),(L=i["body.append"])==null?void 0:L.call(i,W.value),_("tr",{style:{height:Le(F.value),border:0}},[_("td",{colspan:c.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var me;return(me=i.bottom)==null?void 0:me.call(i,W.value)}})})}}),KV=te({itemsLength:{type:[Number,String],required:!0},...Cy(),...Dy(),...Py()},"VDataTableServer"),ZV=ve()({name:"VDataTableServer",props:KV(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:groupBy":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:r}=My(t),{sortBy:a,multiSort:s,mustSort:o}=zh(t),{page:l,itemsPerPage:c}=Ay(t),{disableSort:u}=za(t),d=P(()=>parseInt(t.itemsLength,10)),{columns:f,headers:h}=Ry(t,{groupBy:r,showSelect:ue(t,"showSelect"),showExpand:ue(t,"showExpand")}),{items:m}=ky(t,f),{toggleSort:v}=Hh({sortBy:a,multiSort:s,mustSort:o,page:l}),{opened:p,isGroupOpen:g,toggleGroup:y,extractRows:b}=Vh({groupBy:r,sortBy:a,disableSort:u}),{pageCount:x,setItemsPerPage:E}=Ey({page:l,itemsPerPage:c,itemsLength:d}),{flatItems:M}=Nh(m,r,p),{isSelected:A,select:C,selectAll:S,toggleSelect:w,someSelected:T,allSelected:I}=Fh(t,{allItems:m,currentPage:m}),{isExpanded:D,toggleExpand:N}=Oh(t),$=P(()=>b(m.value));Bh({page:l,itemsPerPage:c,sortBy:a,groupBy:r,search:ue(t,"search")}),Ct("v-data-table",{toggleSort:v,sortBy:a}),Yt({VDataTableRows:{hideNoData:ue(t,"hideNoData"),noDataText:ue(t,"noDataText"),loading:ue(t,"loading"),loadingText:ue(t,"loadingText")}});const U=P(()=>({page:l.value,itemsPerPage:c.value,sortBy:a.value,pageCount:x.value,toggleSort:v,setItemsPerPage:E,someSelected:T.value,allSelected:I.value,isSelected:A,select:C,selectAll:S,toggleSelect:w,isExpanded:D,toggleExpand:N,isGroupOpen:g,toggleGroup:y,items:$.value.map(Z=>Z.raw),internalItems:$.value,groupedItems:M.value,columns:f.value,headers:h.value}));be(()=>{const Z=Dc.filterProps(t),Y=Hs.filterProps(t),j=Gs.filterProps(t),q=Ws.filterProps(t);return _(Ws,xe({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},q),{top:()=>{var F;return(F=i.top)==null?void 0:F.call(i,U.value)},default:()=>{var F,se,Ce,Q,he,J;return i.default?i.default(U.value):_(Fe,null,[(F=i.colgroup)==null?void 0:F.call(i,U.value),!t.hideDefaultHeader&&_("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[_(Hs,xe(Y,{sticky:t.fixedHeader}),i)]),(se=i.thead)==null?void 0:se.call(i,U.value),!t.hideDefaultBody&&_("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(Ce=i["body.prepend"])==null?void 0:Ce.call(i,U.value),i.body?i.body(U.value):_(Gs,xe(n,j,{items:M.value}),i),(Q=i["body.append"])==null?void 0:Q.call(i,U.value)]),(he=i.tbody)==null?void 0:he.call(i,U.value),(J=i.tfoot)==null?void 0:J.call(i,U.value)])},bottom:()=>i.bottom?i.bottom(U.value):!t.hideDefaultFooter&&_(Fe,null,[_(vu,null,null),_(Dc,Z,{prepend:i["footer.prepend"]})])})})}}),JV=te({fluid:{type:Boolean,default:!1},...Ve(),...un(),...it()},"VContainer"),QV=ve()({name:"VContainer",props:JV(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=_n(),{dimensionStyles:r}=dn(t);return be(()=>_(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:[r.value,t.style]},n)),{}}}),YC=yh.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),qC=yh.reduce((t,e)=>{const n="offset"+_r(e);return t[n]={type:[String,Number],default:null},t},{}),jC=yh.reduce((t,e)=>{const n="order"+_r(e);return t[n]={type:[String,Number],default:null},t},{}),wb={col:Object.keys(YC),offset:Object.keys(qC),order:Object.keys(jC)};function eN(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const r=e.replace(t,"");i+=`-${r}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const tN=["auto","start","end","center","baseline","stretch"],nN=te({cols:{type:[Boolean,String,Number],default:!1},...YC,offset:{type:[String,Number],default:null},...qC,order:{type:[String,Number],default:null},...jC,alignSelf:{type:String,default:null,validator:t=>tN.includes(t)},...Ve(),...it()},"VCol"),iN=ve()({name:"VCol",props:nN(),setup(t,e){let{slots:n}=e;const i=P(()=>{const r=[];let a;for(a in wb)wb[a].forEach(o=>{const l=t[o],c=eN(a,o,l);c&&r.push(c)});const s=r.some(o=>o.startsWith("v-col-"));return r.push({"v-col":!s||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),r});return()=>{var r;return Si(t.tag,{class:[i.value,t.class],style:t.style},(r=n.default)==null?void 0:r.call(n))}}}),Oy=["start","end","center"],KC=["space-between","space-around","space-evenly"];function Vy(t,e){return yh.reduce((n,i)=>{const r=t+_r(i);return n[r]=e(),n},{})}const rN=[...Oy,"baseline","stretch"],ZC=t=>rN.includes(t),JC=Vy("align",()=>({type:String,default:null,validator:ZC})),aN=[...Oy,...KC],QC=t=>aN.includes(t),eA=Vy("justify",()=>({type:String,default:null,validator:QC})),sN=[...Oy,...KC,"stretch"],tA=t=>sN.includes(t),nA=Vy("alignContent",()=>({type:String,default:null,validator:tA})),Mb={align:Object.keys(JC),justify:Object.keys(eA),alignContent:Object.keys(nA)},oN={align:"align",justify:"justify",alignContent:"align-content"};function lN(t,e,n){let i=oN[t];if(n!=null){if(e){const r=e.replace(t,"");i+=`-${r}`}return i+=`-${n}`,i.toLowerCase()}}const cN=te({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:ZC},...JC,justify:{type:String,default:null,validator:QC},...eA,alignContent:{type:String,default:null,validator:tA},...nA,...Ve(),...it()},"VRow"),uN=ve()({name:"VRow",props:cN(),setup(t,e){let{slots:n}=e;const i=P(()=>{const r=[];let a;for(a in Mb)Mb[a].forEach(s=>{const o=t[s],l=lN(a,s,o);l&&r.push(l)});return r.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),r});return()=>{var r;return Si(t.tag,{class:["v-row",i.value,t.class],style:t.style},(r=n.default)==null?void 0:r.call(n))}}}),iA=Sr("v-spacer","div","VSpacer"),rA=te({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:Ze,default:"$next"},prevIcon:{type:Ze,default:"$prev"},modeIcon:{type:Ze,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Ov=ve()({name:"VDatePickerControls",props:rA(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(t,e){let{emit:n}=e;const i=P(()=>Array.isArray(t.disabled)?t.disabled.includes("text"):!!t.disabled),r=P(()=>Array.isArray(t.disabled)?t.disabled.includes("mode"):!!t.disabled),a=P(()=>Array.isArray(t.disabled)?t.disabled.includes("prev"):!!t.disabled),s=P(()=>Array.isArray(t.disabled)?t.disabled.includes("next"):!!t.disabled);function o(){n("click:prev")}function l(){n("click:next")}function c(){n("click:year")}function u(){n("click:month")}return be(()=>_("div",{class:["v-date-picker-controls"]},[_(yt,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:t.text,variant:"text",rounded:!0,onClick:u},null),_(yt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:r.value,density:"comfortable",icon:t.modeIcon,variant:"text",onClick:c},null),_(iA,{key:"mode-spacer"},null),_("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[_(yt,{disabled:a.value,icon:t.prevIcon,variant:"text",onClick:o},null),_(yt,{disabled:s.value,icon:t.nextIcon,variant:"text",onClick:l},null)])])),{}}}),dN=te({appendIcon:String,color:String,header:String,transition:String,onClick:En()},"VDatePickerHeader"),Vv=ve()({name:"VDatePickerHeader",props:dN(),emits:{click:()=>!0,"click:append":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:r,backgroundColorStyles:a}=kt(t,"color");function s(){n("click")}function o(){n("click:append")}return be(()=>{const l=!!(i.default||t.header),c=!!(i.append||t.appendIcon);return _("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!t.onClick},r.value],style:a.value,onClick:s},[i.prepend&&_("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&_(Wn,{key:"content",name:t.transition},{default:()=>{var u;return[_("div",{key:t.header,class:"v-date-picker-header__content"},[((u=i.default)==null?void 0:u.call(i))??t.header])]}}),c&&_("div",{class:"v-date-picker-header__append"},[i.append?_(ut,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VBtn:{icon:t.appendIcon,variant:"text"}}},{default:()=>{var u;return[(u=i.append)==null?void 0:u.call(i)]}}):_(yt,{key:"append-btn",icon:t.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),fN=te({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function hN(t){const e=cu(),n=We(t,"modelValue",[],h=>$t(h)),i=P(()=>t.displayValue?e.date(t.displayValue):n.value.length>0?e.date(n.value[0]):t.min?e.date(t.min):Array.isArray(t.allowedDates)?e.date(t.allowedDates[0]):e.date()),r=We(t,"year",void 0,h=>{const m=h!=null?Number(h):e.getYear(i.value);return e.startOfYear(e.setYear(e.date(),m))},h=>e.getYear(h)),a=We(t,"month",void 0,h=>{const m=h!=null?Number(h):e.getMonth(i.value),v=e.setYear(e.startOfMonth(e.date()),e.getYear(r.value));return e.setMonth(v,m)},h=>e.getMonth(h)),s=P(()=>{const h=Number(t.firstDayOfWeek??0);return t.weekdays.map(m=>(m+h)%7)}),o=P(()=>{const h=e.getWeekArray(a.value,t.firstDayOfWeek),m=h.flat(),v=6*7;if(t.weeksInMonth==="static"&&m.length<v){const p=m[m.length-1];let g=[];for(let y=1;y<=v-m.length;y++)g.push(e.addDays(p,y)),y%7===0&&(h.push(g),g=[])}return h});function l(h,m){return h.filter(v=>s.value.includes(e.toJsDate(v).getDay())).map((v,p)=>{const g=e.toISO(v),y=!e.isSameMonth(v,a.value),b=e.isSameDay(v,e.startOfMonth(a.value)),x=e.isSameDay(v,e.endOfMonth(a.value)),E=e.isSameDay(v,a.value);return{date:v,isoDate:g,formatted:e.format(v,"keyboardDate"),year:e.getYear(v),month:e.getMonth(v),isDisabled:f(v),isWeekStart:p%7===0,isWeekEnd:p%7===6,isToday:e.isSameDay(v,m),isAdjacent:y,isHidden:y&&!t.showAdjacentMonths,isStart:b,isSelected:n.value.some(M=>e.isSameDay(v,M)),isEnd:x,isSame:E,localized:e.format(v,"dayOfMonth")}})}const c=P(()=>{const h=e.startOfWeek(i.value,t.firstDayOfWeek),m=[];for(let p=0;p<=6;p++)m.push(e.addDays(h,p));const v=e.date();return l(m,v)}),u=P(()=>{const h=o.value.flat(),m=e.date();return l(h,m)}),d=P(()=>o.value.map(h=>h.length?xk(e,h[0]):null));function f(h){if(t.disabled)return!0;const m=e.date(h);return t.min&&e.isAfter(e.date(t.min),m)||t.max&&e.isAfter(m,e.date(t.max))?!0:Array.isArray(t.allowedDates)&&t.allowedDates.length>0?!t.allowedDates.some(v=>e.isSameDay(e.date(v),m)):typeof t.allowedDates=="function"?!t.allowedDates(m):!1}return{displayValue:i,daysInMonth:u,daysInWeek:c,genDays:l,model:n,weeksInMonth:o,weekDays:s,weekNumbers:d}}const aA=te({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...fN()},"VDatePickerMonth"),Nv=ve()({name:"VDatePickerMonth",props:aA(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=pe(),{daysInMonth:a,model:s,weekNumbers:o}=hN(t),l=cu(),c=Ee(),u=Ee(),d=Ee(!1),f=P(()=>d.value?t.reverseTransition:t.transition);t.multiple==="range"&&s.value.length>0&&(c.value=s.value[0],s.value.length>1&&(u.value=s.value[s.value.length-1]));const h=P(()=>{const g=["number","string"].includes(typeof t.multiple)?Number(t.multiple):1/0;return s.value.length>=g});Te(a,(g,y)=>{y&&(d.value=l.isBefore(g[0].date,y[0].date))});function m(g){const y=l.startOfDay(g);if(s.value.length===0?c.value=void 0:s.value.length===1&&(c.value=s.value[0],u.value=void 0),!c.value)c.value=y,s.value=[c.value];else if(u.value)c.value=g,u.value=void 0,s.value=[c.value];else{if(l.isSameDay(y,c.value)){c.value=void 0,s.value=[];return}else l.isBefore(y,c.value)?(u.value=l.endOfDay(c.value),c.value=y):u.value=l.endOfDay(y);const b=l.getDiff(u.value,c.value,"days"),x=[c.value];for(let E=1;E<b;E++){const M=l.addDays(c.value,E);x.push(M)}x.push(u.value),s.value=x}}function v(g){const y=s.value.findIndex(b=>l.isSameDay(b,g));if(y===-1)s.value=[...s.value,g];else{const b=[...s.value];b.splice(y,1),s.value=b}}function p(g){t.multiple==="range"?m(g):t.multiple?v(g):s.value=[g]}return()=>_("div",{class:"v-date-picker-month"},[t.showWeek&&_("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!t.hideWeekdays&&_("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Yr(" ")]),o.value.map(g=>_("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[g]))]),_(Wn,{name:f.value},{default:()=>{var g;return[_("div",{ref:r,key:(g=a.value[0].date)==null?void 0:g.toString(),class:"v-date-picker-month__days"},[!t.hideWeekdays&&l.getWeekdays(t.firstDayOfWeek).map(y=>_("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[y])),a.value.map((y,b)=>{const x={props:{onClick:()=>p(y.date)},item:y,i:b};return h.value&&!y.isSelected&&(y.isDisabled=!0),_("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":y.isAdjacent,"v-date-picker-month__day--hide-adjacent":y.isHidden,"v-date-picker-month__day--selected":y.isSelected,"v-date-picker-month__day--week-end":y.isWeekEnd,"v-date-picker-month__day--week-start":y.isWeekStart}],"data-v-date":y.isDisabled?void 0:y.isoDate},[(t.showAdjacentMonths||!y.isAdjacent)&&_(ut,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(y.isSelected||y.isToday)&&!y.isDisabled?t.color:void 0,disabled:y.isDisabled,icon:!0,ripple:!1,text:y.localized,variant:y.isDisabled?y.isToday?"outlined":"text":y.isToday&&!y.isSelected?"outlined":"flat",onClick:()=>p(y.date)}}},{default:()=>{var E;return[((E=i.day)==null?void 0:E.call(i,x))??_(yt,x.props,null)]}})])})])]}})])}}),sA=te({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),Bv=ve()({name:"VDatePickerMonths",props:sA(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=cu(),a=We(t,"modelValue"),s=P(()=>{let o=r.startOfYear(r.date());return t.year&&(o=r.setYear(o,t.year)),cr(12).map(l=>{const c=r.format(o,"monthShort"),u=!!(t.min&&r.isAfter(r.startOfMonth(r.date(t.min)),o)||t.max&&r.isAfter(o,r.startOfMonth(r.date(t.max))));return o=r.getNextMonth(o),{isDisabled:u,text:c,value:l}})});return Ft(()=>{a.value=a.value??r.getMonth(r.date())}),be(()=>_("div",{class:"v-date-picker-months",style:{height:Le(t.height)}},[_("div",{class:"v-date-picker-months__content"},[s.value.map((o,l)=>{var d;const c={active:a.value===l,color:a.value===l?t.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:a.value===o.value?"flat":"text",onClick:()=>u(l)};function u(f){if(a.value===f){n("update:modelValue",a.value);return}a.value=f}return((d=i.month)==null?void 0:d.call(i,{month:o,i:l,props:c}))??_(yt,xe({key:"month"},c),null)})])])),{}}}),oA=te({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Fv=ve()({name:"VDatePickerYears",props:oA(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=cu(),a=We(t,"modelValue"),s=P(()=>{const l=r.getYear(r.date());let c=l-100,u=l+52;t.min&&(c=r.getYear(r.date(t.min))),t.max&&(u=r.getYear(r.date(t.max)));let d=r.startOfYear(r.date());return d=r.setYear(d,c),cr(u-c+1,c).map(f=>{const h=r.format(d,"year");return d=r.setYear(d,r.getYear(d)+1),{text:h,value:f}})});Ft(()=>{a.value=a.value??r.getYear(r.date())});const o=ff();return cn(async()=>{var l;await vt(),(l=o.el)==null||l.scrollIntoView({block:"center"})}),be(()=>_("div",{class:"v-date-picker-years",style:{height:Le(t.height)}},[_("div",{class:"v-date-picker-years__content"},[s.value.map((l,c)=>{var d;const u={ref:a.value===l.value?o:void 0,active:a.value===l.value,color:a.value===l.value?t.color:void 0,rounded:!0,text:l.text,variant:a.value===l.value?"flat":"text",onClick:()=>{if(a.value===l.value){n("update:modelValue",a.value);return}a.value=l.value}};return((d=i.year)==null?void 0:d.call(i,{year:l,i:c,props:u}))??_(yt,xe({key:"month"},u),null)})])])),{}}}),mN=Sr("v-picker-title"),lA=te({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...Dh()},"VPicker"),Cb=ve()({name:"VPicker",props:lA(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:r}=kt(ue(t,"color"));return be(()=>{const a=zs.filterProps(t),s=!!(t.title||n.title);return _(zs,xe(a,{color:t.bgColor,class:["v-picker",{"v-picker--landscape":t.landscape,"v-picker--with-actions":!!n.actions},t.class],style:t.style}),{default:()=>{var o;return[!t.hideHeader&&_("div",{key:"header",class:[i.value],style:[r.value]},[s&&_(mN,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??t.title]}}),n.header&&_("div",{class:"v-picker__header"},[n.header()])]),_("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&_(ut,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[_("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),pN=te({header:{type:String,default:"$vuetify.datePicker.header"},...rA(),...aA({weeksInMonth:"static"}),...ln(sA(),["modelValue"]),...ln(oA(),["modelValue"]),...lA({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),vN=ve()({name:"VDatePicker",props:pN(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0,"update:viewMode":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const r=cu(),{t:a}=Jt(),s=We(t,"modelValue",void 0,S=>$t(S),S=>t.multiple?S:S[0]),o=We(t,"viewMode"),l=P(()=>{var w;const S=r.date((w=s.value)==null?void 0:w[0]);return S&&r.isValid(S)?S:r.date()}),c=pe(Number(t.month??r.getMonth(r.startOfMonth(l.value)))),u=pe(Number(t.year??r.getYear(r.startOfYear(r.setMonth(l.value,c.value))))),d=Ee(!1),f=P(()=>t.multiple&&s.value.length>1?a("$vuetify.datePicker.itemsSelected",s.value.length):s.value[0]&&r.isValid(s.value[0])?r.format(r.date(s.value[0]),"normalDateWithWeekday"):a(t.header)),h=P(()=>{let S=r.date();return S=r.setDate(S,1),S=r.setMonth(S,c.value),S=r.setYear(S,u.value),r.format(S,"monthAndYear")}),m=P(()=>`date-picker-header${d.value?"-reverse":""}-transition`),v=P(()=>{const S=r.date(t.min);return t.min&&r.isValid(S)?S:null}),p=P(()=>{const S=r.date(t.max);return t.max&&r.isValid(S)?S:null}),g=P(()=>{if(t.disabled)return!0;const S=[];if(o.value!=="month")S.push("prev","next");else{let w=r.date();if(w=r.setYear(w,u.value),w=r.setMonth(w,c.value),v.value){const T=r.addDays(r.startOfMonth(w),-1);r.isAfter(v.value,T)&&S.push("prev")}if(p.value){const T=r.addDays(r.endOfMonth(w),1);r.isAfter(T,p.value)&&S.push("next")}}return S});function y(){c.value<11?c.value++:(u.value++,c.value=0,C(u.value)),A(c.value)}function b(){c.value>0?c.value--:(u.value--,c.value=11,C(u.value)),A(c.value)}function x(){o.value="month"}function E(){o.value=o.value==="months"?"month":"months"}function M(){o.value=o.value==="year"?"month":"year"}function A(S){o.value==="months"&&E(),n("update:month",S)}function C(S){o.value==="year"&&M(),n("update:year",S)}return Te(s,(S,w)=>{const T=$t(w),I=$t(S);if(!I.length)return;const D=r.date(T[T.length-1]),N=r.date(I[I.length-1]),$=r.getMonth(N),U=r.getYear(N);$!==c.value&&(c.value=$,A(c.value)),U!==u.value&&(u.value=U,C(u.value)),d.value=r.isBefore(D,N)}),be(()=>{const S=Cb.filterProps(t),w=Ov.filterProps(t),T=Vv.filterProps(t),I=Nv.filterProps(t),D=ln(Bv.filterProps(t),["modelValue"]),N=ln(Fv.filterProps(t),["modelValue"]),$={header:f.value,transition:m.value};return _(Cb,xe(S,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":t.showWeek},t.class],style:t.style}),{title:()=>{var U;return((U=i.title)==null?void 0:U.call(i))??_("div",{class:"v-date-picker__title"},[a(t.title)])},header:()=>i.header?_(ut,{defaults:{VDatePickerHeader:{...$}}},{default:()=>{var U;return[(U=i.header)==null?void 0:U.call(i,$)]}}):_(Vv,xe({key:"header"},T,$,{onClick:o.value!=="month"?x:void 0}),{...i,default:void 0}),default:()=>_(Fe,null,[_(Ov,xe(w,{disabled:g.value,text:h.value,"onClick:next":y,"onClick:prev":b,"onClick:month":E,"onClick:year":M}),null),_(Tc,{hideOnLeave:!0},{default:()=>[o.value==="months"?_(Bv,xe({key:"date-picker-months"},D,{modelValue:c.value,"onUpdate:modelValue":[U=>c.value=U,A],min:v.value,max:p.value,year:u.value}),null):o.value==="year"?_(Fv,xe({key:"date-picker-years"},N,{modelValue:u.value,"onUpdate:modelValue":[U=>u.value=U,C],min:v.value,max:p.value}),null):_(Nv,xe({key:"date-picker-month"},I,{modelValue:s.value,"onUpdate:modelValue":U=>s.value=U,month:c.value,"onUpdate:month":[U=>c.value=U,A],year:u.value,"onUpdate:year":[U=>u.value=U,C],min:v.value,max:p.value}),null)]})]),actions:i.actions})}),{}}}),gN=te({actionText:String,bgColor:String,color:String,icon:Ze,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Ve(),...un(),...wr({size:void 0}),...pt()},"VEmptyState"),yN=ve()({name:"VEmptyState",props:gN(),emits:{"click:action":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{themeClasses:r}=xt(t),{backgroundColorClasses:a,backgroundColorStyles:s}=kt(ue(t,"bgColor")),{dimensionStyles:o}=dn(t),{displayClasses:l}=Vi();function c(u){n("click:action",u)}return be(()=>{var p,g,y;const u=!!(i.actions||t.actionText),d=!!(i.headline||t.headline),f=!!(i.title||t.title),h=!!(i.text||t.text),m=!!(i.media||t.image||t.icon),v=t.size||(t.image?200:96);return _("div",{class:["v-empty-state",{[`v-empty-state--${t.justify}`]:!0},r.value,a.value,l.value,t.class],style:[s.value,o.value,t.style]},[m&&_("div",{key:"media",class:"v-empty-state__media"},[i.media?_(ut,{key:"media-defaults",defaults:{VImg:{src:t.image,height:v},VIcon:{size:v,icon:t.icon}}},{default:()=>[i.media()]}):_(Fe,null,[t.image?_(jr,{key:"image",src:t.image,height:v},null):t.icon?_(_t,{key:"icon",color:t.color,size:v,icon:t.icon},null):void 0])]),d&&_("div",{key:"headline",class:"v-empty-state__headline"},[((p=i.headline)==null?void 0:p.call(i))??t.headline]),f&&_("div",{key:"title",class:"v-empty-state__title"},[((g=i.title)==null?void 0:g.call(i))??t.title]),h&&_("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Le(t.textWidth)}},[((y=i.text)==null?void 0:y.call(i))??t.text]),i.default&&_("div",{key:"content",class:"v-empty-state__content"},[i.default()]),u&&_("div",{key:"actions",class:"v-empty-state__actions"},[_(ut,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:t.color??"surface-variant",text:t.actionText}}},{default:()=>{var b;return[((b=i.actions)==null?void 0:b.call(i,{props:{onClick:c}}))??_(yt,{onClick:c},null)]}})])])}),{}}}),Oc=Symbol.for("vuetify:v-expansion-panel"),cA=te({...Ve(),...py()},"VExpansionPanelText"),Uv=ve()({name:"VExpansionPanelText",props:cA(),setup(t,e){let{slots:n}=e;const i=nt(Oc);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:a}=vy(t,i.isSelected);return be(()=>_(xh,{onAfterLeave:a},{default:()=>{var s;return[Xt(_("div",{class:["v-expansion-panel-text",t.class],style:t.style},[n.default&&r.value&&_("div",{class:"v-expansion-panel-text__wrapper"},[(s=n.default)==null?void 0:s.call(n)])]),[[Qi,i.isSelected.value]])]}})),{}}}),uA=te({color:String,expandIcon:{type:Ze,default:"$expand"},collapseIcon:{type:Ze,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ve(),...un()},"VExpansionPanelTitle"),zv=ve()({name:"VExpansionPanelTitle",directives:{Ripple:ra},props:uA(),setup(t,e){let{slots:n}=e;const i=nt(Oc);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:a}=kt(t,"color"),{dimensionStyles:s}=dn(t),o=P(()=>({collapseIcon:t.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly})),l=P(()=>i.isSelected.value?t.collapseIcon:t.expandIcon);return be(()=>{var c;return Xt(_("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":t.focusable,"v-expansion-panel-title--static":t.static},r.value,t.class],style:[a.value,s.value,t.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:t.readonly?void 0:i.toggle},[_("span",{class:"v-expansion-panel-title__overlay"},null),(c=n.default)==null?void 0:c.call(n,o.value),!t.hideActions&&_(ut,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var u;return[_("span",{class:"v-expansion-panel-title__icon"},[((u=n.actions)==null?void 0:u.call(n,o.value))??_(_t,null,null)])]}})]),[[Mi("ripple"),t.ripple]])}),{}}}),dA=te({title:String,text:String,bgColor:String,...bn(),...no(),...Gt(),...it(),...uA(),...cA()},"VExpansionPanel"),_N=ve()({name:"VExpansionPanel",props:dA(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=io(t,Oc),{backgroundColorClasses:r,backgroundColorStyles:a}=kt(t,"bgColor"),{elevationClasses:s}=In(t),{roundedClasses:o}=jt(t),l=P(()=>(i==null?void 0:i.disabled.value)||t.disabled),c=P(()=>i.group.items.value.reduce((f,h,m)=>(i.group.selected.value.includes(h.id)&&f.push(m),f),[])),u=P(()=>{const f=i.group.items.value.findIndex(h=>h.id===i.id);return!i.isSelected.value&&c.value.some(h=>h-f===1)}),d=P(()=>{const f=i.group.items.value.findIndex(h=>h.id===i.id);return!i.isSelected.value&&c.value.some(h=>h-f===-1)});return Ct(Oc,i),be(()=>{const f=!!(n.text||t.text),h=!!(n.title||t.title),m=zv.filterProps(t),v=Uv.filterProps(t);return _(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":u.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},o.value,r.value,t.class],style:[a.value,t.style]},{default:()=>[_("div",{class:["v-expansion-panel__shadow",...s.value]},null),_(ut,{defaults:{VExpansionPanelTitle:{...m},VExpansionPanelText:{...v}}},{default:()=>{var p;return[h&&_(zv,{key:"title"},{default:()=>[n.title?n.title():t.title]}),f&&_(Uv,{key:"text"},{default:()=>[n.text?n.text():t.text]}),(p=n.default)==null?void 0:p.call(n)]}})]})}),{groupItem:i}}}),bN=["default","accordion","inset","popout"],xN=te({flat:Boolean,...to(),...Wg(dA(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...pt(),...Ve(),...it(),variant:{type:String,default:"default",validator:t=>bN.includes(t)}},"VExpansionPanels"),SN=ve()({name:"VExpansionPanels",props:xN(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{next:i,prev:r}=Wa(t,Oc),{themeClasses:a}=xt(t),s=P(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return Yt({VExpansionPanel:{bgColor:ue(t,"bgColor"),collapseIcon:ue(t,"collapseIcon"),color:ue(t,"color"),eager:ue(t,"eager"),elevation:ue(t,"elevation"),expandIcon:ue(t,"expandIcon"),focusable:ue(t,"focusable"),hideActions:ue(t,"hideActions"),readonly:ue(t,"readonly"),ripple:ue(t,"ripple"),rounded:ue(t,"rounded"),static:ue(t,"static")}}),be(()=>_(t.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":t.flat,"v-expansion-panels--tile":t.tile},a.value,s.value,t.class],style:t.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:r,next:i})]}})),{next:i,prev:r}}}),wN=te({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...ln(Ch({active:!0}),["location"]),...Zs(),...ia(),...er({transition:"fab-transition"})},"VFab"),MN=ve()({name:"VFab",props:wN(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"modelValue"),r=Ee(56),a=pe(),{resizeRef:s}=ji(d=>{d.length&&(r.value=d[0].target.clientHeight)}),o=P(()=>t.app||t.absolute),l=P(()=>{var d;return o.value?((d=t.location)==null?void 0:d.split(" ").shift())??"bottom":!1}),c=P(()=>{var d;return o.value?((d=t.location)==null?void 0:d.split(" ")[1])??"end":!1});ni(()=>t.app,()=>{const d=Js({id:t.name,order:P(()=>parseInt(t.order,10)),position:l,layoutSize:P(()=>t.layout?r.value+24:0),elementSize:P(()=>r.value+24),active:P(()=>t.app&&i.value),absolute:ue(t,"absolute")});Ft(()=>{a.value=d.layoutItemStyles.value})});const u=pe();return be(()=>{const d=yt.filterProps(t);return _("div",{ref:u,class:["v-fab",{"v-fab--absolute":t.absolute,"v-fab--app":!!t.app,"v-fab--extended":t.extended,"v-fab--offset":t.offset,[`v-fab--${l.value}`]:o.value,[`v-fab--${c.value}`]:o.value},t.class],style:[t.app?{...a.value}:{height:"inherit",width:void 0},t.style]},[_("div",{class:"v-fab__container"},[_(Wn,{appear:t.appear,transition:t.transition},{default:()=>[Xt(_(yt,xe({ref:s},d,{active:void 0,location:void 0}),n),[[Qi,t.active]])]})])])}),{}}}),CN=te({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))},...sa({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>$t(t).every(e=>e!=null&&typeof e=="object")},...yu({clearable:!0})},"VFileInput"),AN=ve()({name:"VFileInput",inheritAttrs:!1,props:CN(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{t:a}=Jt(),s=We(t,"modelValue",t.modelValue,S=>$t(S),S=>!t.multiple&&Array.isArray(S)?S[0]:S),{isFocused:o,focus:l,blur:c}=aa(t),u=P(()=>typeof t.showSize!="boolean"?t.showSize:void 0),d=P(()=>(s.value??[]).reduce((S,w)=>{let{size:T=0}=w;return S+T},0)),f=P(()=>N_(d.value,u.value)),h=P(()=>(s.value??[]).map(S=>{const{name:w="",size:T=0}=S;return t.showSize?`${w} (${N_(T,u.value)})`:w})),m=P(()=>{var w;const S=((w=s.value)==null?void 0:w.length)??0;return t.showSize?a(t.counterSizeString,S,f.value):a(t.counterString,S)}),v=pe(),p=pe(),g=pe(),y=P(()=>o.value||t.active),b=P(()=>["plain","underlined"].includes(t.variant));function x(){var S;g.value!==document.activeElement&&((S=g.value)==null||S.focus()),o.value||l()}function E(S){var w;(w=g.value)==null||w.click()}function M(S){i("mousedown:control",S)}function A(S){var w;(w=g.value)==null||w.click(),i("click:control",S)}function C(S){S.stopPropagation(),x(),vt(()=>{s.value=[],Xg(t["onClick:clear"],S)})}return Te(s,S=>{(!Array.isArray(S)||!S.length)&&g.value&&(g.value.value="")}),be(()=>{const S=!!(r.counter||t.counter),w=!!(S||r.details),[T,I]=Ha(n),{modelValue:D,...N}=Vn.filterProps(t),$=gy(t);return _(Vn,xe({ref:v,modelValue:s.value,"onUpdate:modelValue":U=>s.value=U,class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":b.value},t.class],style:t.style,"onClick:prepend":E},T,N,{centerAffix:!b.value,focused:o.value}),{...r,default:U=>{let{id:Z,isDisabled:Y,isDirty:j,isReadonly:q,isValid:F}=U;return _(wl,xe({ref:p,"prepend-icon":t.prependIcon,onMousedown:M,onClick:A,"onClick:clear":C,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},$,{id:Z.value,active:y.value||j.value,dirty:j.value||t.dirty,disabled:Y.value,focused:o.value,error:F.value===!1}),{...r,default:se=>{var he;let{props:{class:Ce,...Q}}=se;return _(Fe,null,[_("input",xe({ref:g,type:"file",readonly:q.value,disabled:Y.value,multiple:t.multiple,name:t.name,onClick:J=>{J.stopPropagation(),q.value&&J.preventDefault(),x()},onChange:J=>{if(!J.target)return;const W=J.target;s.value=[...W.files??[]]},onFocus:x,onBlur:c},Q,I),null),_("div",{class:Ce},[!!((he=s.value)!=null&&he.length)&&!t.hideInput&&(r.selection?r.selection({fileNames:h.value,totalBytes:d.value,totalBytesReadable:f.value}):t.chips?h.value.map(J=>_(Sl,{key:J,size:"small",text:J},null)):h.value.join(", "))])])}})},details:w?U=>{var Z,Y;return _(Fe,null,[(Z=r.details)==null?void 0:Z.call(r,U),S&&_(Fe,null,[_("span",null,null),_(Ph,{active:!!((Y=s.value)!=null&&Y.length),value:m.value,disabled:t.disabled},r.counter)])])}:void 0})}),Bi({},v,p,g)}}),EN=te({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...di(),...Ve(),...bn(),...Zs(),...Gt(),...it({tag:"footer"}),...pt()},"VFooter"),TN=ve()({name:"VFooter",props:EN(),setup(t,e){let{slots:n}=e;const i=pe(),{themeClasses:r}=xt(t),{backgroundColorClasses:a,backgroundColorStyles:s}=kt(ue(t,"color")),{borderClasses:o}=Ei(t),{elevationClasses:l}=In(t),{roundedClasses:c}=jt(t),u=Ee(32),{resizeRef:d}=ji(h=>{h.length&&(u.value=h[0].target.clientHeight)}),f=P(()=>t.height==="auto"?u.value:parseInt(t.height,10));return ni(()=>t.app,()=>{const h=Js({id:t.name,order:P(()=>parseInt(t.order,10)),position:P(()=>"bottom"),layoutSize:f,elementSize:P(()=>t.height==="auto"?void 0:f.value),active:P(()=>t.app),absolute:ue(t,"absolute")});Ft(()=>{i.value=h.layoutItemStyles.value})}),be(()=>_(t.tag,{ref:d,class:["v-footer",r.value,a.value,o.value,l.value,c.value,t.class],style:[s.value,t.app?i.value:{height:Le(t.height)},t.style]},n)),{}}}),PN=te({...Ve(),...VD()},"VForm"),IN=ve()({name:"VForm",props:PN(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=ND(t),a=pe();function s(l){l.preventDefault(),r.reset()}function o(l){const c=l,u=r.validate();c.then=u.then.bind(u),c.catch=u.catch.bind(u),c.finally=u.finally.bind(u),i("submit",c),c.defaultPrevented||u.then(d=>{var h;let{valid:f}=d;f&&((h=a.value)==null||h.submit())}),c.preventDefault()}return be(()=>{var l;return _("form",{ref:a,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:s,onSubmit:o},[(l=n.default)==null?void 0:l.call(n,r)])}),Bi(r,a)}}),RN=te({disabled:Boolean,modelValue:{type:Boolean,default:null},...hy()},"VHover"),LN=ve()({name:"VHover",props:RN(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"modelValue"),{runOpenDelay:r,runCloseDelay:a}=my(t,s=>!t.disabled&&(i.value=s));return()=>{var s;return(s=n.default)==null?void 0:s.call(n,{isHovering:i.value,props:{onMouseenter:r,onMouseleave:a}})}}}),kN=te({color:String,direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},side:{type:String,default:"end",validator:t=>["start","end","both"].includes(t)},mode:{type:String,default:"intersect",validator:t=>["intersect","manual"].includes(t)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...un(),...it()},"VInfiniteScroll"),Ab=Ci({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(t,e)=>!0},setup(t,e){let{emit:n}=e;const{intersectionRef:i,isIntersecting:r}=Sh();return Te(r,async a=>{n("intersect",t.side,a)}),be(()=>_("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":t.rootMargin},ref:i},[Yr(" ")])),{}}}),DN=ve()({name:"VInfiniteScroll",props:kN(),emits:{load:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=pe(),a=Ee("ok"),s=Ee("ok"),o=P(()=>Le(t.margin)),l=Ee(!1);function c(E){if(!r.value)return;const M=t.direction==="vertical"?"scrollTop":"scrollLeft";r.value[M]=E}function u(){if(!r.value)return 0;const E=t.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[E]}function d(){if(!r.value)return 0;const E=t.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[E]}function f(){if(!r.value)return 0;const E=t.direction==="vertical"?"clientHeight":"clientWidth";return r.value[E]}cn(()=>{r.value&&(t.side==="start"?c(d()):t.side==="both"&&c(d()/2-f()/2))});function h(E,M){E==="start"?a.value=M:E==="end"&&(s.value=M)}function m(E){return E==="start"?a.value:s.value}let v=0;function p(E,M){l.value=M,l.value&&g(E)}function g(E){if(t.mode!=="manual"&&!l.value)return;const M=m(E);if(!r.value||["empty","loading"].includes(M))return;v=d(),h(E,"loading");function A(C){h(E,C),vt(()=>{C==="empty"||C==="error"||(C==="ok"&&E==="start"&&c(d()-v+u()),t.mode!=="manual"&&vt(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{g(E)})})})}))})}i("load",{side:E,done:A})}const{t:y}=Jt();function b(E,M){var S,w,T,I,D;if(t.side!==E&&t.side!=="both")return;const A=()=>g(E),C={side:E,props:{onClick:A,color:t.color}};return M==="error"?(S=n.error)==null?void 0:S.call(n,C):M==="empty"?((w=n.empty)==null?void 0:w.call(n,C))??_("div",null,[y(t.emptyText)]):t.mode==="manual"?M==="loading"?((T=n.loading)==null?void 0:T.call(n,C))??_(cl,{indeterminate:!0,color:t.color},null):((I=n["load-more"])==null?void 0:I.call(n,C))??_(yt,{variant:"outlined",color:t.color,onClick:A},{default:()=>[y(t.loadMoreText)]}):((D=n.loading)==null?void 0:D.call(n,C))??_(cl,{indeterminate:!0,color:t.color},null)}const{dimensionStyles:x}=dn(t);be(()=>{const E=t.tag,M=t.side==="start"||t.side==="both",A=t.side==="end"||t.side==="both",C=t.mode==="intersect";return _(E,{ref:r,class:["v-infinite-scroll",`v-infinite-scroll--${t.direction}`,{"v-infinite-scroll--start":M,"v-infinite-scroll--end":A}],style:x.value},{default:()=>{var S;return[_("div",{class:"v-infinite-scroll__side"},[b("start",a.value)]),M&&C&&_(Ab,{key:"start",side:"start",onIntersect:p,rootMargin:o.value},null),(S=n.default)==null?void 0:S.call(n),A&&C&&_(Ab,{key:"end",side:"end",onIntersect:p,rootMargin:o.value},null),_("div",{class:"v-infinite-scroll__side"},[b("end",s.value)])]}})})}}),fA=Symbol.for("vuetify:v-item-group"),ON=te({...Ve(),...to({selectedClass:"v-item--selected"}),...it(),...pt()},"VItemGroup"),VN=ve()({name:"VItemGroup",props:ON(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=xt(t),{isSelected:r,select:a,next:s,prev:o,selected:l}=Wa(t,fA);return()=>_(t.tag,{class:["v-item-group",i.value,t.class],style:t.style},{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:r,select:a,next:s,prev:o,selected:l.value})]}})}}),NN=ve()({name:"VItem",props:no(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,select:r,toggle:a,selectedClass:s,value:o,disabled:l}=io(t,fA);return()=>{var c;return(c=n.default)==null?void 0:c.call(n,{isSelected:i.value,selectedClass:s.value,select:r,toggle:a,value:o.value,disabled:l.value})}}}),BN=Sr("v-kbd"),FN=te({...Ve(),...un(),...t1()},"VLayout"),UN=ve()({name:"VLayout",props:FN(),setup(t,e){let{slots:n}=e;const{layoutClasses:i,layoutStyles:r,getLayoutItem:a,items:s,layoutRef:o}=i1(t),{dimensionStyles:l}=dn(t);return be(()=>{var c;return _("div",{ref:o,class:[i.value,t.class],style:[l.value,r.value,t.style]},[(c=n.default)==null?void 0:c.call(n)])}),{getLayoutItem:a,items:s}}}),zN=te({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Ve(),...Zs()},"VLayoutItem"),HN=ve()({name:"VLayoutItem",props:zN(),setup(t,e){let{slots:n}=e;const{layoutItemStyles:i}=Js({id:t.name,order:P(()=>parseInt(t.order,10)),position:ue(t,"position"),elementSize:ue(t,"size"),layoutSize:ue(t,"size"),active:ue(t,"modelValue"),absolute:ue(t,"absolute")});return()=>{var r;return _("div",{class:["v-layout-item",t.class],style:[i.value,t.style]},[(r=n.default)==null?void 0:r.call(n)])}}}),GN=te({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Ve(),...un(),...it(),...er({transition:"fade-transition"})},"VLazy"),WN=ve()({name:"VLazy",directives:{intersect:uu},props:GN(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=dn(t),r=We(t,"modelValue");function a(s){r.value||(r.value=s)}return be(()=>Xt(_(t.tag,{class:["v-lazy",t.class],style:[i.value,t.style]},{default:()=>[r.value&&_(Wn,{transition:t.transition,appear:!0},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})]}),[[Mi("intersect"),{handler:a,options:t.options},null]])),{}}}),$N=te({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Ve()},"VLocaleProvider"),XN=ve()({name:"VLocaleProvider",props:$N(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=LL(t);return be(()=>{var r;return _("div",{class:["v-locale-provider",i.value,t.class],style:t.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),YN=te({scrollable:Boolean,...Ve(),...un(),...it({tag:"main"})},"VMain"),qN=ve()({name:"VMain",props:YN(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=dn(t),{mainStyles:r}=n1(),{ssrBootStyles:a}=Qs();return be(()=>_(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[r.value,a.value,i.value,t.style]},{default:()=>{var s,o;return[t.scrollable?_("div",{class:"v-main__scroller"},[(s=n.default)==null?void 0:s.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function jN(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const r=Ee(!1),a=Ee(0),s=P(()=>{const c=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[c]:Le(a.value)}:{top:i.value.top}]});cn(()=>{Te(n,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Tn(()=>{window.removeEventListener("scroll",l)});let o=0;function l(){const c=o>window.scrollY?"up":"down",u=e.value.getBoundingClientRect(),d=parseFloat(i.value.top??0),f=window.scrollY-Math.max(0,a.value-d),h=u.height+Math.max(a.value,d)-window.scrollY-window.innerHeight,m=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-d?(r.value="top",a.value=d):c==="up"&&r.value==="bottom"||c==="down"&&r.value==="top"?(a.value=window.scrollY+u.top-m,r.value=!0):c==="down"&&h<=0?(a.value=0,r.value="bottom"):c==="up"&&f<=0&&(m?r.value!=="top"&&(a.value=-f+m+d,r.value="top"):(a.value=u.top+f,r.value="top")),o=window.scrollY}return{isStuck:r,stickyStyles:s}}const KN=100,ZN=20;function Eb(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function Tb(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=Eb(e),r=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(r-i)*Math.abs(r),n===t.length-1&&(e*=.5)}return Eb(e)*1e3}function JN(){const t={};function e(r){Array.from(r.changedTouches).forEach(a=>{(t[a.identifier]??(t[a.identifier]=new XR(ZN))).push([r.timeStamp,a])})}function n(r){Array.from(r.changedTouches).forEach(a=>{delete t[a.identifier]})}function i(r){var c;const a=(c=t[r])==null?void 0:c.values().reverse();if(!a)throw new Error(`No samples for touch id ${r}`);const s=a[0],o=[],l=[];for(const u of a){if(s[0]-u[0]>KN)break;o.push({t:u[0],d:u[1].clientX}),l.push({t:u[0],d:u[1].clientY})}return{x:Tb(o),y:Tb(l),get direction(){const{x:u,y:d}=this,[f,h]=[Math.abs(u),Math.abs(d)];return f>h&&u>=0?"right":f>h&&u<=0?"left":h>f&&d>=0?"down":h>f&&d<=0?"up":QN()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function QN(){throw new Error}function e3(t){let{el:e,isActive:n,isTemporary:i,width:r,touchless:a,position:s}=t;cn(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",x,{passive:!0})}),Tn(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",x)});const o=P(()=>["left","right"].includes(s.value)),{addMovement:l,endTouch:c,getVelocity:u}=JN();let d=!1;const f=Ee(!1),h=Ee(0),m=Ee(0);let v;function p(M,A){return(s.value==="left"?M:s.value==="right"?document.documentElement.clientWidth-M:s.value==="top"?M:s.value==="bottom"?document.documentElement.clientHeight-M:po())-(A?r.value:0)}function g(M){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const C=s.value==="left"?(M-m.value)/r.value:s.value==="right"?(document.documentElement.clientWidth-M-m.value)/r.value:s.value==="top"?(M-m.value)/r.value:s.value==="bottom"?(document.documentElement.clientHeight-M-m.value)/r.value:po();return A?Math.max(0,Math.min(1,C)):C}function y(M){if(a.value)return;const A=M.changedTouches[0].clientX,C=M.changedTouches[0].clientY,S=25,w=s.value==="left"?A<S:s.value==="right"?A>document.documentElement.clientWidth-S:s.value==="top"?C<S:s.value==="bottom"?C>document.documentElement.clientHeight-S:po(),T=n.value&&(s.value==="left"?A<r.value:s.value==="right"?A>document.documentElement.clientWidth-r.value:s.value==="top"?C<r.value:s.value==="bottom"?C>document.documentElement.clientHeight-r.value:po());(w||T||n.value&&i.value)&&(v=[A,C],m.value=p(o.value?A:C,n.value),h.value=g(o.value?A:C),d=m.value>-20&&m.value<80,c(M),l(M))}function b(M){const A=M.changedTouches[0].clientX,C=M.changedTouches[0].clientY;if(d){if(!M.cancelable){d=!1;return}const w=Math.abs(A-v[0]),T=Math.abs(C-v[1]);(o.value?w>T&&w>3:T>w&&T>3)?(f.value=!0,d=!1):(o.value?T:w)>3&&(d=!1)}if(!f.value)return;M.preventDefault(),l(M);const S=g(o.value?A:C,!1);h.value=Math.max(0,Math.min(1,S)),S>1?m.value=p(o.value?A:C,!0):S<0&&(m.value=p(o.value?A:C,!1))}function x(M){if(d=!1,!f.value)return;l(M),f.value=!1;const A=u(M.changedTouches[0].identifier),C=Math.abs(A.x),S=Math.abs(A.y);(o.value?C>S&&C>400:S>C&&S>3)?n.value=A.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||po()):n.value=h.value>.5}const E=P(()=>f.value?{transform:s.value==="left"?`translateX(calc(-100% + ${h.value*r.value}px))`:s.value==="right"?`translateX(calc(100% - ${h.value*r.value}px))`:s.value==="top"?`translateY(calc(-100% + ${h.value*r.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${h.value*r.value}px))`:po(),transition:"none"}:void 0);return ni(f,()=>{var C,S;const M=((C=e.value)==null?void 0:C.style.transform)??null,A=((S=e.value)==null?void 0:S.style.transition)??null;Ft(()=>{var w,T,I,D;(T=e.value)==null||T.style.setProperty("transform",((w=E.value)==null?void 0:w.transform)||"none"),(D=e.value)==null||D.style.setProperty("transition",((I=E.value)==null?void 0:I.transition)||null)}),Nn(()=>{var w,T;(w=e.value)==null||w.style.setProperty("transform",M),(T=e.value)==null||T.style.setProperty("transition",A)})}),{isDragging:f,dragProgress:h,dragStyles:E}}function po(){throw new Error}const t3=["start","end","left","right","top","bottom"],n3=te({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>t3.includes(t)},sticky:Boolean,...di(),...Ve(),...hy(),...Ks({mobile:null}),...bn(),...Zs(),...Gt(),...it({tag:"nav"}),...pt()},"VNavigationDrawer"),i3=ve()({name:"VNavigationDrawer",props:n3(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{isRtl:a}=_n(),{themeClasses:s}=xt(t),{borderClasses:o}=Ei(t),{backgroundColorClasses:l,backgroundColorStyles:c}=kt(ue(t,"color")),{elevationClasses:u}=In(t),{displayClasses:d,mobile:f}=Vi(t),{roundedClasses:h}=jt(t),m=m1(),v=We(t,"modelValue",null,F=>!!F),{ssrBootStyles:p}=Qs(),{scopeId:g}=ao(),y=pe(),b=Ee(!1),{runOpenDelay:x,runCloseDelay:E}=my(t,F=>{b.value=F}),M=P(()=>t.rail&&t.expandOnHover&&b.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),A=P(()=>uv(t.location,a.value)),C=P(()=>t.persistent),S=P(()=>!t.permanent&&(f.value||t.temporary)),w=P(()=>t.sticky&&!S.value&&A.value!=="bottom");ni(()=>t.expandOnHover&&t.rail!=null,()=>{Te(b,F=>i("update:rail",!F))}),ni(()=>!t.disableResizeWatcher,()=>{Te(S,F=>!t.permanent&&vt(()=>v.value=!F))}),ni(()=>!t.disableRouteWatcher&&!!m,()=>{Te(m.currentRoute,()=>S.value&&(v.value=!1))}),Te(()=>t.permanent,F=>{F&&(v.value=!0)}),t.modelValue==null&&!S.value&&(v.value=t.permanent||!f.value);const{isDragging:T,dragProgress:I}=e3({el:y,isActive:v,isTemporary:S,width:M,touchless:ue(t,"touchless"),position:A}),D=P(()=>{const F=S.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):M.value;return T.value?F*I.value:F}),N=P(()=>["top","bottom"].includes(t.location)?0:M.value),{layoutItemStyles:$,layoutItemScrimStyles:U}=Js({id:t.name,order:P(()=>parseInt(t.order,10)),position:A,layoutSize:D,elementSize:N,active:P(()=>v.value||T.value),disableTransitions:P(()=>T.value),absolute:P(()=>t.absolute||w.value&&typeof Z.value!="string")}),{isStuck:Z,stickyStyles:Y}=jN({rootEl:y,isSticky:w,layoutItemStyles:$}),j=kt(P(()=>typeof t.scrim=="string"?t.scrim:null)),q=P(()=>({...T.value?{opacity:I.value*.2,transition:"none"}:void 0,...U.value}));return Yt({VList:{bgColor:"transparent"}}),be(()=>{const F=r.image||t.image;return _(Fe,null,[_(t.tag,xe({ref:y,onMouseenter:x,onMouseleave:E,class:["v-navigation-drawer",`v-navigation-drawer--${A.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":S.value,"v-navigation-drawer--persistent":C.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":w.value},s.value,l.value,o.value,d.value,u.value,h.value,t.class],style:[c.value,$.value,p.value,Y.value,t.style,["top","bottom"].includes(A.value)?{height:"auto"}:{}]},g,n),{default:()=>{var se,Ce,Q;return[F&&_("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?_(ut,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},r.image):_(jr,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),r.prepend&&_("div",{class:"v-navigation-drawer__prepend"},[(se=r.prepend)==null?void 0:se.call(r)]),_("div",{class:"v-navigation-drawer__content"},[(Ce=r.default)==null?void 0:Ce.call(r)]),r.append&&_("div",{class:"v-navigation-drawer__append"},[(Q=r.append)==null?void 0:Q.call(r)])]}}),_(Da,{name:"fade-transition"},{default:()=>[S.value&&(T.value||v.value)&&!!t.scrim&&_("div",xe({class:["v-navigation-drawer__scrim",j.backgroundColorClasses.value],style:[q.value,j.backgroundColorStyles.value],onClick:()=>{C.value||(v.value=!1)}},g),null)]})])}),{isStuck:Z}}}),r3=Ci({name:"VNoSsr",setup(t,e){let{slots:n}=e;const i=Q1();return()=>{var r;return i.value&&((r=n.default)==null?void 0:r.call(n))}}}),a3=te({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...un(),...pu(),...hh(yu({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),s3=ve()({name:"VOtpInput",props:a3(),emits:{finish:t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const{dimensionStyles:a}=dn(t),{isFocused:s,focus:o,blur:l}=aa(t),c=We(t,"modelValue","",C=>C==null?[]:String(C).split(""),C=>C.join("")),{t:u}=Jt(),d=P(()=>Number(t.length)),f=P(()=>Array(d.value).fill(0)),h=pe(-1),m=pe(),v=pe([]),p=P(()=>v.value[h.value]);function g(){if(A(p.value.value)){p.value.value="";return}const C=c.value.slice(),S=p.value.value;C[h.value]=S;let w=null;h.value>c.value.length?w=c.value.length+1:h.value+1!==d.value&&(w="next"),c.value=C,w&&Ts(m.value,w)}function y(C){const S=c.value.slice(),w=h.value;let T=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(C.key)&&(C.preventDefault(),C.key==="ArrowLeft"?T="prev":C.key==="ArrowRight"?T="next":["Backspace","Delete"].includes(C.key)&&(S[h.value]="",c.value=S,h.value>0&&C.key==="Backspace"?T="prev":requestAnimationFrame(()=>{var I;(I=v.value[w])==null||I.select()})),requestAnimationFrame(()=>{T!=null&&Ts(m.value,T)}))}function b(C,S){var T,I;S.preventDefault(),S.stopPropagation();const w=((T=S==null?void 0:S.clipboardData)==null?void 0:T.getData("Text").slice(0,d.value))??"";A(w)||(c.value=w.split(""),(I=v.value)==null||I[C].blur())}function x(){c.value=[]}function E(C,S){o(),h.value=S}function M(){l(),h.value=-1}function A(C){return t.type==="number"&&/[^0-9]/g.test(C)}return Yt({VField:{color:P(()=>t.color),bgColor:P(()=>t.color),baseColor:P(()=>t.baseColor),disabled:P(()=>t.disabled),error:P(()=>t.error),variant:P(()=>t.variant)}},{scoped:!0}),Te(c,C=>{C.length===d.value&&i("finish",C.join(""))},{deep:!0}),Te(h,C=>{C<0||vt(()=>{var S;(S=v.value[C])==null||S.select()})}),be(()=>{var w;const[C,S]=Ha(n);return _("div",xe({class:["v-otp-input",{"v-otp-input--divided":!!t.divider},t.class],style:[t.style]},C),[_("div",{ref:m,class:"v-otp-input__content",style:[a.value]},[f.value.map((T,I)=>_(Fe,null,[t.divider&&I!==0&&_("span",{class:"v-otp-input__divider"},[t.divider]),_(wl,{focused:s.value&&t.focusAll||h.value===I,key:I},{...r,loader:void 0,default:()=>_("input",{ref:D=>v.value[I]=D,"aria-label":u(t.label,I+1),autofocus:I===0&&t.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:t.disabled,inputmode:t.type==="number"?"numeric":"text",min:t.type==="number"?0:void 0,maxlength:"1",placeholder:t.placeholder,type:t.type==="number"?"text":t.type,value:c.value[I],onInput:g,onFocus:D=>E(D,I),onBlur:M,onKeydown:y,onPaste:D=>b(I,D)},null)})])),_("input",xe({class:"v-otp-input-input",type:"hidden"},S,{value:c.value.join("")}),null),_(vr,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!t.loading,persistent:!0},{default:()=>{var T;return[((T=r.loader)==null?void 0:T.call(r))??_(cl,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(w=r.default)==null?void 0:w.call(r)])])}),{blur:()=>{var C;(C=v.value)==null||C.some(S=>S.blur())},focus:()=>{var C;(C=v.value)==null||C[0].focus()},reset:x,isFocused:s}}});function o3(t){return Math.floor(Math.abs(t))*Math.sign(t)}const l3=te({scale:{type:[Number,String],default:.5},...Ve()},"VParallax"),c3=ve()({name:"VParallax",props:l3(),setup(t,e){let{slots:n}=e;const{intersectionRef:i,isIntersecting:r}=Sh(),{resizeRef:a,contentRect:s}=ji(),{height:o}=Vi(),l=pe();Ft(()=>{var h;i.value=a.value=(h=l.value)==null?void 0:h.$el});let c;Te(r,h=>{h?(c=Zg(i.value),c=c===document.scrollingElement?document:c,c.addEventListener("scroll",f,{passive:!0}),f()):c.removeEventListener("scroll",f)}),Tn(()=>{c==null||c.removeEventListener("scroll",f)}),Te(o,f),Te(()=>{var h;return(h=s.value)==null?void 0:h.height},f);const u=P(()=>1-rn(+t.scale));let d=-1;function f(){r.value&&(cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var E;const h=((E=l.value)==null?void 0:E.$el).querySelector(".v-img__img");if(!h)return;const m=c instanceof Document?document.documentElement.clientHeight:c.clientHeight,v=c instanceof Document?window.scrollY:c.scrollTop,p=i.value.getBoundingClientRect().top+v,g=s.value.height,y=p+(g-m)/2,b=o3((v-y)*u.value),x=Math.max(1,(u.value*(m-g)+g)/g);h.style.setProperty("transform",`translateY(${b}px) scale(${x})`)}))}return be(()=>_(jr,{class:["v-parallax",{"v-parallax--active":r.value},t.class],style:t.style,ref:l,cover:!0,onLoadstart:f,onLoad:f},n)),{}}}),u3=te({...Ah({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),d3=ve()({name:"VRadio",props:u3(),setup(t,e){let{slots:n}=e;return be(()=>{const i=Oa.filterProps(t);return _(Oa,xe(i,{class:["v-radio",t.class],style:t.style,type:"radio"}),n)}),{}}}),f3=te({height:{type:[Number,String],default:"auto"},...sa(),...ln(ly(),["multiple"]),trueIcon:{type:Ze,default:"$radioOn"},falseIcon:{type:Ze,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),h3=ve()({name:"VRadioGroup",inheritAttrs:!1,props:f3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const r=Pn(),a=P(()=>t.id||`radio-group-${r}`),s=We(t,"modelValue");return be(()=>{const[o,l]=Ha(n),c=Vn.filterProps(t),u=Oa.filterProps(t),d=i.label?i.label({label:t.label,props:{for:a.value}}):t.label;return _(Vn,xe({class:["v-radio-group",t.class],style:t.style},o,c,{modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,id:a.value}),{...i,default:f=>{let{id:h,messagesId:m,isDisabled:v,isReadonly:p}=f;return _(Fe,null,[d&&_(xl,{id:h.value},{default:()=>[d]}),_(C1,xe(u,{id:h.value,"aria-describedby":m.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:v.value,readonly:p.value,"aria-labelledby":d?h.value:void 0,multiple:!1},l,{modelValue:s.value,"onUpdate:modelValue":g=>s.value=g}),i)])}})}),{}}}),m3=te({...pu(),...sa(),...bC(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),p3=ve()({name:"VRangeSlider",props:m3(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,end:t=>!0,start:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const r=pe(),a=pe(),s=pe(),{rtlClasses:o}=_n();function l(w){if(!r.value||!a.value)return;const T=Iv(w,r.value.$el,t.direction),I=Iv(w,a.value.$el,t.direction),D=Math.abs(T),N=Math.abs(I);return D<N||D===N&&T<0?r.value.$el:a.value.$el}const c=xC(t),u=We(t,"modelValue",void 0,w=>w!=null&&w.length?w.map(T=>c.roundValue(T)):[0,0]),{activeThumbRef:d,hasLabels:f,max:h,min:m,mousePressed:v,onSliderMousedown:p,onSliderTouchstart:g,position:y,trackContainerRef:b,readonly:x}=SC({props:t,steps:c,onSliderStart:()=>{i("start",u.value)},onSliderEnd:w=>{var D;let{value:T}=w;const I=d.value===((D=r.value)==null?void 0:D.$el)?[T,u.value[1]]:[u.value[0],T];!t.strict&&I[0]<I[1]&&(u.value=I),i("end",u.value)},onSliderMove:w=>{var N,$,U,Z;let{value:T}=w;const[I,D]=u.value;!t.strict&&I===D&&I!==m.value&&(d.value=T>I?(N=a.value)==null?void 0:N.$el:($=r.value)==null?void 0:$.$el,(U=d.value)==null||U.focus()),d.value===((Z=r.value)==null?void 0:Z.$el)?u.value=[Math.min(T,D),D]:u.value=[I,Math.max(I,T)]},getActiveThumb:l}),{isFocused:E,focus:M,blur:A}=aa(t),C=P(()=>y(u.value[0])),S=P(()=>y(u.value[1]));return be(()=>{const w=Vn.filterProps(t),T=!!(t.label||n.label||n.prepend);return _(Vn,xe({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||f.value,"v-slider--focused":E.value,"v-slider--pressed":v.value,"v-slider--disabled":t.disabled},o.value,t.class],style:t.style,ref:s},w,{focused:E.value}),{...n,prepend:T?I=>{var D,N;return _(Fe,null,[((D=n.label)==null?void 0:D.call(n,I))??(t.label?_(xl,{class:"v-slider__label",text:t.label},null):void 0),(N=n.prepend)==null?void 0:N.call(n,I)])}:void 0,default:I=>{var $,U;let{id:D,messagesId:N}=I;return _("div",{class:"v-slider__container",onMousedown:x.value?void 0:p,onTouchstartPassive:x.value?void 0:g},[_("input",{id:`${D.value}_start`,name:t.name||D.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:u.value[0]},null),_("input",{id:`${D.value}_stop`,name:t.name||D.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:u.value[1]},null),_(wC,{ref:b,start:C.value,stop:S.value},{"tick-label":n["tick-label"]}),_(Rv,{ref:r,"aria-describedby":N.value,focused:E&&d.value===(($=r.value)==null?void 0:$.$el),modelValue:u.value[0],"onUpdate:modelValue":Z=>u.value=[Z,u.value[1]],onFocus:Z=>{var Y,j,q,F;M(),d.value=(Y=r.value)==null?void 0:Y.$el,u.value[0]===u.value[1]&&u.value[1]===m.value&&Z.relatedTarget!==((j=a.value)==null?void 0:j.$el)&&((q=r.value)==null||q.$el.blur(),(F=a.value)==null||F.$el.focus())},onBlur:()=>{A(),d.value=void 0},min:m.value,max:u.value[1],position:C.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]}),_(Rv,{ref:a,"aria-describedby":N.value,focused:E&&d.value===((U=a.value)==null?void 0:U.$el),modelValue:u.value[1],"onUpdate:modelValue":Z=>u.value=[u.value[0],Z],onFocus:Z=>{var Y,j,q,F;M(),d.value=(Y=a.value)==null?void 0:Y.$el,u.value[0]===u.value[1]&&u.value[0]===h.value&&Z.relatedTarget!==((j=r.value)==null?void 0:j.$el)&&((q=a.value)==null||q.$el.blur(),(F=r.value)==null||F.$el.focus())},onBlur:()=>{A(),d.value=void 0},min:u.value[0],max:h.value,position:S.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),v3=te({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Ze,default:"$ratingEmpty"},fullIcon:{type:Ze,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},ripple:Boolean,...Ve(),...wn(),...wr(),...it(),...pt()},"VRating"),g3=ve()({name:"VRating",props:v3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Jt(),{themeClasses:r}=xt(t),a=We(t,"modelValue"),s=P(()=>rn(parseFloat(a.value),0,+t.length)),o=P(()=>cr(Number(t.length),1)),l=P(()=>o.value.flatMap(v=>t.halfIncrements?[v-.5,v]:[v])),c=Ee(-1),u=P(()=>l.value.map(v=>{const p=t.hover&&c.value>-1,g=s.value>=v,y=c.value>=v,x=(p?y:g)?t.fullIcon:t.emptyIcon,E=t.activeColor??t.color,M=g||y?E:t.color;return{isFilled:g,isHovered:y,icon:x,color:M}})),d=P(()=>[0,...l.value].map(v=>{function p(){c.value=v}function g(){c.value=-1}function y(){t.disabled||t.readonly||(a.value=s.value===v&&t.clearable?0:v)}return{onMouseenter:t.hover?p:void 0,onMouseleave:t.hover?g:void 0,onClick:y}})),f=P(()=>t.name??`v-rating-${Pn()}`);function h(v){var C,S;let{value:p,index:g,showStar:y=!0}=v;const{onMouseenter:b,onMouseleave:x,onClick:E}=d.value[g+1],M=`${f.value}-${String(p).replace(".","-")}`,A={color:(C=u.value[g])==null?void 0:C.color,density:t.density,disabled:t.disabled,icon:(S=u.value[g])==null?void 0:S.icon,ripple:t.ripple,size:t.size,variant:"plain"};return _(Fe,null,[_("label",{for:M,class:{"v-rating__item--half":t.halfIncrements&&p%1>0,"v-rating__item--full":t.halfIncrements&&p%1===0},onMouseenter:b,onMouseleave:x,onClick:E},[_("span",{class:"v-rating__hidden"},[i(t.itemAriaLabel,p,t.length)]),y?n.item?n.item({...u.value[g],props:A,value:p,index:g,rating:s.value}):_(yt,xe({"aria-label":i(t.itemAriaLabel,p,t.length)},A),null):void 0]),_("input",{class:"v-rating__hidden",name:f.value,id:M,type:"radio",value:p,checked:s.value===p,tabindex:-1,readonly:t.readonly,disabled:t.disabled},null)])}function m(v){return n["item-label"]?n["item-label"](v):v.label?_("span",null,[v.label]):_("span",null,[Yr(" ")])}return be(()=>{var p;const v=!!((p=t.itemLabels)!=null&&p.length)||n["item-label"];return _(t.tag,{class:["v-rating",{"v-rating--hover":t.hover,"v-rating--readonly":t.readonly},r.value,t.class],style:t.style},{default:()=>[_(h,{value:0,index:-1,showStar:!1},null),o.value.map((g,y)=>{var b,x;return _("div",{class:"v-rating__wrapper"},[v&&t.itemLabelPosition==="top"?m({value:g,index:y,label:(b=t.itemLabels)==null?void 0:b[y]}):void 0,_("div",{class:"v-rating__item"},[t.halfIncrements?_(Fe,null,[_(h,{value:g-.5,index:y*2},null),_(h,{value:g,index:y*2+1},null)]):_(h,{value:g,index:y},null)]),v&&t.itemLabelPosition==="bottom"?m({value:g,index:y,label:(x=t.itemLabels)==null?void 0:x[y]}):void 0])})]})}),{}}}),y3={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function _3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return _("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${t}`]},[e])}function Pb(t){const[e,n]=t.split("@");return Array.from({length:n}).map(()=>Wh(e))}function Wh(t){let e=[];if(!t)return e;const n=y3[t];if(t!==n){if(t.includes(","))return Ib(t);if(t.includes("@"))return Pb(t);n.includes(",")?e=Ib(n):n.includes("@")?e=Pb(n):n&&e.push(Wh(n))}return[_3(t,e)]}function Ib(t){return t.replace(/\s/g,"").split(",").map(Wh)}const b3=te({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...un(),...bn(),...pt()},"VSkeletonLoader"),x3=ve()({name:"VSkeletonLoader",props:b3(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:r}=kt(ue(t,"color")),{dimensionStyles:a}=dn(t),{elevationClasses:s}=In(t),{themeClasses:o}=xt(t),{t:l}=Jt(),c=P(()=>Wh($t(t.type).join(",")));return be(()=>{var f;const u=!n.default||t.loading,d=t.boilerplate||!u?{}:{ariaLive:"polite",ariaLabel:l(t.loadingText),role:"alert"};return _("div",xe({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":t.boilerplate},o.value,i.value,s.value],style:[r.value,u?a.value:{}]},d),[u?c.value:(f=n.default)==null?void 0:f.call(n)])}),{}}}),S3=ve()({name:"VSlideGroupItem",props:no(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=io(t,D1);return()=>{var r;return(r=n.default)==null?void 0:r.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function w3(t){const e=Ee(t());let n=-1;function i(){clearInterval(n)}function r(){i(),vt(()=>e.value=t())}function a(s){const o=s?getComputedStyle(s):{transitionDuration:.2},l=parseFloat(o.transitionDuration)*1e3||200;if(i(),e.value<=0)return;const c=performance.now();n=window.setInterval(()=>{const u=performance.now()-c+l;e.value=Math.max(t()-u,0),e.value<=0&&i()},l)}return Nn(i),{clear:i,time:e,start:a,reset:r}}const M3=te({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...ia({location:"bottom"}),..._l(),...Gt(),...Ni(),...pt(),...ln(gu({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),C3=ve()({name:"VSnackbar",props:M3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"modelValue"),{positionClasses:r}=bl(t),{scopeId:a}=ao(),{themeClasses:s}=xt(t),{colorClasses:o,colorStyles:l,variantClasses:c}=eo(t),{roundedClasses:u}=jt(t),d=w3(()=>Number(t.timeout)),f=pe(),h=pe(),m=Ee(!1),v=Ee(0),p=pe(),g=nt(Ec,void 0);ni(()=>!!g,()=>{const T=n1();Ft(()=>{p.value=T.mainStyles.value})}),Te(i,b),Te(()=>t.timeout,b),cn(()=>{i.value&&b()});let y=-1;function b(){d.reset(),window.clearTimeout(y);const T=Number(t.timeout);if(!i.value||T===-1)return;const I=Gg(h.value);d.start(I),y=window.setTimeout(()=>{i.value=!1},T)}function x(){d.reset(),window.clearTimeout(y)}function E(){m.value=!0,x()}function M(){m.value=!1,b()}function A(T){v.value=T.touches[0].clientY}function C(T){Math.abs(v.value-T.changedTouches[0].clientY)>50&&(i.value=!1)}function S(){m.value&&M()}const w=P(()=>t.location.split(" ").reduce((T,I)=>(T[`v-snackbar--${I}`]=!0,T),{}));return be(()=>{const T=vr.filterProps(t),I=!!(n.default||n.text||t.text);return _(vr,xe({ref:f,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},w.value,r.value,t.class],style:[p.value,t.style]},T,{modelValue:i.value,"onUpdate:modelValue":D=>i.value=D,contentProps:xe({class:["v-snackbar__wrapper",s.value,o.value,u.value,c.value],style:[l.value],onPointerenter:E,onPointerleave:M},T.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:A,onTouchend:C,onAfterLeave:S},a),{default:()=>{var D,N;return[Ga(!1,"v-snackbar"),t.timer&&!m.value&&_("div",{key:"timer",class:"v-snackbar__timer"},[_(wh,{ref:h,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":d.time.value},null)]),I&&_("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((D=n.text)==null?void 0:D.call(n))??t.text,(N=n.default)==null?void 0:N.call(n)]),n.actions&&_(ut,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[_("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),Bi({},f)}}),hA=te({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:t=>["top","bottom","left","right"].includes(t),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:Boolean,width:{type:[Number,String],default:300}},"Line"),mA=te({autoLineWidth:Boolean,...hA()},"VBarline"),Rb=ve()({name:"VBarline",props:mA(),setup(t,e){let{slots:n}=e;const i=Pn(),r=P(()=>t.id||`barline-${i}`),a=P(()=>Number(t.autoDrawDuration)||500),s=P(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),o=P(()=>parseFloat(t.lineWidth)||4),l=P(()=>Math.max(t.modelValue.length*o.value,Number(t.width))),c=P(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(t.height,10)})),u=P(()=>t.modelValue.map(v=>vn(v,t.itemValue,v)));function d(v,p){const{minX:g,maxX:y,minY:b,maxY:x}=p,E=v.length;let M=t.max!=null?Number(t.max):Math.max(...v),A=t.min!=null?Number(t.min):Math.min(...v);A>0&&t.min==null&&(A=0),M<0&&t.max==null&&(M=0);const C=y/E,S=(x-b)/(M-A||1),w=x-Math.abs(A*S);return v.map((T,I)=>{const D=Math.abs(S*T);return{x:g+I*C,y:w-D+ +(T<0)*D,height:D,value:T}})}const f=P(()=>{const v=[],p=d(u.value,c.value),g=p.length;for(let y=0;v.length<g;y++){const b=p[y];let x=t.labels[y];x||(x=typeof b=="object"?b.value:b),v.push({x:b.x,value:String(x)})}return v}),h=P(()=>d(u.value,c.value)),m=P(()=>(Math.abs(h.value[0].x-h.value[1].x)-o.value)/2);be(()=>{const v=t.gradient.slice().length?t.gradient.slice().reverse():[""];return _("svg",{display:"block"},[_("defs",null,[_("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[v.map((p,g)=>_("stop",{offset:g/Math.max(v.length-1,1),"stop-color":p||"currentColor"},null))])]),_("clipPath",{id:`${r.value}-clip`},[h.value.map(p=>_("rect",{x:p.x+m.value,y:p.y,width:o.value,height:p.height,rx:typeof t.smooth=="number"?t.smooth:t.smooth?2:0,ry:typeof t.smooth=="number"?t.smooth:t.smooth?2:0},[t.autoDraw&&_(Fe,null,[_("animate",{attributeName:"y",from:p.y+p.height,to:p.y,dur:`${a.value}ms`,fill:"freeze"},null),_("animate",{attributeName:"height",from:"0",to:p.height,dur:`${a.value}ms`,fill:"freeze"},null)])]))]),s.value&&_("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[f.value.map((p,g)=>{var y;return _("text",{x:p.x+m.value+o.value/2,y:parseInt(t.height,10)-2+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((y=n.label)==null?void 0:y.call(n,{index:g,value:p.value}))??p.value])})]),_("g",{"clip-path":`url(#${r.value}-clip)`,fill:`url(#${r.value})`},[_("rect",{x:0,y:0,width:Math.max(t.modelValue.length*o.value,Number(t.width)),height:t.height},null)])])})}});function A3(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(t.length===0)return"";const r=t.shift(),a=t[t.length-1];return(n?`M${r.x} ${i-r.x+2} L${r.x} ${r.y}`:`M${r.x} ${r.y}`)+t.map((s,o)=>{const l=t[o+1],c=t[o-1]||r,u=l&&E3(l,s,c);if(!l||u)return`L${s.x} ${s.y}`;const d=Math.min(Lb(c,s),Lb(l,s)),h=d/2<e?d/2:e,m=kb(c,s,h),v=kb(l,s,h);return`L${m.x} ${m.y}S${s.x} ${s.y} ${v.x} ${v.y}`}).join("")+(n?`L${a.x} ${i-r.x+2} Z`:"")}function qu(t){return parseInt(t,10)}function E3(t,e,n){return qu(t.x+n.x)===qu(2*e.x)&&qu(t.y+n.y)===qu(2*e.y)}function Lb(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function kb(t,e,n){const i={x:t.x-e.x,y:t.y-e.y},r=Math.sqrt(i.x*i.x+i.y*i.y),a={x:i.x/r,y:i.y/r};return{x:e.x+a.x*n,y:e.y+a.y*n}}const pA=te({fill:Boolean,...hA()},"VTrendline"),Db=ve()({name:"VTrendline",props:pA(),setup(t,e){let{slots:n}=e;const i=Pn(),r=P(()=>t.id||`trendline-${i}`),a=P(()=>Number(t.autoDrawDuration)||(t.fill?500:2e3)),s=pe(0),o=pe(null);function l(p,g){const{minX:y,maxX:b,minY:x,maxY:E}=g,M=p.length,A=t.max!=null?Number(t.max):Math.max(...p),C=t.min!=null?Number(t.min):Math.min(...p),S=(b-y)/(M-1),w=(E-x)/(A-C||1);return p.map((T,I)=>({x:y+I*S,y:E-(T-C)*w,value:T}))}const c=P(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),u=P(()=>parseFloat(t.lineWidth)||4),d=P(()=>Number(t.width)),f=P(()=>{const p=Number(t.padding);return{minX:p,maxX:d.value-p,minY:p,maxY:parseInt(t.height,10)-p}}),h=P(()=>t.modelValue.map(p=>vn(p,t.itemValue,p))),m=P(()=>{const p=[],g=l(h.value,f.value),y=g.length;for(let b=0;p.length<y;b++){const x=g[b];let E=t.labels[b];E||(E=typeof x=="object"?x.value:x),p.push({x:x.x,value:String(E)})}return p});Te(()=>t.modelValue,async()=>{if(await vt(),!t.autoDraw||!o.value)return;const p=o.value,g=p.getTotalLength();t.fill?(p.style.transformOrigin="bottom center",p.style.transition="none",p.style.transform="scaleY(0)",p.getBoundingClientRect(),p.style.transition=`transform ${a.value}ms ${t.autoDrawEasing}`,p.style.transform="scaleY(1)"):(p.style.strokeDasharray=`${g}`,p.style.strokeDashoffset=`${g}`,p.getBoundingClientRect(),p.style.transition=`stroke-dashoffset ${a.value}ms ${t.autoDrawEasing}`,p.style.strokeDashoffset="0"),s.value=g},{immediate:!0});function v(p){return A3(l(h.value,f.value),t.smooth?8:Number(t.smooth),p,parseInt(t.height,10))}be(()=>{var g;const p=t.gradient.slice().length?t.gradient.slice().reverse():[""];return _("svg",{display:"block","stroke-width":parseFloat(t.lineWidth)??4},[_("defs",null,[_("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[p.map((y,b)=>_("stop",{offset:b/Math.max(p.length-1,1),"stop-color":y||"currentColor"},null))])]),c.value&&_("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[m.value.map((y,b)=>{var x;return _("text",{x:y.x+u.value/2+u.value/2,y:parseInt(t.height,10)-4+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((x=n.label)==null?void 0:x.call(n,{index:b,value:y.value}))??y.value])})]),_("path",{ref:o,d:v(t.fill),fill:t.fill?`url(#${r.value})`:"none",stroke:t.fill?"none":`url(#${r.value})`},null),t.fill&&_("path",{d:v(!1),fill:"none",stroke:t.color??((g=t.gradient)==null?void 0:g[0])},null)])})}}),T3=te({type:{type:String,default:"trend"},...mA(),...pA()},"VSparkline"),P3=ve()({name:"VSparkline",props:T3(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:r}=On(ue(t,"color")),a=P(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),s=P(()=>{let o=parseInt(t.height,10);return a.value&&(o+=parseInt(t.labelSize,10)*1.5),o});be(()=>{const o=t.type==="trend"?Db:Rb,l=t.type==="trend"?Db.filterProps(t):Rb.filterProps(t);return _(o,xe({key:t.type,class:i.value,style:r.value,viewBox:`0 0 ${t.width} ${parseInt(s.value,10)}`},l),n)})}}),I3=te({...Ve(),...iC({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),R3=ve()({name:"VSpeedDial",props:I3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"modelValue"),r=pe(),a=P(()=>{var c;const[o,l="center"]=((c=t.location)==null?void 0:c.split(" "))??[];return`${o} ${l}`}),s=P(()=>({[`v-speed-dial__content--${a.value.replace(" ","-")}`]:!0}));return be(()=>{const o=ul.filterProps(t);return _(ul,xe(o,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:t.class,style:t.style,contentClass:["v-speed-dial__content",s.value,t.contentClass],location:a.value,ref:r,transition:"fade-transition"}),{...n,default:l=>_(ut,{defaults:{VBtn:{size:"small"}}},{default:()=>[_(Wn,{appear:!0,group:!0,transition:t.transition},{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,l)]}})]})})}),{}}}),Ny=Symbol.for("vuetify:v-stepper"),vA=te({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),gA=ve()({name:"VStepperActions",props:vA(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:r}=Jt();function a(){n("click:prev")}function s(){n("click:next")}return be(()=>{const o={onClick:a},l={onClick:s};return _("div",{class:"v-stepper-actions"},[_(ut,{defaults:{VBtn:{disabled:["prev",!0].includes(t.disabled),text:r(t.prevText),variant:"text"}}},{default:()=>{var c;return[((c=i.prev)==null?void 0:c.call(i,{props:o}))??_(yt,o,null)]}}),_(ut,{defaults:{VBtn:{color:t.color,disabled:["next",!0].includes(t.disabled),text:r(t.nextText),variant:"tonal"}}},{default:()=>{var c;return[((c=i.next)==null?void 0:c.call(i,{props:l}))??_(yt,l,null)]}})])}),{}}}),yA=Sr("v-stepper-header"),L3=te({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),k3=te({...L3(),...no()},"VStepperItem"),_A=ve()({name:"VStepperItem",directives:{Ripple:ra},props:k3(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=io(t,Ny,!0),r=P(()=>(i==null?void 0:i.value.value)??t.value),a=P(()=>t.rules.every(f=>f()===!0)),s=P(()=>!t.disabled&&t.editable),o=P(()=>!t.disabled&&t.editable),l=P(()=>t.error||!a.value),c=P(()=>t.complete||t.rules.length>0&&a.value),u=P(()=>l.value?t.errorIcon:c.value?t.completeIcon:i.isSelected.value&&t.editable?t.editIcon:t.icon),d=P(()=>({canEdit:o.value,hasError:l.value,hasCompleted:c.value,title:t.title,subtitle:t.subtitle,step:r.value,value:t.value}));return be(()=>{var p,g,y;const f=(!i||i.isSelected.value||c.value||o.value)&&!l.value&&!t.disabled,h=!!(t.title!=null||n.title),m=!!(t.subtitle!=null||n.subtitle);function v(){i==null||i.toggle()}return Xt(_("button",{class:["v-stepper-item",{"v-stepper-item--complete":c.value,"v-stepper-item--disabled":t.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!t.editable,onClick:v},[s.value&&Ga(!0,"v-stepper-item"),_(Oi,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:f?t.color:void 0,size:24},{default:()=>{var b;return[((b=n.icon)==null?void 0:b.call(n,d.value))??(u.value?_(_t,{icon:u.value},null):r.value)]}}),_("div",{class:"v-stepper-item__content"},[h&&_("div",{key:"title",class:"v-stepper-item__title"},[((p=n.title)==null?void 0:p.call(n,d.value))??t.title]),m&&_("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((g=n.subtitle)==null?void 0:g.call(n,d.value))??t.subtitle]),(y=n.default)==null?void 0:y.call(n,d.value)])]),[[Mi("ripple"),t.ripple&&t.editable,null]])}),{}}}),D3=te({...ln(Lh(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),bA=ve()({name:"VStepperWindow",props:D3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=nt(Ny,null),r=We(t,"modelValue"),a=P({get(){var s;return r.value!=null||!i?r.value:(s=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:s.value},set(s){r.value=s}});return be(()=>{const s=Fs.filterProps(t);return _(Fs,xe({_as:"VStepperWindow"},s,{modelValue:a.value,"onUpdate:modelValue":o=>a.value=o,class:["v-stepper-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),O3=te({...kh()},"VStepperWindowItem"),xA=ve()({name:"VStepperWindowItem",props:O3(),setup(t,e){let{slots:n}=e;return be(()=>{const i=Us.filterProps(t);return _(Us,xe({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",t.class],style:t.style}),n)}),{}}}),V3=te({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Ks()},"Stepper"),N3=te({...V3(),...to({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...Dh(),...hh(vA(),["prevText","nextText"])},"VStepper"),B3=ve()({name:"VStepper",props:N3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{items:i,next:r,prev:a,selected:s}=Wa(t,Ny),{displayClasses:o,mobile:l}=Vi(t),{completeIcon:c,editIcon:u,errorIcon:d,color:f,editable:h,prevText:m,nextText:v}=za(t),p=P(()=>t.items.map((b,x)=>{const E=vn(b,t.itemTitle,b),M=vn(b,t.itemValue,x+1);return{title:E,value:M,raw:b}})),g=P(()=>i.value.findIndex(b=>s.value.includes(b.id))),y=P(()=>t.disabled?t.disabled:g.value===0?"prev":g.value===i.value.length-1?"next":!1);return Yt({VStepperItem:{editable:h,errorIcon:d,completeIcon:c,editIcon:u,prevText:m,nextText:v},VStepperActions:{color:f,disabled:y,prevText:m,nextText:v}}),be(()=>{const b=zs.filterProps(t),x=!!(n.header||t.items.length),E=t.items.length>0,M=!t.hideActions&&!!(E||n.actions);return _(zs,xe(b,{color:t.bgColor,class:["v-stepper",{"v-stepper--alt-labels":t.altLabels,"v-stepper--flat":t.flat,"v-stepper--non-linear":t.nonLinear,"v-stepper--mobile":l.value},o.value,t.class],style:t.style}),{default:()=>{var A,C;return[x&&_(yA,{key:"stepper-header"},{default:()=>[p.value.map((S,w)=>{let{raw:T,...I}=S;return _(Fe,null,[!!w&&_(vu,null,null),_(_A,I,{default:n[`header-item.${I.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),E&&_(bA,{key:"stepper-window"},{default:()=>[p.value.map(S=>_(xA,{value:S.value},{default:()=>{var w,T;return((w=n[`item.${S.value}`])==null?void 0:w.call(n,S))??((T=n.item)==null?void 0:T.call(n,S))}}))]}),(A=n.default)==null?void 0:A.call(n,{prev:a,next:r}),M&&(((C=n.actions)==null?void 0:C.call(n,{next:r,prev:a}))??_(gA,{key:"stepper-actions","onClick:prev":a,"onClick:next":r},n))]}})}),{prev:a,next:r}}}),F3=te({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...sa(),...Ah()},"VSwitch"),U3=ve()({name:"VSwitch",inheritAttrs:!1,props:F3(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const r=We(t,"indeterminate"),a=We(t,"modelValue"),{loaderClasses:s}=du(t),{isFocused:o,focus:l,blur:c}=aa(t),u=pe(),d=Mt&&window.matchMedia("(forced-colors: active)").matches,f=P(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),h=Pn(),m=P(()=>t.id||`switch-${h}`);function v(){r.value&&(r.value=!1)}function p(g){var y,b;g.stopPropagation(),g.preventDefault(),(b=(y=u.value)==null?void 0:y.input)==null||b.click()}return be(()=>{const[g,y]=Ha(n),b=Vn.filterProps(t),x=Oa.filterProps(t);return _(Vn,xe({class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":r.value},s.value,t.class]},g,b,{modelValue:a.value,"onUpdate:modelValue":E=>a.value=E,id:m.value,focused:o.value,style:t.style}),{...i,default:E=>{let{id:M,messagesId:A,isDisabled:C,isReadonly:S,isValid:w}=E;const T={model:a,isValid:w};return _(Oa,xe({ref:u},x,{modelValue:a.value,"onUpdate:modelValue":[I=>a.value=I,v],id:M.value,"aria-describedby":A.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:C.value,readonly:S.value,onFocus:l,onBlur:c},y),{...i,default:I=>{let{backgroundColorClasses:D,backgroundColorStyles:N}=I;return _("div",{class:["v-switch__track",d?void 0:D.value],style:N.value,onClick:p},[i["track-true"]&&_("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](T)]),i["track-false"]&&_("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](T)])])},input:I=>{let{inputNode:D,icon:N,backgroundColorClasses:$,backgroundColorStyles:U}=I;return _(Fe,null,[D,_("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":N||t.loading},t.inset||d?void 0:$.value],style:t.inset?void 0:U.value},[i.thumb?_(ut,{defaults:{VIcon:{icon:N,size:"x-small"}}},{default:()=>[i.thumb({...T,icon:N})]}):_(iy,null,{default:()=>[t.loading?_(fu,{name:"v-switch",active:!0,color:w.value===!1?void 0:f.value},{default:Z=>i.loader?i.loader(Z):_(cl,{active:Z.isActive,color:Z.color,indeterminate:!0,size:"16",width:"2"},null)}):N&&_(_t,{key:String(N),icon:N,size:"x-small"},null)]})])])}})}})}),{}}}),z3=te({color:String,height:[Number,String],window:Boolean,...Ve(),...bn(),...Zs(),...Gt(),...it(),...pt()},"VSystemBar"),H3=ve()({name:"VSystemBar",props:z3(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=xt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=kt(ue(t,"color")),{elevationClasses:s}=In(t),{roundedClasses:o}=jt(t),{ssrBootStyles:l}=Qs(),c=P(()=>t.height??(t.window?32:24)),{layoutItemStyles:u}=Js({id:t.name,order:P(()=>parseInt(t.order,10)),position:Ee("top"),layoutSize:c,elementSize:c,active:P(()=>!0),absolute:ue(t,"absolute")});return be(()=>_(t.tag,{class:["v-system-bar",{"v-system-bar--window":t.window},i.value,r.value,s.value,o.value,t.class],style:[a.value,u.value,l.value,t.style]},n)),{}}}),By=Symbol.for("vuetify:v-tabs"),G3=te({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ln(Ch({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),SA=ve()({name:"VTab",props:G3(),setup(t,e){let{slots:n,attrs:i}=e;const{textColorClasses:r,textColorStyles:a}=On(t,"sliderColor"),s=pe(),o=pe(),l=P(()=>t.direction==="horizontal"),c=P(()=>{var d,f;return((f=(d=s.value)==null?void 0:d.group)==null?void 0:f.isSelected.value)??!1});function u(d){var h,m;let{value:f}=d;if(f){const v=(m=(h=s.value)==null?void 0:h.$el.parentElement)==null?void 0:m.querySelector(".v-tab--selected .v-tab__slider"),p=o.value;if(!v||!p)return;const g=getComputedStyle(v).color,y=v.getBoundingClientRect(),b=p.getBoundingClientRect(),x=l.value?"x":"y",E=l.value?"X":"Y",M=l.value?"right":"bottom",A=l.value?"width":"height",C=y[x],S=b[x],w=C>S?y[M]-b[M]:y[x]-b[x],T=Math.sign(w)>0?l.value?"right":"bottom":Math.sign(w)<0?l.value?"left":"top":"center",D=(Math.abs(w)+(Math.sign(w)<0?y[A]:b[A]))/Math.max(y[A],b[A])||0,N=y[A]/b[A]||0,$=1.5;xs(p,{backgroundColor:[g,"currentcolor"],transform:[`translate${E}(${w}px) scale${E}(${N})`,`translate${E}(${w/$}px) scale${E}(${(D-1)/$+1})`,"none"],transformOrigin:Array(3).fill(T)},{duration:225,easing:Cc})}}return be(()=>{const d=yt.filterProps(t);return _(yt,xe({symbol:By,ref:s,class:["v-tab",t.class],style:t.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},d,i,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":u}),{...n,default:()=>{var f;return _(Fe,null,[((f=n.default)==null?void 0:f.call(n))??t.text,!t.hideSlider&&_("div",{ref:o,class:["v-tab__slider",r.value],style:a.value},null)])}})}),Bi({},s)}}),W3=te({...ln(Lh(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),wA=ve()({name:"VTabsWindow",props:W3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=nt(By,null),r=We(t,"modelValue"),a=P({get(){var s;return r.value!=null||!i?r.value:(s=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:s.value},set(s){r.value=s}});return be(()=>{const s=Fs.filterProps(t);return _(Fs,xe({_as:"VTabsWindow"},s,{modelValue:a.value,"onUpdate:modelValue":o=>a.value=o,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),$3=te({...kh()},"VTabsWindowItem"),MA=ve()({name:"VTabsWindowItem",props:$3(),setup(t,e){let{slots:n}=e;return be(()=>{const i=Us.filterProps(t);return _(Us,xe({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function X3(t){return t?t.map(e=>Hg(e)?e:{text:e,value:e}):[]}const Y3=te({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...cy({mandatory:"force",selectedClass:"v-tab-item--selected"}),...wn(),...it()},"VTabs"),q3=ve()({name:"VTabs",props:Y3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const r=We(t,"modelValue"),a=P(()=>X3(t.items)),{densityClasses:s}=Yn(t),{backgroundColorClasses:o,backgroundColorStyles:l}=kt(ue(t,"bgColor")),{scopeId:c}=ao();return Yt({VTab:{color:ue(t,"color"),direction:ue(t,"direction"),stacked:ue(t,"stacked"),fixed:ue(t,"fixedTabs"),sliderColor:ue(t,"sliderColor"),hideSlider:ue(t,"hideSlider")}}),be(()=>{const u=Lc.filterProps(t),d=!!(i.window||t.items.length>0);return _(Fe,null,[_(Lc,xe(u,{modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},s.value,o.value,t.class],style:[{"--v-tabs-height":Le(t.height)},l.value,t.style],role:"tablist",symbol:By},c,n),{default:()=>{var f;return[((f=i.default)==null?void 0:f.call(i))??a.value.map(h=>{var m;return((m=i.tab)==null?void 0:m.call(i,{item:h}))??_(SA,xe(h,{key:h.text,value:h.value}),{default:i[`tab.${h.value}`]?()=>{var v;return(v=i[`tab.${h.value}`])==null?void 0:v.call(i,{item:h})}:void 0})})]}}),d&&_(wA,xe({modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,key:"tabs-window"},c),{default:()=>{var f;return[a.value.map(h=>{var m;return((m=i.item)==null?void 0:m.call(i,{item:h}))??_(MA,{value:h.value},{default:()=>{var v;return(v=i[`item.${h.value}`])==null?void 0:v.call(i,{item:h})}})}),(f=i.window)==null?void 0:f.call(i)]}})])}),{}}}),j3=te({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...sa(),...yu()},"VTextarea"),K3=ve()({name:"VTextarea",directives:{Intersect:uu},inheritAttrs:!1,props:j3(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:r}=e;const a=We(t,"modelValue"),{isFocused:s,focus:o,blur:l}=aa(t),c=P(()=>typeof t.counterValue=="function"?t.counterValue(a.value):(a.value||"").toString().length),u=P(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function d(T,I){var D,N;!t.autofocus||!T||(N=(D=I[0].target)==null?void 0:D.focus)==null||N.call(D)}const f=pe(),h=pe(),m=Ee(""),v=pe(),p=P(()=>t.persistentPlaceholder||s.value||t.active);function g(){var T;v.value!==document.activeElement&&((T=v.value)==null||T.focus()),s.value||o()}function y(T){g(),i("click:control",T)}function b(T){i("mousedown:control",T)}function x(T){T.stopPropagation(),g(),vt(()=>{a.value="",Xg(t["onClick:clear"],T)})}function E(T){var D;const I=T.target;if(a.value=I.value,(D=t.modelModifiers)!=null&&D.trim){const N=[I.selectionStart,I.selectionEnd];vt(()=>{I.selectionStart=N[0],I.selectionEnd=N[1]})}}const M=pe(),A=pe(+t.rows),C=P(()=>["plain","underlined"].includes(t.variant));Ft(()=>{t.autoGrow||(A.value=+t.rows)});function S(){t.autoGrow&&vt(()=>{if(!M.value||!h.value)return;const T=getComputedStyle(M.value),I=getComputedStyle(h.value.$el),D=parseFloat(T.getPropertyValue("--v-field-padding-top"))+parseFloat(T.getPropertyValue("--v-input-padding-top"))+parseFloat(T.getPropertyValue("--v-field-padding-bottom")),N=M.value.scrollHeight,$=parseFloat(T.lineHeight),U=Math.max(parseFloat(t.rows)*$+D,parseFloat(I.getPropertyValue("--v-input-control-height"))),Z=parseFloat(t.maxRows)*$+D||1/0,Y=rn(N??0,U,Z);A.value=Math.floor((Y-D)/$),m.value=Le(Y)})}cn(S),Te(a,S),Te(()=>t.rows,S),Te(()=>t.maxRows,S),Te(()=>t.density,S);let w;return Te(M,T=>{T?(w=new ResizeObserver(S),w.observe(M.value)):w==null||w.disconnect()}),Tn(()=>{w==null||w.disconnect()}),be(()=>{const T=!!(r.counter||t.counter||t.counterValue),I=!!(T||r.details),[D,N]=Ha(n),{modelValue:$,...U}=Vn.filterProps(t),Z=gy(t);return _(Vn,xe({ref:f,modelValue:a.value,"onUpdate:modelValue":Y=>a.value=Y,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":C.value},t.class],style:t.style},D,U,{centerAffix:A.value===1&&!C.value,focused:s.value}),{...r,default:Y=>{let{id:j,isDisabled:q,isDirty:F,isReadonly:se,isValid:Ce}=Y;return _(wl,xe({ref:h,style:{"--v-textarea-control-height":m.value},onClick:y,onMousedown:b,"onClick:clear":x,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},Z,{id:j.value,active:p.value||F.value,centerAffix:A.value===1&&!C.value,dirty:F.value||t.dirty,disabled:q.value,focused:s.value,error:Ce.value===!1}),{...r,default:Q=>{let{props:{class:he,...J}}=Q;return _(Fe,null,[t.prefix&&_("span",{class:"v-text-field__prefix"},[t.prefix]),Xt(_("textarea",xe({ref:v,class:he,value:a.value,onInput:E,autofocus:t.autofocus,readonly:se.value,disabled:q.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:g,onBlur:l},J,N),null),[[Mi("intersect"),{handler:d},null,{once:!0}]]),t.autoGrow&&Xt(_("textarea",{class:[he,"v-textarea__sizer"],id:`${J.id}-sizer`,"onUpdate:modelValue":W=>a.value=W,ref:M,readonly:!0,"aria-hidden":"true"},null),[[RR,a.value]]),t.suffix&&_("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:I?Y=>{var j;return _(Fe,null,[(j=r.details)==null?void 0:j.call(r,Y),T&&_(Fe,null,[_("span",null,null),_(Ph,{active:t.persistentCounter||s.value,value:c.value,max:u.value,disabled:t.disabled},r.counter)])])}:void 0})}),Bi({},f,h,v)}}),Z3=te({withBackground:Boolean,...Ve(),...pt(),...it()},"VThemeProvider"),J3=ve()({name:"VThemeProvider",props:Z3(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=xt(t);return()=>{var r;return t.withBackground?_(t.tag,{class:["v-theme-provider",i.value,t.class],style:t.style},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n)]}}):(r=n.default)==null?void 0:r.call(n)}}}),Q3=te({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ze,iconColor:String,lineColor:String,...Ve(),...Gt(),...wr(),...bn()},"VTimelineDivider"),eB=ve()({name:"VTimelineDivider",props:Q3(),setup(t,e){let{slots:n}=e;const{sizeClasses:i,sizeStyles:r}=yl(t,"v-timeline-divider__dot"),{backgroundColorStyles:a,backgroundColorClasses:s}=kt(ue(t,"dotColor")),{roundedClasses:o}=jt(t,"v-timeline-divider__dot"),{elevationClasses:l}=In(t),{backgroundColorClasses:c,backgroundColorStyles:u}=kt(ue(t,"lineColor"));return be(()=>_("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class],style:t.style},[_("div",{class:["v-timeline-divider__before",c.value],style:u.value},null),!t.hideDot&&_("div",{key:"dot",class:["v-timeline-divider__dot",l.value,o.value,i.value],style:r.value},[_("div",{class:["v-timeline-divider__inner-dot",s.value,o.value],style:a.value},[n.default?_(ut,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},n.default):_(_t,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),_("div",{class:["v-timeline-divider__after",c.value],style:u.value},null)])),{}}}),CA=te({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ze,iconColor:String,lineInset:[Number,String],...Ve(),...un(),...bn(),...Gt(),...wr(),...it()},"VTimelineItem"),tB=ve()({name:"VTimelineItem",props:CA(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=dn(t),r=Ee(0),a=pe();return Te(a,s=>{var o;s&&(r.value=((o=s.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:o.getBoundingClientRect().width)??0)},{flush:"post"}),be(()=>{var s,o;return _("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot},t.class],style:[{"--v-timeline-dot-size":Le(r.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Le(t.lineInset)})`:Le(0)},t.style]},[_("div",{class:"v-timeline-item__body",style:i.value},[(s=n.default)==null?void 0:s.call(n)]),_(eB,{ref:a,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:n.icon}),t.density!=="compact"&&_("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((o=n.opposite)==null?void 0:o.call(n))])])}),{}}}),nB=te({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...hh(CA({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Ve(),...wn(),...it(),...pt()},"VTimeline"),iB=ve()({name:"VTimeline",props:nB(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=xt(t),{densityClasses:r}=Yn(t),{rtlClasses:a}=_n();Yt({VTimelineDivider:{lineColor:ue(t,"lineColor")},VTimelineItem:{density:ue(t,"density"),dotColor:ue(t,"dotColor"),fillDot:ue(t,"fillDot"),hideOpposite:ue(t,"hideOpposite"),iconColor:ue(t,"iconColor"),lineColor:ue(t,"lineColor"),lineInset:ue(t,"lineInset"),size:ue(t,"size")}});const s=P(()=>{const l=t.side?t.side:t.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),o=P(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return be(()=>_(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,o.value,{"v-timeline--inset-line":!!t.lineInset},i.value,r.value,s.value,a.value,t.class],style:[{"--v-timeline-line-thickness":Le(t.lineThickness)},t.style]},n)),{}}}),rB=te({...Ve(),...Ni({variant:"text"})},"VToolbarItems"),aB=ve()({name:"VToolbarItems",props:rB(),setup(t,e){let{slots:n}=e;return Yt({VBtn:{color:ue(t,"color"),height:"inherit",variant:ue(t,"variant")}}),be(()=>{var i;return _("div",{class:["v-toolbar-items",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),sB=te({id:String,text:String,...ln(gu({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),AA=ve()({name:"VTooltip",props:sB(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=We(t,"modelValue"),{scopeId:r}=ao(),a=Pn(),s=P(()=>t.id||`v-tooltip-${a}`),o=pe(),l=P(()=>t.location.split(" ").length>1?t.location:t.location+" center"),c=P(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),u=P(()=>t.transition?t.transition:i.value?"scale-transition":"fade-transition"),d=P(()=>xe({"aria-describedby":s.value},t.activatorProps));return be(()=>{const f=vr.filterProps(t);return _(vr,xe({ref:o,class:["v-tooltip",t.class],style:t.style,id:s.value},f,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,transition:u.value,absolute:!0,location:l.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){var p;for(var h=arguments.length,m=new Array(h),v=0;v<h;v++)m[v]=arguments[v];return((p=n.default)==null?void 0:p.call(n,...m))??t.text}})}),Bi({},o)}}),oB=ve()({name:"VValidation",props:I1(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=R1(t,"validation");return()=>{var r;return(r=n.default)==null?void 0:r.call(n,i)}}}),lB=Object.freeze(Object.defineProperty({__proto__:null,VAlert:ID,VAlertTitle:w1,VApp:Fk,VAppBar:aD,VAppBarNavIcon:AD,VAppBarTitle:ED,VAutocomplete:J2,VAvatar:Oi,VBadge:eO,VBanner:iO,VBannerActions:oC,VBannerText:lC,VBottomNavigation:aO,VBottomSheet:oO,VBreadcrumbs:dO,VBreadcrumbsDivider:uC,VBreadcrumbsItem:dC,VBtn:yt,VBtnGroup:_v,VBtnToggle:dD,VCard:vO,VCardActions:fC,VCardItem:pC,VCardSubtitle:hC,VCardText:vC,VCardTitle:mC,VCarousel:CO,VCarouselItem:EO,VCheckbox:FD,VCheckboxBtn:Kr,VChip:Sl,VChipGroup:WD,VClassIcon:ty,VCode:TO,VCol:iN,VColorPicker:vV,VCombobox:_V,VComponentIcon:vv,VConfirmEdit:xV,VContainer:QV,VCounter:Ph,VDataIterator:RV,VDataTable:YV,VDataTableFooter:Dc,VDataTableHeaders:Hs,VDataTableRow:Ly,VDataTableRows:Gs,VDataTableServer:ZV,VDataTableVirtual:jV,VDatePicker:vN,VDatePickerControls:Ov,VDatePickerHeader:Vv,VDatePickerMonth:Nv,VDatePickerMonths:Bv,VDatePickerYears:Fv,VDefaultsProvider:ut,VDialog:Ev,VDialogBottomTransition:Gk,VDialogTopTransition:Wk,VDialogTransition:bh,VDivider:vu,VEmptyState:yN,VExpandTransition:xh,VExpandXTransition:ay,VExpansionPanel:_N,VExpansionPanelText:Uv,VExpansionPanelTitle:zv,VExpansionPanels:SN,VFab:MN,VFabTransition:Hk,VFadeTransition:Tc,VField:wl,VFieldLabel:Zl,VFileInput:AN,VFooter:TN,VForm:IN,VHover:LN,VIcon:_t,VImg:jr,VInfiniteScroll:DN,VInput:Vn,VItem:NN,VItemGroup:VN,VKbd:BN,VLabel:xl,VLayout:UN,VLayoutItem:HN,VLazy:WN,VLigatureIcon:Ik,VList:Th,VListGroup:wv,VListImg:h2,VListItem:Zr,VListItemAction:p2,VListItemMedia:g2,VListItemSubtitle:G1,VListItemTitle:W1,VListSubheader:$1,VLocaleProvider:XN,VMain:qN,VMenu:ul,VMessages:T1,VNavigationDrawer:i3,VNoSsr:r3,VOtpInput:s3,VOverlay:vr,VPagination:kv,VParallax:c3,VProgressCircular:cl,VProgressLinear:wh,VRadio:d3,VRadioGroup:h3,VRangeSlider:p3,VRating:g3,VResponsive:gv,VRow:uN,VScaleTransition:iy,VScrollXReverseTransition:Xk,VScrollXTransition:$k,VScrollYReverseTransition:qk,VScrollYTransition:Yk,VSelect:by,VSelectionControl:Oa,VSelectionControlGroup:C1,VSheet:zs,VSkeletonLoader:x3,VSlideGroup:Lc,VSlideGroupItem:S3,VSlideXReverseTransition:Kk,VSlideXTransition:jk,VSlideYReverseTransition:Zk,VSlideYTransition:ry,VSlider:Lv,VSnackbar:C3,VSpacer:iA,VSparkline:P3,VSpeedDial:R3,VStepper:B3,VStepperActions:gA,VStepperHeader:yA,VStepperItem:_A,VStepperWindow:bA,VStepperWindowItem:xA,VSvgIcon:ey,VSwitch:U3,VSystemBar:H3,VTab:SA,VTable:Ws,VTabs:q3,VTabsWindow:wA,VTabsWindowItem:MA,VTextField:Bs,VTextarea:K3,VThemeProvider:J3,VTimeline:iB,VTimelineItem:tB,VToolbar:yv,VToolbarItems:aB,VToolbarTitle:ny,VTooltip:AA,VValidation:oB,VVirtualScroll:Rh,VWindow:Fs,VWindowItem:Us},Symbol.toStringTag,{value:"Module"}));function cB(t,e){const n=e.modifiers||{},i=e.value,{once:r,immediate:a,...s}=n,o=!Object.keys(s).length,{handler:l,options:c}=typeof i=="object"?i:{handler:i,options:{attributes:(s==null?void 0:s.attr)??o,characterData:(s==null?void 0:s.char)??o,childList:(s==null?void 0:s.child)??o,subtree:(s==null?void 0:s.sub)??o}},u=new MutationObserver(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;l==null||l(d,f),r&&EA(t,e)});a&&(l==null||l([],u)),t._mutate=Object(t._mutate),t._mutate[e.instance.$.uid]={observer:u},u.observe(t,c)}function EA(t,e){var n;(n=t._mutate)!=null&&n[e.instance.$.uid]&&(t._mutate[e.instance.$.uid].observer.disconnect(),delete t._mutate[e.instance.$.uid])}const uB={mounted:cB,unmounted:EA};function dB(t,e){var r,a;const n=e.value,i={passive:!((r=e.modifiers)!=null&&r.active)};window.addEventListener("resize",n,i),t._onResize=Object(t._onResize),t._onResize[e.instance.$.uid]={handler:n,options:i},(a=e.modifiers)!=null&&a.quiet||n()}function fB(t,e){var r;if(!((r=t._onResize)!=null&&r[e.instance.$.uid]))return;const{handler:n,options:i}=t._onResize[e.instance.$.uid];window.removeEventListener("resize",n,i),delete t._onResize[e.instance.$.uid]}const hB={mounted:dB,unmounted:fB};function TA(t,e){const{self:n=!1}=e.modifiers??{},i=e.value,r=typeof i=="object"&&i.options||{passive:!0},a=typeof i=="function"||"handleEvent"in i?i:i.handler,s=n?t:e.arg?document.querySelector(e.arg):window;s&&(s.addEventListener("scroll",a,r),t._onScroll=Object(t._onScroll),t._onScroll[e.instance.$.uid]={handler:a,options:r,target:n?void 0:s})}function PA(t,e){var a;if(!((a=t._onScroll)!=null&&a[e.instance.$.uid]))return;const{handler:n,options:i,target:r=t}=t._onScroll[e.instance.$.uid];r.removeEventListener("scroll",n,i),delete t._onScroll[e.instance.$.uid]}function mB(t,e){e.value!==e.oldValue&&(PA(t,e),TA(t,e))}const pB={mounted:TA,unmounted:PA,updated:mB};function vB(t,e){const n=typeof t=="string"?vs(t):t,i=gB(n,e);return{mounted:i,updated:i,unmounted(r){_M(null,r)}}}function gB(t,e){return function(n,i,r){var d,f,h;const a=typeof e=="function"?e(i):e,s=((d=i.value)==null?void 0:d.text)??i.value??(a==null?void 0:a.text),o=Hg(i.value)?i.value:{},l=()=>s??n.innerHTML,c=(r.ctx===i.instance.$?(f=yB(r,i.instance.$))==null?void 0:f.provides:(h=r.ctx)==null?void 0:h.provides)??i.instance.$.provides,u=Si(t,xe(a,o),l);u.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:c}),_M(u,n)}}function yB(t,e){const n=new Set,i=a=>{var s,o;for(const l of a){if(!l)continue;if(l===t)return!0;n.add(l);let c;if(l.suspense?c=i([l.ssContent]):Array.isArray(l.children)?c=i(l.children):(s=l.component)!=null&&s.vnode&&(c=i([(o=l.component)==null?void 0:o.subTree])),c)return c;n.delete(l)}return!1};if(!i([e.subTree]))throw new Error("Could not find original vnode");const r=Array.from(n).reverse();for(const a of r)if(a.component)return a.component;return e}const _B=vB(AA,t=>{var e;return{activator:"parent",location:((e=t.arg)==null?void 0:e.replace("-"," "))??"top",text:typeof t.value=="boolean"?void 0:t.value}}),bB=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:nC,Intersect:uu,Mutate:uB,Resize:hB,Ripple:ra,Scroll:pB,Tooltip:_B,Touch:xy},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const xu="168",xB={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},SB={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},IA=0,Hv=1,RA=2,wB=3,MB=0,Fy=1,Uy=2,or=3,Jr=0,ii=1,$i=2,Gr=0,Rs=1,Gv=2,Wv=3,$v=4,LA=5,Ia=100,kA=101,DA=102,OA=103,VA=104,NA=200,BA=201,FA=202,UA=203,bf=204,xf=205,zA=206,HA=207,GA=208,WA=209,$A=210,XA=211,YA=212,qA=213,jA=214,KA=0,ZA=1,JA=2,Vc=3,QA=4,eE=5,tE=6,nE=7,Su=0,iE=1,rE=2,hr=0,aE=1,sE=2,oE=3,$h=4,lE=5,cE=6,uE=7,Xv="attached",dE="detached",Xh=300,Qr=301,Va=302,Nc=303,Bc=304,Ml=306,Fc=1e3,ki=1001,Uc=1002,An=1003,zy=1004,CB=1004,Go=1005,AB=1005,gn=1006,ac=1007,EB=1007,ur=1008,TB=1008,gr=1009,Hy=1010,Gy=1011,dl=1012,Yh=1013,ea=1014,li=1015,Cl=1016,qh=1017,jh=1018,$s=1020,Wy=35902,$y=1021,Xy=1022,ti=1023,Yy=1024,qy=1025,Ls=1026,Xs=1027,Kh=1028,wu=1029,jy=1030,Zh=1031,PB=1032,Jh=1033,sc=33776,oc=33777,lc=33778,cc=33779,Sf=35840,wf=35841,Mf=35842,Cf=35843,Af=36196,Ef=37492,Tf=37496,Pf=37808,If=37809,Rf=37810,Lf=37811,kf=37812,Df=37813,Of=37814,Vf=37815,Nf=37816,Bf=37817,Ff=37818,Uf=37819,zf=37820,Hf=37821,uc=36492,Gf=36494,Wf=36495,Ky=36283,$f=36284,Xf=36285,Yf=36286,fE=2200,hE=2201,mE=2202,zc=2300,qf=2301,Jd=2302,Ss=2400,ws=2401,Hc=2402,Qh=2500,Zy=2501,IB=0,RB=1,LB=2,pE=3200,vE=3201,kB=3202,DB=3203,$a=0,gE=1,Fr="",gi="srgb",oa="srgb-linear",em="display-p3",Mu="display-p3-linear",Gc="linear",Ut="srgb",Wc="rec709",$c="p3",OB=0,hs=7680,VB=7681,NB=7682,BB=7683,FB=34055,UB=34056,zB=5386,HB=512,GB=513,WB=514,$B=515,XB=516,YB=517,qB=518,Yv=519,yE=512,_E=513,bE=514,Jy=515,xE=516,SE=517,wE=518,ME=519,Xc=35044,jB=35048,KB=35040,ZB=35045,JB=35049,QB=35041,eF=35046,tF=35050,nF=35042,iF="100",qv="300 es",dr=2e3,Yc=2001;class Mr{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}const Bn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Ob=1234567;const ks=Math.PI/180,fl=180/Math.PI;function xi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Bn[t&255]+Bn[t>>8&255]+Bn[t>>16&255]+Bn[t>>24&255]+"-"+Bn[e&255]+Bn[e>>8&255]+"-"+Bn[e>>16&15|64]+Bn[e>>24&255]+"-"+Bn[n&63|128]+Bn[n>>8&255]+"-"+Bn[n>>16&255]+Bn[n>>24&255]+Bn[i&255]+Bn[i>>8&255]+Bn[i>>16&255]+Bn[i>>24&255]).toLowerCase()}function nn(t,e,n){return Math.max(e,Math.min(n,t))}function Qy(t,e){return(t%e+e)%e}function rF(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function aF(t,e,n){return t!==e?(n-t)/(e-t):0}function dc(t,e,n){return(1-n)*t+n*e}function sF(t,e,n,i){return dc(t,e,1-Math.exp(-n*i))}function oF(t,e=1){return e-Math.abs(Qy(t,e*2)-e)}function lF(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function cF(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function uF(t,e){return t+Math.floor(Math.random()*(e-t+1))}function dF(t,e){return t+Math.random()*(e-t)}function fF(t){return t*(.5-Math.random())}function hF(t){t!==void 0&&(Ob=t);let e=Ob+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function mF(t){return t*ks}function pF(t){return t*fl}function vF(t){return(t&t-1)===0&&t!==0}function gF(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function yF(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function _F(t,e,n,i,r){const a=Math.cos,s=Math.sin,o=a(n/2),l=s(n/2),c=a((e+i)/2),u=s((e+i)/2),d=a((e-i)/2),f=s((e-i)/2),h=a((i-e)/2),m=s((i-e)/2);switch(r){case"XYX":t.set(o*u,l*d,l*f,o*c);break;case"YZY":t.set(l*f,o*u,l*d,o*c);break;case"ZXZ":t.set(l*d,l*f,o*u,o*c);break;case"XZX":t.set(o*u,l*m,l*h,o*c);break;case"YXY":t.set(l*h,o*u,l*m,o*c);break;case"ZYZ":t.set(l*m,l*h,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ei(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ft(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const e0={DEG2RAD:ks,RAD2DEG:fl,generateUUID:xi,clamp:nn,euclideanModulo:Qy,mapLinear:rF,inverseLerp:aF,lerp:dc,damp:sF,pingpong:oF,smoothstep:lF,smootherstep:cF,randInt:uF,randFloat:dF,randFloatSpread:fF,seededRandom:hF,degToRad:mF,radToDeg:pF,isPowerOfTwo:vF,ceilPowerOfTwo:gF,floorPowerOfTwo:yF,setQuaternionFromProperEuler:_F,normalize:ft,denormalize:ei};class Se{constructor(e=0,n=0){Se.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(nn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class dt{constructor(e,n,i,r,a,s,o,l,c){dt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,o,l,c)}set(e,n,i,r,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=n,u[4]=a,u[5]=l,u[6]=i,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],o=i[3],l=i[6],c=i[1],u=i[4],d=i[7],f=i[2],h=i[5],m=i[8],v=r[0],p=r[3],g=r[6],y=r[1],b=r[4],x=r[7],E=r[2],M=r[5],A=r[8];return a[0]=s*v+o*y+l*E,a[3]=s*p+o*b+l*M,a[6]=s*g+o*x+l*A,a[1]=c*v+u*y+d*E,a[4]=c*p+u*b+d*M,a[7]=c*g+u*x+d*A,a[2]=f*v+h*y+m*E,a[5]=f*p+h*b+m*M,a[8]=f*g+h*x+m*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*o*c-i*a*u+i*o*l+r*a*c-r*s*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*s-o*c,f=o*l-u*a,h=c*a-s*l,m=n*d+i*f+r*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/m;return e[0]=d*v,e[1]=(r*c-u*i)*v,e[2]=(o*i-r*s)*v,e[3]=f*v,e[4]=(u*n-r*l)*v,e[5]=(r*a-o*n)*v,e[6]=h*v,e[7]=(i*l-c*n)*v,e[8]=(s*n-i*a)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(i*l,i*c,-i*(l*s+c*o)+s+e,-r*c,r*l,-r*(-c*s+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(rp.makeScale(e,n)),this}rotate(e){return this.premultiply(rp.makeRotation(-e)),this}translate(e,n){return this.premultiply(rp.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const rp=new dt;function CE(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const bF={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wo(t,e){return new bF[t](e)}function qc(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function AE(){const t=qc("canvas");return t.style.display="block",t}const Vb={};function el(t){t in Vb||(Vb[t]=!0,console.warn(t))}function xF(t,e,n){return new Promise(function(i,r){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:i()}}setTimeout(a,n)})}const Nb=new dt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Bb=new dt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Dl={[oa]:{transfer:Gc,primaries:Wc,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[gi]:{transfer:Ut,primaries:Wc,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Mu]:{transfer:Gc,primaries:$c,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(Bb),fromReference:t=>t.applyMatrix3(Nb)},[em]:{transfer:Ut,primaries:$c,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(Bb),fromReference:t=>t.applyMatrix3(Nb).convertLinearToSRGB()}},SF=new Set([oa,Mu]),At={enabled:!0,_workingColorSpace:oa,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!SF.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=Dl[e].toReference,r=Dl[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Dl[t].primaries},getTransfer:function(t){return t===Fr?Gc:Dl[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(Dl[e].luminanceCoefficients)}};function tl(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function ap(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let vo;class EE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{vo===void 0&&(vo=qc("canvas")),vo.width=e.width,vo.height=e.height;const i=vo.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=vo}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=qc("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=tl(a[s]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(tl(n[i]/255)*255):n[i]=tl(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let wF=0;class Ms{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:wF++}),this.uuid=xi(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,o=r.length;s<o;s++)r[s].isDataTexture?a.push(sp(r[s].image)):a.push(sp(r[s]))}else a=sp(r);i.url=a}return n||(e.images[this.uuid]=i),i}}function sp(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?EE.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let MF=0;class an extends Mr{constructor(e=an.DEFAULT_IMAGE,n=an.DEFAULT_MAPPING,i=ki,r=ki,a=gn,s=ur,o=ti,l=gr,c=an.DEFAULT_ANISOTROPY,u=Fr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:MF++}),this.uuid=xi(),this.name="",this.source=new Ms(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Se(0,0),this.repeat=new Se(1,1),this.center=new Se(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new dt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Xh)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Fc:e.x=e.x-Math.floor(e.x);break;case ki:e.x=e.x<0?0:1;break;case Uc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Fc:e.y=e.y-Math.floor(e.y);break;case ki:e.y=e.y<0?0:1;break;case Uc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}an.DEFAULT_IMAGE=null;an.DEFAULT_MAPPING=Xh;an.DEFAULT_ANISOTROPY=1;class Lt{constructor(e=0,n=0,i=0,r=1){Lt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*n+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*n+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*n+s[7]*i+s[11]*r+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,a;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],m=l[9],v=l[2],p=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-v)<.01&&Math.abs(m-p)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+v)<.1&&Math.abs(m+p)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,x=(h+1)/2,E=(g+1)/2,M=(u+f)/4,A=(d+v)/4,C=(m+p)/4;return b>x&&b>E?b<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(b),r=M/i,a=A/i):x>E?x<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(x),i=M/r,a=C/r):E<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(E),i=A/a,r=C/a),this.set(i,r,a,n),this}let y=Math.sqrt((p-m)*(p-m)+(d-v)*(d-v)+(f-u)*(f-u));return Math.abs(y)<.001&&(y=1),this.x=(p-m)/y,this.y=(d-v)/y,this.z=(f-u)/y,this.w=Math.acos((c+h+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class TE extends Mr{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Lt(0,0,e,n),this.scissorTest=!1,this.viewport=new Lt(0,0,e,n);const r={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:gn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const a=new an(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const s=i.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Ms(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ki extends TE{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class tm extends an{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=An,this.minFilter=An,this.wrapR=ki,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class CF extends Ki{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new tm(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class t0 extends an{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=An,this.minFilter=An,this.wrapR=ki,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class AF extends Ki{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new t0(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class ci{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,a,s,o){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const f=a[s+0],h=a[s+1],m=a[s+2],v=a[s+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(o===1){e[n+0]=f,e[n+1]=h,e[n+2]=m,e[n+3]=v;return}if(d!==v||l!==f||c!==h||u!==m){let p=1-o;const g=l*f+c*h+u*m+d*v,y=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const E=Math.sqrt(b),M=Math.atan2(E,g*y);p=Math.sin(p*M)/E,o=Math.sin(o*M)/E}const x=o*y;if(l=l*p+f*x,c=c*p+h*x,u=u*p+m*x,d=d*p+v*x,p===1-o){const E=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=E,c*=E,u*=E,d*=E}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,a,s){const o=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=a[s],f=a[s+1],h=a[s+2],m=a[s+3];return e[n]=o*m+u*d+l*h-c*f,e[n+1]=l*m+u*f+c*d-o*h,e[n+2]=c*m+u*h+o*f-l*d,e[n+3]=u*m-o*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(i/2),u=o(r/2),d=o(a/2),f=l(i/2),h=l(r/2),m=l(a/2);switch(s){case"XYZ":this._x=f*u*d+c*h*m,this._y=c*h*d-f*u*m,this._z=c*u*m+f*h*d,this._w=c*u*d-f*h*m;break;case"YXZ":this._x=f*u*d+c*h*m,this._y=c*h*d-f*u*m,this._z=c*u*m-f*h*d,this._w=c*u*d+f*h*m;break;case"ZXY":this._x=f*u*d-c*h*m,this._y=c*h*d+f*u*m,this._z=c*u*m+f*h*d,this._w=c*u*d-f*h*m;break;case"ZYX":this._x=f*u*d-c*h*m,this._y=c*h*d+f*u*m,this._z=c*u*m-f*h*d,this._w=c*u*d+f*h*m;break;case"YZX":this._x=f*u*d+c*h*m,this._y=c*h*d+f*u*m,this._z=c*u*m-f*h*d,this._w=c*u*d-f*h*m;break;case"XZY":this._x=f*u*d-c*h*m,this._y=c*h*d-f*u*m,this._z=c*u*m+f*h*d,this._w=c*u*d+f*h*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],a=n[8],s=n[1],o=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=i+o+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-r)*h}else if(i>o&&i>d){const h=2*Math.sqrt(1+i-o-d);this._w=(u-l)/h,this._x=.25*h,this._y=(r+s)/h,this._z=(a+c)/h}else if(o>d){const h=2*Math.sqrt(1+o-i-d);this._w=(a-c)/h,this._x=(r+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-i-o);this._w=(s-r)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(nn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,a=e._z,s=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+s*o+r*c-a*l,this._y=r*u+s*l+a*o-i*c,this._z=a*u+s*c+i*l-r*o,this._w=s*u-i*o-r*l-a*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,s=this._w;let o=s*e._w+i*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=i,this._y=r,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*i+n*this._x,this._y=h*r+n*this._y,this._z=h*a+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=s*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=a*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,n=0,i=0){H.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Fb.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Fb.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*r-o*i),u=2*(o*n-a*r),d=2*(a*i-s*n);return this.x=n+l*c+s*d-o*u,this.y=i+l*u+o*c-a*d,this.z=r+l*d+a*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,a=e.z,s=n.x,o=n.y,l=n.z;return this.x=r*l-a*o,this.y=a*s-i*l,this.z=i*o-r*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return op.copy(this).projectOnVector(e),this.sub(op)}reflect(e){return this.sub(op.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(nn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const op=new H,Fb=new ci;class ri{constructor(e=new H(1/0,1/0,1/0),n=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Ui.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Ui.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Ui.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Ui):Ui.fromBufferAttribute(a,s),Ui.applyMatrix4(e.matrixWorld),this.expandByPoint(Ui);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ju.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),ju.copy(i.boundingBox)),ju.applyMatrix4(e.matrixWorld),this.union(ju)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ui),Ui.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ol),Ku.subVectors(this.max,Ol),go.subVectors(e.a,Ol),yo.subVectors(e.b,Ol),_o.subVectors(e.c,Ol),ma.subVectors(yo,go),pa.subVectors(_o,yo),es.subVectors(go,_o);let n=[0,-ma.z,ma.y,0,-pa.z,pa.y,0,-es.z,es.y,ma.z,0,-ma.x,pa.z,0,-pa.x,es.z,0,-es.x,-ma.y,ma.x,0,-pa.y,pa.x,0,-es.y,es.x,0];return!lp(n,go,yo,_o,Ku)||(n=[1,0,0,0,1,0,0,0,1],!lp(n,go,yo,_o,Ku))?!1:(Zu.crossVectors(ma,pa),n=[Zu.x,Zu.y,Zu.z],lp(n,go,yo,_o,Ku))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ui).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ui).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Tr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Tr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Tr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Tr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Tr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Tr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Tr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Tr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Tr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Tr=[new H,new H,new H,new H,new H,new H,new H,new H],Ui=new H,ju=new ri,go=new H,yo=new H,_o=new H,ma=new H,pa=new H,es=new H,Ol=new H,Ku=new H,Zu=new H,ts=new H;function lp(t,e,n,i,r){for(let a=0,s=t.length-3;a<=s;a+=3){ts.fromArray(t,a);const o=r.x*Math.abs(ts.x)+r.y*Math.abs(ts.y)+r.z*Math.abs(ts.z),l=e.dot(ts),c=n.dot(ts),u=i.dot(ts);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const EF=new ri,Vl=new H,cp=new H;class $n{constructor(e=new H,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):EF.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Vl.subVectors(e,this.center);const n=Vl.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Vl,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cp.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Vl.copy(e.center).add(cp)),this.expandByPoint(Vl.copy(e.center).sub(cp))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Pr=new H,up=new H,Ju=new H,va=new H,dp=new H,Qu=new H,fp=new H;class Al{constructor(e=new H,n=new H(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Pr)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Pr.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Pr.copy(this.origin).addScaledVector(this.direction,n),Pr.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){up.copy(e).add(n).multiplyScalar(.5),Ju.copy(n).sub(e).normalize(),va.copy(this.origin).sub(up);const a=e.distanceTo(n)*.5,s=-this.direction.dot(Ju),o=va.dot(this.direction),l=-va.dot(Ju),c=va.lengthSq(),u=Math.abs(1-s*s);let d,f,h,m;if(u>0)if(d=s*l-o,f=s*o-l,m=a*u,d>=0)if(f>=-m)if(f<=m){const v=1/u;d*=v,f*=v,h=d*(d+s*f+2*o)+f*(s*d+f+2*l)+c}else f=a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f=-a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f<=-m?(d=Math.max(0,-(-s*a+o)),f=d>0?-a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c):f<=m?(d=0,f=Math.min(Math.max(-a,-l),a),h=f*(f+2*l)+c):(d=Math.max(0,-(s*a+o)),f=d>0?a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c);else f=s>0?-a:a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(up).addScaledVector(Ju,f),h}intersectSphere(e,n){Pr.subVectors(e.center,this.origin);const i=Pr.dot(this.direction),r=Pr.dot(Pr)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),o=i-s,l=i+s;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,r=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,r=(e.min.x-f.x)*c),u>=0?(a=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(a=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Pr)!==null}intersectTriangle(e,n,i,r,a){dp.subVectors(n,e),Qu.subVectors(i,e),fp.crossVectors(dp,Qu);let s=this.direction.dot(fp),o;if(s>0){if(r)return null;o=1}else if(s<0)o=-1,s=-s;else return null;va.subVectors(this.origin,e);const l=o*this.direction.dot(Qu.crossVectors(va,Qu));if(l<0)return null;const c=o*this.direction.dot(dp.cross(va));if(c<0||l+c>s)return null;const u=-o*va.dot(fp);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class et{constructor(e,n,i,r,a,s,o,l,c,u,d,f,h,m,v,p){et.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,o,l,c,u,d,f,h,m,v,p)}set(e,n,i,r,a,s,o,l,c,u,d,f,h,m,v,p){const g=this.elements;return g[0]=e,g[4]=n,g[8]=i,g[12]=r,g[1]=a,g[5]=s,g[9]=o,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=m,g[11]=v,g[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new et().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/bo.setFromMatrixColumn(e,0).length(),a=1/bo.setFromMatrixColumn(e,1).length(),s=1/bo.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),o=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const f=s*u,h=s*d,m=o*u,v=o*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+m*c,n[5]=f-v*c,n[9]=-o*l,n[2]=v-f*c,n[6]=m+h*c,n[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,m=c*u,v=c*d;n[0]=f+v*o,n[4]=m*o-h,n[8]=s*c,n[1]=s*d,n[5]=s*u,n[9]=-o,n[2]=h*o-m,n[6]=v+f*o,n[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,m=c*u,v=c*d;n[0]=f-v*o,n[4]=-s*d,n[8]=m+h*o,n[1]=h+m*o,n[5]=s*u,n[9]=v-f*o,n[2]=-s*c,n[6]=o,n[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,m=o*u,v=o*d;n[0]=l*u,n[4]=m*c-h,n[8]=f*c+v,n[1]=l*d,n[5]=v*c+f,n[9]=h*c-m,n[2]=-c,n[6]=o*l,n[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,m=o*l,v=o*c;n[0]=l*u,n[4]=v-f*d,n[8]=m*d+h,n[1]=d,n[5]=s*u,n[9]=-o*u,n[2]=-c*u,n[6]=h*d+m,n[10]=f-v*d}else if(e.order==="XZY"){const f=s*l,h=s*c,m=o*l,v=o*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+v,n[5]=s*u,n[9]=h*d-m,n[2]=m*d-h,n[6]=o*u,n[10]=v*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(TF,e,PF)}lookAt(e,n,i){const r=this.elements;return pi.subVectors(e,n),pi.lengthSq()===0&&(pi.z=1),pi.normalize(),ga.crossVectors(i,pi),ga.lengthSq()===0&&(Math.abs(i.z)===1?pi.x+=1e-4:pi.z+=1e-4,pi.normalize(),ga.crossVectors(i,pi)),ga.normalize(),ed.crossVectors(pi,ga),r[0]=ga.x,r[4]=ed.x,r[8]=pi.x,r[1]=ga.y,r[5]=ed.y,r[9]=pi.y,r[2]=ga.z,r[6]=ed.z,r[10]=pi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],o=i[4],l=i[8],c=i[12],u=i[1],d=i[5],f=i[9],h=i[13],m=i[2],v=i[6],p=i[10],g=i[14],y=i[3],b=i[7],x=i[11],E=i[15],M=r[0],A=r[4],C=r[8],S=r[12],w=r[1],T=r[5],I=r[9],D=r[13],N=r[2],$=r[6],U=r[10],Z=r[14],Y=r[3],j=r[7],q=r[11],F=r[15];return a[0]=s*M+o*w+l*N+c*Y,a[4]=s*A+o*T+l*$+c*j,a[8]=s*C+o*I+l*U+c*q,a[12]=s*S+o*D+l*Z+c*F,a[1]=u*M+d*w+f*N+h*Y,a[5]=u*A+d*T+f*$+h*j,a[9]=u*C+d*I+f*U+h*q,a[13]=u*S+d*D+f*Z+h*F,a[2]=m*M+v*w+p*N+g*Y,a[6]=m*A+v*T+p*$+g*j,a[10]=m*C+v*I+p*U+g*q,a[14]=m*S+v*D+p*Z+g*F,a[3]=y*M+b*w+x*N+E*Y,a[7]=y*A+b*T+x*$+E*j,a[11]=y*C+b*I+x*U+E*q,a[15]=y*S+b*D+x*Z+E*F,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],m=e[3],v=e[7],p=e[11],g=e[15];return m*(+a*l*d-r*c*d-a*o*f+i*c*f+r*o*h-i*l*h)+v*(+n*l*h-n*c*f+a*s*f-r*s*h+r*c*u-a*l*u)+p*(+n*c*d-n*o*h-a*s*d+i*s*h+a*o*u-i*c*u)+g*(-r*o*u-n*l*d+n*o*f+r*s*d-i*s*f+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],m=e[12],v=e[13],p=e[14],g=e[15],y=d*p*c-v*f*c+v*l*h-o*p*h-d*l*g+o*f*g,b=m*f*c-u*p*c-m*l*h+s*p*h+u*l*g-s*f*g,x=u*v*c-m*d*c+m*o*h-s*v*h-u*o*g+s*d*g,E=m*d*l-u*v*l-m*o*f+s*v*f+u*o*p-s*d*p,M=n*y+i*b+r*x+a*E;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/M;return e[0]=y*A,e[1]=(v*f*a-d*p*a-v*r*h+i*p*h+d*r*g-i*f*g)*A,e[2]=(o*p*a-v*l*a+v*r*c-i*p*c-o*r*g+i*l*g)*A,e[3]=(d*l*a-o*f*a-d*r*c+i*f*c+o*r*h-i*l*h)*A,e[4]=b*A,e[5]=(u*p*a-m*f*a+m*r*h-n*p*h-u*r*g+n*f*g)*A,e[6]=(m*l*a-s*p*a-m*r*c+n*p*c+s*r*g-n*l*g)*A,e[7]=(s*f*a-u*l*a+u*r*c-n*f*c-s*r*h+n*l*h)*A,e[8]=x*A,e[9]=(m*d*a-u*v*a-m*i*h+n*v*h+u*i*g-n*d*g)*A,e[10]=(s*v*a-m*o*a+m*i*c-n*v*c-s*i*g+n*o*g)*A,e[11]=(u*o*a-s*d*a-u*i*c+n*d*c+s*i*h-n*o*h)*A,e[12]=E*A,e[13]=(u*v*r-m*d*r+m*i*f-n*v*f-u*i*p+n*d*p)*A,e[14]=(m*o*r-s*v*r-m*i*l+n*v*l+s*i*p-n*o*p)*A,e[15]=(s*d*r-u*o*r+u*i*l-n*d*l-s*i*f+n*o*f)*A,this}scale(e){const n=this.elements,i=e.x,r=e.y,a=e.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+i,c*o-r*l,c*l+r*o,0,c*o+r*l,u*o+i,u*l-r*s,0,c*l-r*o,u*l+r*s,a*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,a=n._x,s=n._y,o=n._z,l=n._w,c=a+a,u=s+s,d=o+o,f=a*c,h=a*u,m=a*d,v=s*u,p=s*d,g=o*d,y=l*c,b=l*u,x=l*d,E=i.x,M=i.y,A=i.z;return r[0]=(1-(v+g))*E,r[1]=(h+x)*E,r[2]=(m-b)*E,r[3]=0,r[4]=(h-x)*M,r[5]=(1-(f+g))*M,r[6]=(p+y)*M,r[7]=0,r[8]=(m+b)*A,r[9]=(p-y)*A,r[10]=(1-(f+v))*A,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let a=bo.set(r[0],r[1],r[2]).length();const s=bo.set(r[4],r[5],r[6]).length(),o=bo.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],zi.copy(this);const c=1/a,u=1/s,d=1/o;return zi.elements[0]*=c,zi.elements[1]*=c,zi.elements[2]*=c,zi.elements[4]*=u,zi.elements[5]*=u,zi.elements[6]*=u,zi.elements[8]*=d,zi.elements[9]*=d,zi.elements[10]*=d,n.setFromRotationMatrix(zi),i.x=a,i.y=s,i.z=o,this}makePerspective(e,n,i,r,a,s,o=dr){const l=this.elements,c=2*a/(n-e),u=2*a/(i-r),d=(n+e)/(n-e),f=(i+r)/(i-r);let h,m;if(o===dr)h=-(s+a)/(s-a),m=-2*s*a/(s-a);else if(o===Yc)h=-s/(s-a),m=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,a,s,o=dr){const l=this.elements,c=1/(n-e),u=1/(i-r),d=1/(s-a),f=(n+e)*c,h=(i+r)*u;let m,v;if(o===dr)m=(s+a)*d,v=-2*d;else if(o===Yc)m=a*d,v=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=v,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const bo=new H,zi=new et,TF=new H(0,0,0),PF=new H(1,1,1),ga=new H,ed=new H,pi=new H,Ub=new et,zb=new ci;class wi{constructor(e=0,n=0,i=0,r=wi.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],o=r[8],l=r[1],c=r[5],u=r[9],d=r[2],f=r[6],h=r[10];switch(n){case"XYZ":this._y=Math.asin(nn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-nn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(nn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-nn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(nn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-nn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return Ub.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ub,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return zb.setFromEuler(this),this.setFromQuaternion(zb,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}wi.DEFAULT_ORDER="XYZ";class nm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let IF=0;const Hb=new H,xo=new ci,Ir=new et,td=new H,Nl=new H,RF=new H,LF=new ci,Gb=new H(1,0,0),Wb=new H(0,1,0),$b=new H(0,0,1),Xb={type:"added"},kF={type:"removed"},So={type:"childadded",child:null},hp={type:"childremoved",child:null};class bt extends Mr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:IF++}),this.uuid=xi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bt.DEFAULT_UP.clone();const e=new H,n=new wi,i=new ci,r=new H(1,1,1);function a(){i.setFromEuler(n,!1)}function s(){n.setFromQuaternion(i,void 0,!1)}n._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new et},normalMatrix:{value:new dt}}),this.matrix=new et,this.matrixWorld=new et,this.matrixAutoUpdate=bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new nm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return xo.setFromAxisAngle(e,n),this.quaternion.multiply(xo),this}rotateOnWorldAxis(e,n){return xo.setFromAxisAngle(e,n),this.quaternion.premultiply(xo),this}rotateX(e){return this.rotateOnAxis(Gb,e)}rotateY(e){return this.rotateOnAxis(Wb,e)}rotateZ(e){return this.rotateOnAxis($b,e)}translateOnAxis(e,n){return Hb.copy(e).applyQuaternion(this.quaternion),this.position.add(Hb.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Gb,e)}translateY(e){return this.translateOnAxis(Wb,e)}translateZ(e){return this.translateOnAxis($b,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ir.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?td.copy(e):td.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Nl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ir.lookAt(Nl,td,this.up):Ir.lookAt(td,Nl,this.up),this.quaternion.setFromRotationMatrix(Ir),r&&(Ir.extractRotation(r.matrixWorld),xo.setFromRotationMatrix(Ir),this.quaternion.premultiply(xo.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Xb),So.child=e,this.dispatchEvent(So),So.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(kF),hp.child=e,this.dispatchEvent(hp),hp.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ir.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ir.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ir),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Xb),So.child=e,this.dispatchEvent(So),So.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nl,e,RF),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nl,LF,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];a(e.shapes,d)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));r.material=o}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(a(e.animations,l))}}if(n){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),m=s(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),h.length>0&&(i.animations=h),m.length>0&&(i.nodes=m)}return i.object=r,i;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}bt.DEFAULT_UP=new H(0,1,0);bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Hi=new H,Rr=new H,mp=new H,Lr=new H,wo=new H,Mo=new H,Yb=new H,pp=new H,vp=new H,gp=new H;class _i{constructor(e=new H,n=new H,i=new H){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Hi.subVectors(e,n),r.cross(Hi);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,n,i,r,a){Hi.subVectors(r,n),Rr.subVectors(i,n),mp.subVectors(e,n);const s=Hi.dot(Hi),o=Hi.dot(Rr),l=Hi.dot(mp),c=Rr.dot(Rr),u=Rr.dot(mp),d=s*c-o*o;if(d===0)return a.set(0,0,0),null;const f=1/d,h=(c*l-o*u)*f,m=(s*u-o*l)*f;return a.set(1-h-m,m,h)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Lr)===null?!1:Lr.x>=0&&Lr.y>=0&&Lr.x+Lr.y<=1}static getInterpolation(e,n,i,r,a,s,o,l){return this.getBarycoord(e,n,i,r,Lr)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Lr.x),l.addScaledVector(s,Lr.y),l.addScaledVector(o,Lr.z),l)}static isFrontFacing(e,n,i,r){return Hi.subVectors(i,n),Rr.subVectors(e,n),Hi.cross(Rr).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Hi.subVectors(this.c,this.b),Rr.subVectors(this.a,this.b),Hi.cross(Rr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return _i.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return _i.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,a){return _i.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}containsPoint(e){return _i.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return _i.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,a=this.c;let s,o;wo.subVectors(r,i),Mo.subVectors(a,i),pp.subVectors(e,i);const l=wo.dot(pp),c=Mo.dot(pp);if(l<=0&&c<=0)return n.copy(i);vp.subVectors(e,r);const u=wo.dot(vp),d=Mo.dot(vp);if(u>=0&&d<=u)return n.copy(r);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(i).addScaledVector(wo,s);gp.subVectors(e,a);const h=wo.dot(gp),m=Mo.dot(gp);if(m>=0&&h<=m)return n.copy(a);const v=h*c-l*m;if(v<=0&&c>=0&&m<=0)return o=c/(c-m),n.copy(i).addScaledVector(Mo,o);const p=u*m-h*d;if(p<=0&&d-u>=0&&h-m>=0)return Yb.subVectors(a,r),o=(d-u)/(d-u+(h-m)),n.copy(r).addScaledVector(Yb,o);const g=1/(p+v+f);return s=v*g,o=f*g,n.copy(i).addScaledVector(wo,s).addScaledVector(Mo,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const PE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ya={h:0,s:0,l:0},nd={h:0,s:0,l:0};function yp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Ue{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=gi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,At.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=At.workingColorSpace){return this.r=e,this.g=n,this.b=i,At.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=At.workingColorSpace){if(e=Qy(e,1),n=nn(n,0,1),i=nn(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,s=2*i-a;this.r=yp(s,a,e+1/3),this.g=yp(s,a,e),this.b=yp(s,a,e-1/3)}return At.toWorkingColorSpace(this,r),this}setStyle(e,n=gi){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=gi){const i=PE[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=tl(e.r),this.g=tl(e.g),this.b=tl(e.b),this}copyLinearToSRGB(e){return this.r=ap(e.r),this.g=ap(e.g),this.b=ap(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=gi){return At.fromWorkingColorSpace(Fn.copy(this),e),Math.round(nn(Fn.r*255,0,255))*65536+Math.round(nn(Fn.g*255,0,255))*256+Math.round(nn(Fn.b*255,0,255))}getHexString(e=gi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=At.workingColorSpace){At.fromWorkingColorSpace(Fn.copy(this),n);const i=Fn.r,r=Fn.g,a=Fn.b,s=Math.max(i,r,a),o=Math.min(i,r,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const d=s-o;switch(c=u<=.5?d/(s+o):d/(2-s-o),s){case i:l=(r-a)/d+(r<a?6:0);break;case r:l=(a-i)/d+2;break;case a:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=At.workingColorSpace){return At.fromWorkingColorSpace(Fn.copy(this),n),e.r=Fn.r,e.g=Fn.g,e.b=Fn.b,e}getStyle(e=gi){At.fromWorkingColorSpace(Fn.copy(this),e);const n=Fn.r,i=Fn.g,r=Fn.b;return e!==gi?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(ya),this.setHSL(ya.h+e,ya.s+n,ya.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(ya),e.getHSL(nd);const i=dc(ya.h,nd.h,n),r=dc(ya.s,nd.s,n),a=dc(ya.l,nd.l,n);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*n+a[3]*i+a[6]*r,this.g=a[1]*n+a[4]*i+a[7]*r,this.b=a[2]*n+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Fn=new Ue;Ue.NAMES=PE;let DF=0;class qn extends Mr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:DF++}),this.uuid=xi(),this.name="",this.type="Material",this.blending=Rs,this.side=Jr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=bf,this.blendDst=xf,this.blendEquation=Ia,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ue(0,0,0),this.blendAlpha=0,this.depthFunc=Vc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Yv,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=hs,this.stencilZFail=hs,this.stencilZPass=hs,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Rs&&(i.blending=this.blending),this.side!==Jr&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==bf&&(i.blendSrc=this.blendSrc),this.blendDst!==xf&&(i.blendDst=this.blendDst),this.blendEquation!==Ia&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Vc&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Yv&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==hs&&(i.stencilFail=this.stencilFail),this.stencilZFail!==hs&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==hs&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(n){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=n[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class la extends qn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wi,this.combine=Su,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ur=OF();function OF(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,a[l]=c|u}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}function si(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=nn(t,-65504,65504),Ur.floatView[0]=t;const e=Ur.uint32View[0],n=e>>23&511;return Ur.baseTable[n]+((e&8388607)>>Ur.shiftTable[n])}function Jl(t){const e=t>>10;return Ur.uint32View[0]=Ur.mantissaTable[Ur.offsetTable[e]+(t&1023)]+Ur.exponentTable[e],Ur.floatView[0]}const VF={toHalfFloat:si,fromHalfFloat:Jl},mn=new H,id=new Se;class Vt{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Xc,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=li,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return el("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)id.fromBufferAttribute(this,n),id.applyMatrix3(e),this.setXY(n,id.x,id.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)mn.fromBufferAttribute(this,n),mn.applyMatrix3(e),this.setXYZ(n,mn.x,mn.y,mn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)mn.fromBufferAttribute(this,n),mn.applyMatrix4(e),this.setXYZ(n,mn.x,mn.y,mn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)mn.fromBufferAttribute(this,n),mn.applyNormalMatrix(e),this.setXYZ(n,mn.x,mn.y,mn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)mn.fromBufferAttribute(this,n),mn.transformDirection(e),this.setXYZ(n,mn.x,mn.y,mn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=ei(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=ft(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ei(n,this.array)),n}setX(e,n){return this.normalized&&(n=ft(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ei(n,this.array)),n}setY(e,n){return this.normalized&&(n=ft(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ei(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ft(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ei(n,this.array)),n}setW(e,n){return this.normalized&&(n=ft(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=ft(n,this.array),i=ft(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=ft(n,this.array),i=ft(i,this.array),r=ft(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=ft(n,this.array),i=ft(i,this.array),r=ft(r,this.array),a=ft(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Xc&&(e.usage=this.usage),e}}class NF extends Vt{constructor(e,n,i){super(new Int8Array(e),n,i)}}class BF extends Vt{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class FF extends Vt{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class UF extends Vt{constructor(e,n,i){super(new Int16Array(e),n,i)}}class n0 extends Vt{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class zF extends Vt{constructor(e,n,i){super(new Int32Array(e),n,i)}}class i0 extends Vt{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class HF extends Vt{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Jl(this.array[e*this.itemSize]);return this.normalized&&(n=ei(n,this.array)),n}setX(e,n){return this.normalized&&(n=ft(n,this.array)),this.array[e*this.itemSize]=si(n),this}getY(e){let n=Jl(this.array[e*this.itemSize+1]);return this.normalized&&(n=ei(n,this.array)),n}setY(e,n){return this.normalized&&(n=ft(n,this.array)),this.array[e*this.itemSize+1]=si(n),this}getZ(e){let n=Jl(this.array[e*this.itemSize+2]);return this.normalized&&(n=ei(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ft(n,this.array)),this.array[e*this.itemSize+2]=si(n),this}getW(e){let n=Jl(this.array[e*this.itemSize+3]);return this.normalized&&(n=ei(n,this.array)),n}setW(e,n){return this.normalized&&(n=ft(n,this.array)),this.array[e*this.itemSize+3]=si(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=ft(n,this.array),i=ft(i,this.array)),this.array[e+0]=si(n),this.array[e+1]=si(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=ft(n,this.array),i=ft(i,this.array),r=ft(r,this.array)),this.array[e+0]=si(n),this.array[e+1]=si(i),this.array[e+2]=si(r),this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=ft(n,this.array),i=ft(i,this.array),r=ft(r,this.array),a=ft(a,this.array)),this.array[e+0]=si(n),this.array[e+1]=si(i),this.array[e+2]=si(r),this.array[e+3]=si(a),this}}class Ye extends Vt{constructor(e,n,i){super(new Float32Array(e),n,i)}}let GF=0;const Ii=new et,_p=new bt,Co=new H,vi=new ri,Bl=new ri,Mn=new H;class mt extends Mr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:GF++}),this.uuid=xi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(CE(e)?i0:n0)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new dt().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ii.makeRotationFromQuaternion(e),this.applyMatrix4(Ii),this}rotateX(e){return Ii.makeRotationX(e),this.applyMatrix4(Ii),this}rotateY(e){return Ii.makeRotationY(e),this.applyMatrix4(Ii),this}rotateZ(e){return Ii.makeRotationZ(e),this.applyMatrix4(Ii),this}translate(e,n,i){return Ii.makeTranslation(e,n,i),this.applyMatrix4(Ii),this}scale(e,n,i){return Ii.makeScale(e,n,i),this.applyMatrix4(Ii),this}lookAt(e){return _p.lookAt(e),_p.updateMatrix(),this.applyMatrix4(_p.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Co).negate(),this.translate(Co.x,Co.y,Co.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const a=e[i];n.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Ye(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ri);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const a=n[i];vi.setFromBufferAttribute(a),this.morphTargetsRelative?(Mn.addVectors(this.boundingBox.min,vi.min),this.boundingBox.expandByPoint(Mn),Mn.addVectors(this.boundingBox.max,vi.max),this.boundingBox.expandByPoint(Mn)):(this.boundingBox.expandByPoint(vi.min),this.boundingBox.expandByPoint(vi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $n);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new H,1/0);return}if(e){const i=this.boundingSphere.center;if(vi.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const o=n[a];Bl.setFromBufferAttribute(o),this.morphTargetsRelative?(Mn.addVectors(vi.min,Bl.min),vi.expandByPoint(Mn),Mn.addVectors(vi.max,Bl.max),vi.expandByPoint(Mn)):(vi.expandByPoint(Bl.min),vi.expandByPoint(Bl.max))}vi.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)Mn.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Mn));if(n)for(let a=0,s=n.length;a<s;a++){const o=n[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Mn.fromBufferAttribute(o,c),l&&(Co.fromBufferAttribute(e,c),Mn.add(Co)),r=Math.max(r,i.distanceToSquared(Mn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Vt(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let C=0;C<i.count;C++)o[C]=new H,l[C]=new H;const c=new H,u=new H,d=new H,f=new Se,h=new Se,m=new Se,v=new H,p=new H;function g(C,S,w){c.fromBufferAttribute(i,C),u.fromBufferAttribute(i,S),d.fromBufferAttribute(i,w),f.fromBufferAttribute(a,C),h.fromBufferAttribute(a,S),m.fromBufferAttribute(a,w),u.sub(c),d.sub(c),h.sub(f),m.sub(f);const T=1/(h.x*m.y-m.x*h.y);isFinite(T)&&(v.copy(u).multiplyScalar(m.y).addScaledVector(d,-h.y).multiplyScalar(T),p.copy(d).multiplyScalar(h.x).addScaledVector(u,-m.x).multiplyScalar(T),o[C].add(v),o[S].add(v),o[w].add(v),l[C].add(p),l[S].add(p),l[w].add(p))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let C=0,S=y.length;C<S;++C){const w=y[C],T=w.start,I=w.count;for(let D=T,N=T+I;D<N;D+=3)g(e.getX(D+0),e.getX(D+1),e.getX(D+2))}const b=new H,x=new H,E=new H,M=new H;function A(C){E.fromBufferAttribute(r,C),M.copy(E);const S=o[C];b.copy(S),b.sub(E.multiplyScalar(E.dot(S))).normalize(),x.crossVectors(M,S);const T=x.dot(l[C])<0?-1:1;s.setXYZW(C,b.x,b.y,b.z,T)}for(let C=0,S=y.length;C<S;++C){const w=y[C],T=w.start,I=w.count;for(let D=T,N=T+I;D<N;D+=3)A(e.getX(D+0)),A(e.getX(D+1)),A(e.getX(D+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Vt(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let f=0,h=i.count;f<h;f++)i.setXYZ(f,0,0,0);const r=new H,a=new H,s=new H,o=new H,l=new H,c=new H,u=new H,d=new H;if(e)for(let f=0,h=e.count;f<h;f+=3){const m=e.getX(f+0),v=e.getX(f+1),p=e.getX(f+2);r.fromBufferAttribute(n,m),a.fromBufferAttribute(n,v),s.fromBufferAttribute(n,p),u.subVectors(s,a),d.subVectors(r,a),u.cross(d),o.fromBufferAttribute(i,m),l.fromBufferAttribute(i,v),c.fromBufferAttribute(i,p),o.add(u),l.add(u),c.add(u),i.setXYZ(m,o.x,o.y,o.z),i.setXYZ(v,l.x,l.y,l.z),i.setXYZ(p,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)r.fromBufferAttribute(n,f+0),a.fromBufferAttribute(n,f+1),s.fromBufferAttribute(n,f+2),u.subVectors(s,a),d.subVectors(r,a),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Mn.fromBufferAttribute(e,n),Mn.normalize(),e.setXYZ(n,Mn.x,Mn.y,Mn.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,f=new c.constructor(l.length*u);let h=0,m=0;for(let v=0,p=l.length;v<p;v++){o.isInterleavedBufferAttribute?h=l[v]*o.data.stride+o.offset:h=l[v]*u;for(let g=0;g<u;g++)f[m++]=c[h++]}return new Vt(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new mt,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,i);n.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,i);l.push(h)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(r[l]=u,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const a=e.morphAttributes;for(const c in a){const u=[],d=a[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const qb=new et,ns=new Al,rd=new $n,jb=new H,Ao=new H,Eo=new H,To=new H,bp=new H,ad=new H,sd=new Se,od=new Se,ld=new Se,Kb=new H,Zb=new H,Jb=new H,cd=new H,ud=new H;class on extends bt{constructor(e=new mt,n=new la){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(a&&o){ad.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const u=o[l],d=a[l];u!==0&&(bp.fromBufferAttribute(d,e),s?ad.addScaledVector(bp,u):ad.addScaledVector(bp.sub(n),u))}n.add(ad)}return n}raycast(e,n){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),rd.copy(i.boundingSphere),rd.applyMatrix4(a),ns.copy(e.ray).recast(e.near),!(rd.containsPoint(ns.origin)===!1&&(ns.intersectSphere(rd,jb)===null||ns.origin.distanceToSquared(jb)>(e.far-e.near)**2))&&(qb.copy(a).invert(),ns.copy(e.ray).applyMatrix4(qb),!(i.boundingBox!==null&&ns.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,ns)))}_computeIntersections(e,n,i){let r;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,u=a.attributes.uv1,d=a.attributes.normal,f=a.groups,h=a.drawRange;if(o!==null)if(Array.isArray(s))for(let m=0,v=f.length;m<v;m++){const p=f[m],g=s[p.materialIndex],y=Math.max(p.start,h.start),b=Math.min(o.count,Math.min(p.start+p.count,h.start+h.count));for(let x=y,E=b;x<E;x+=3){const M=o.getX(x),A=o.getX(x+1),C=o.getX(x+2);r=dd(this,g,e,i,c,u,d,M,A,C),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=p.materialIndex,n.push(r))}}else{const m=Math.max(0,h.start),v=Math.min(o.count,h.start+h.count);for(let p=m,g=v;p<g;p+=3){const y=o.getX(p),b=o.getX(p+1),x=o.getX(p+2);r=dd(this,s,e,i,c,u,d,y,b,x),r&&(r.faceIndex=Math.floor(p/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(s))for(let m=0,v=f.length;m<v;m++){const p=f[m],g=s[p.materialIndex],y=Math.max(p.start,h.start),b=Math.min(l.count,Math.min(p.start+p.count,h.start+h.count));for(let x=y,E=b;x<E;x+=3){const M=x,A=x+1,C=x+2;r=dd(this,g,e,i,c,u,d,M,A,C),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=p.materialIndex,n.push(r))}}else{const m=Math.max(0,h.start),v=Math.min(l.count,h.start+h.count);for(let p=m,g=v;p<g;p+=3){const y=p,b=p+1,x=p+2;r=dd(this,s,e,i,c,u,d,y,b,x),r&&(r.faceIndex=Math.floor(p/3),n.push(r))}}}}function WF(t,e,n,i,r,a,s,o){let l;if(e.side===ii?l=i.intersectTriangle(s,a,r,!0,o):l=i.intersectTriangle(r,a,s,e.side===Jr,o),l===null)return null;ud.copy(o),ud.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(ud);return c<n.near||c>n.far?null:{distance:c,point:ud.clone(),object:t}}function dd(t,e,n,i,r,a,s,o,l,c){t.getVertexPosition(o,Ao),t.getVertexPosition(l,Eo),t.getVertexPosition(c,To);const u=WF(t,e,n,i,Ao,Eo,To,cd);if(u){r&&(sd.fromBufferAttribute(r,o),od.fromBufferAttribute(r,l),ld.fromBufferAttribute(r,c),u.uv=_i.getInterpolation(cd,Ao,Eo,To,sd,od,ld,new Se)),a&&(sd.fromBufferAttribute(a,o),od.fromBufferAttribute(a,l),ld.fromBufferAttribute(a,c),u.uv1=_i.getInterpolation(cd,Ao,Eo,To,sd,od,ld,new Se)),s&&(Kb.fromBufferAttribute(s,o),Zb.fromBufferAttribute(s,l),Jb.fromBufferAttribute(s,c),u.normal=_i.getInterpolation(cd,Ao,Eo,To,Kb,Zb,Jb,new H),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a:o,b:l,c,normal:new H,materialIndex:0};_i.getNormal(Ao,Eo,To,d.normal),u.face=d}return u}class so extends mt{constructor(e=1,n=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const o=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;m("z","y","x",-1,-1,i,n,e,s,a,0),m("z","y","x",1,-1,i,n,-e,s,a,1),m("x","z","y",1,1,e,i,n,r,s,2),m("x","z","y",1,-1,e,i,-n,r,s,3),m("x","y","z",1,-1,e,n,i,r,a,4),m("x","y","z",-1,-1,e,n,-i,r,a,5),this.setIndex(l),this.setAttribute("position",new Ye(c,3)),this.setAttribute("normal",new Ye(u,3)),this.setAttribute("uv",new Ye(d,2));function m(v,p,g,y,b,x,E,M,A,C,S){const w=x/A,T=E/C,I=x/2,D=E/2,N=M/2,$=A+1,U=C+1;let Z=0,Y=0;const j=new H;for(let q=0;q<U;q++){const F=q*T-D;for(let se=0;se<$;se++){const Ce=se*w-I;j[v]=Ce*y,j[p]=F*b,j[g]=N,c.push(j.x,j.y,j.z),j[v]=0,j[p]=0,j[g]=M>0?1:-1,u.push(j.x,j.y,j.z),d.push(se/A),d.push(1-q/C),Z+=1}}for(let q=0;q<C;q++)for(let F=0;F<A;F++){const se=f+F+$*q,Ce=f+F+$*(q+1),Q=f+(F+1)+$*(q+1),he=f+(F+1)+$*q;l.push(se,Ce,he),l.push(Ce,Q,he),Y+=6}o.addGroup(h,Y,S),h+=Y,f+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new so(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function hl(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Zn(t){const e={};for(let n=0;n<t.length;n++){const i=hl(t[n]);for(const r in i)e[r]=i[r]}return e}function $F(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function IE(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:At.workingColorSpace}const RE={clone:hl,merge:Zn};var XF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,YF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Zi extends qn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=XF,this.fragmentShader=YF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=hl(e.uniforms),this.uniformsGroups=$F(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?n.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[r]={type:"m4",value:s.toArray()}:n.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class Cu extends bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new et,this.projectionMatrix=new et,this.projectionMatrixInverse=new et,this.coordinateSystem=dr}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _a=new H,Qb=new Se,ex=new Se;class pn extends Cu{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=fl*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ks*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return fl*2*Math.atan(Math.tan(ks*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){_a.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(_a.x,_a.y).multiplyScalar(-e/_a.z),_a.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(_a.x,_a.y).multiplyScalar(-e/_a.z)}getViewSize(e,n){return this.getViewBounds(e,Qb,ex),n.subVectors(ex,Qb)}setViewOffset(e,n,i,r,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ks*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*r/l,n-=s.offsetY*i/c,r*=s.width/l,i*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Po=-90,Io=1;class LE extends bt{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new pn(Po,Io,e,n);r.layers=this.layers,this.add(r);const a=new pn(Po,Io,e,n);a.layers=this.layers,this.add(a);const s=new pn(Po,Io,e,n);s.layers=this.layers,this.add(s);const o=new pn(Po,Io,e,n);o.layers=this.layers,this.add(o);const l=new pn(Po,Io,e,n);l.layers=this.layers,this.add(l);const c=new pn(Po,Io,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,a,s,o,l]=n;for(const c of n)this.remove(c);if(e===dr)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Yc)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const v=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,a),e.setRenderTarget(i,1,r),e.render(n,s),e.setRenderTarget(i,2,r),e.render(n,o),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=v,e.setRenderTarget(i,5,r),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=m,i.texture.needsPMREMUpdate=!0}}class Au extends an{constructor(e,n,i,r,a,s,o,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Qr,super(e,n,i,r,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class kE extends Ki{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Au(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:gn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new so(5,5,5),a=new Zi({name:"CubemapFromEquirect",uniforms:hl(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ii,blending:Gr});a.uniforms.tEquirect.value=n;const s=new on(r,a),o=n.minFilter;return n.minFilter===ur&&(n.minFilter=gn),new LE(1,10,this).update(e,s),n.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,i,r){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,i,r);e.setRenderTarget(a)}}const xp=new H,qF=new H,jF=new dt;class Ea{constructor(e=new H(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=xp.subVectors(i,n).cross(qF.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(xp),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||jF.getNormalMatrix(e),r=this.coplanarPoint(xp).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const is=new $n,fd=new H;class Eu{constructor(e=new Ea,n=new Ea,i=new Ea,r=new Ea,a=new Ea,s=new Ea){this.planes=[e,n,i,r,a,s]}set(e,n,i,r,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(i),o[3].copy(r),o[4].copy(a),o[5].copy(s),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=dr){const i=this.planes,r=e.elements,a=r[0],s=r[1],o=r[2],l=r[3],c=r[4],u=r[5],d=r[6],f=r[7],h=r[8],m=r[9],v=r[10],p=r[11],g=r[12],y=r[13],b=r[14],x=r[15];if(i[0].setComponents(l-a,f-c,p-h,x-g).normalize(),i[1].setComponents(l+a,f+c,p+h,x+g).normalize(),i[2].setComponents(l+s,f+u,p+m,x+y).normalize(),i[3].setComponents(l-s,f-u,p-m,x-y).normalize(),i[4].setComponents(l-o,f-d,p-v,x-b).normalize(),n===dr)i[5].setComponents(l+o,f+d,p+v,x+b).normalize();else if(n===Yc)i[5].setComponents(o,d,v,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),is.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),is.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(is)}intersectsSprite(e){return is.center.set(0,0,0),is.radius=.7071067811865476,is.applyMatrix4(e.matrixWorld),this.intersectsSphere(is)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(fd.x=r.normal.x>0?e.max.x:e.min.x,fd.y=r.normal.y>0?e.max.y:e.min.y,fd.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(fd)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function DE(){let t=null,e=!1,n=null,i=null;function r(a,s){n(a,s),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function KF(t){const e=new WeakMap;function n(o,l){const c=o.array,u=o.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),o.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function i(o,l,c){const u=l.array,d=l._updateRange,f=l.updateRanges;if(t.bindBuffer(c,o),d.count===-1&&f.length===0&&t.bufferSubData(c,0,u),f.length!==0){for(let h=0,m=f.length;h<m;h++){const v=f[h];t.bufferSubData(c,v.start*u.BYTES_PER_ELEMENT,u,v.start,v.count)}l.clearUpdateRanges()}d.count!==-1&&(t.bufferSubData(c,d.offset*u.BYTES_PER_ELEMENT,u,d.offset,d.count),d.count=-1),l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,n(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,o,l),c.version=o.version}}return{get:r,remove:a,update:s}}class El extends mt{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const a=e/2,s=n/2,o=Math.floor(i),l=Math.floor(r),c=o+1,u=l+1,d=e/o,f=n/l,h=[],m=[],v=[],p=[];for(let g=0;g<u;g++){const y=g*f-s;for(let b=0;b<c;b++){const x=b*d-a;m.push(x,-y,0),v.push(0,0,1),p.push(b/o),p.push(1-g/l)}}for(let g=0;g<l;g++)for(let y=0;y<o;y++){const b=y+c*g,x=y+c*(g+1),E=y+1+c*(g+1),M=y+1+c*g;h.push(b,x,M),h.push(x,E,M)}this.setIndex(h),this.setAttribute("position",new Ye(m,3)),this.setAttribute("normal",new Ye(v,3)),this.setAttribute("uv",new Ye(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new El(e.width,e.height,e.widthSegments,e.heightSegments)}}var ZF=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,JF=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,QF=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,eU=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tU=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,nU=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,iU=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,rU=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,aU=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,sU=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,oU=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,lU=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,cU=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,uU=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,dU=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fU=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,hU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,mU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,pU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,vU=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,gU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,yU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,_U=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,bU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,xU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,SU=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,wU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,MU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,CU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,AU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,EU="gl_FragColor = linearToOutputTexel( gl_FragColor );",TU=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,PU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,IU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,RU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,LU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,DU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,OU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,VU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,NU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,BU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,FU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,UU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,zU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,HU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,GU=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,WU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$U=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,XU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,YU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,qU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,jU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,KU=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ZU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,JU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,QU=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ez=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tz=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nz=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,iz=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,rz=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,az=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,sz=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oz=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,lz=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,cz=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,uz=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,dz=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,fz=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,hz=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,mz=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,pz=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,vz=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gz=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yz=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,_z=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,bz=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,xz=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Sz=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,wz=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Mz=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Cz=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Az=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ez=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Tz=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Pz=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Iz=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Rz=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Lz=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,kz=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Dz=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Oz=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Vz=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Nz=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Bz=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Fz=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Uz=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,zz=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Hz=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Gz=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Wz=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,$z=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Xz=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Yz=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,qz=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,jz=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Kz=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Zz=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Jz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Qz=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tH=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,iH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,rH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,aH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,sH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,oH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,dH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mH=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,pH=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,gH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,yH=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_H=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bH=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,xH=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SH=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MH=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,CH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,AH=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,EH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,TH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,PH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ht={alphahash_fragment:ZF,alphahash_pars_fragment:JF,alphamap_fragment:QF,alphamap_pars_fragment:eU,alphatest_fragment:tU,alphatest_pars_fragment:nU,aomap_fragment:iU,aomap_pars_fragment:rU,batching_pars_vertex:aU,batching_vertex:sU,begin_vertex:oU,beginnormal_vertex:lU,bsdfs:cU,iridescence_fragment:uU,bumpmap_pars_fragment:dU,clipping_planes_fragment:fU,clipping_planes_pars_fragment:hU,clipping_planes_pars_vertex:mU,clipping_planes_vertex:pU,color_fragment:vU,color_pars_fragment:gU,color_pars_vertex:yU,color_vertex:_U,common:bU,cube_uv_reflection_fragment:xU,defaultnormal_vertex:SU,displacementmap_pars_vertex:wU,displacementmap_vertex:MU,emissivemap_fragment:CU,emissivemap_pars_fragment:AU,colorspace_fragment:EU,colorspace_pars_fragment:TU,envmap_fragment:PU,envmap_common_pars_fragment:IU,envmap_pars_fragment:RU,envmap_pars_vertex:LU,envmap_physical_pars_fragment:GU,envmap_vertex:kU,fog_vertex:DU,fog_pars_vertex:OU,fog_fragment:VU,fog_pars_fragment:NU,gradientmap_pars_fragment:BU,lightmap_pars_fragment:FU,lights_lambert_fragment:UU,lights_lambert_pars_fragment:zU,lights_pars_begin:HU,lights_toon_fragment:WU,lights_toon_pars_fragment:$U,lights_phong_fragment:XU,lights_phong_pars_fragment:YU,lights_physical_fragment:qU,lights_physical_pars_fragment:jU,lights_fragment_begin:KU,lights_fragment_maps:ZU,lights_fragment_end:JU,logdepthbuf_fragment:QU,logdepthbuf_pars_fragment:ez,logdepthbuf_pars_vertex:tz,logdepthbuf_vertex:nz,map_fragment:iz,map_pars_fragment:rz,map_particle_fragment:az,map_particle_pars_fragment:sz,metalnessmap_fragment:oz,metalnessmap_pars_fragment:lz,morphinstance_vertex:cz,morphcolor_vertex:uz,morphnormal_vertex:dz,morphtarget_pars_vertex:fz,morphtarget_vertex:hz,normal_fragment_begin:mz,normal_fragment_maps:pz,normal_pars_fragment:vz,normal_pars_vertex:gz,normal_vertex:yz,normalmap_pars_fragment:_z,clearcoat_normal_fragment_begin:bz,clearcoat_normal_fragment_maps:xz,clearcoat_pars_fragment:Sz,iridescence_pars_fragment:wz,opaque_fragment:Mz,packing:Cz,premultiplied_alpha_fragment:Az,project_vertex:Ez,dithering_fragment:Tz,dithering_pars_fragment:Pz,roughnessmap_fragment:Iz,roughnessmap_pars_fragment:Rz,shadowmap_pars_fragment:Lz,shadowmap_pars_vertex:kz,shadowmap_vertex:Dz,shadowmask_pars_fragment:Oz,skinbase_vertex:Vz,skinning_pars_vertex:Nz,skinning_vertex:Bz,skinnormal_vertex:Fz,specularmap_fragment:Uz,specularmap_pars_fragment:zz,tonemapping_fragment:Hz,tonemapping_pars_fragment:Gz,transmission_fragment:Wz,transmission_pars_fragment:$z,uv_pars_fragment:Xz,uv_pars_vertex:Yz,uv_vertex:qz,worldpos_vertex:jz,background_vert:Kz,background_frag:Zz,backgroundCube_vert:Jz,backgroundCube_frag:Qz,cube_vert:eH,cube_frag:tH,depth_vert:nH,depth_frag:iH,distanceRGBA_vert:rH,distanceRGBA_frag:aH,equirect_vert:sH,equirect_frag:oH,linedashed_vert:lH,linedashed_frag:cH,meshbasic_vert:uH,meshbasic_frag:dH,meshlambert_vert:fH,meshlambert_frag:hH,meshmatcap_vert:mH,meshmatcap_frag:pH,meshnormal_vert:vH,meshnormal_frag:gH,meshphong_vert:yH,meshphong_frag:_H,meshphysical_vert:bH,meshphysical_frag:xH,meshtoon_vert:SH,meshtoon_frag:wH,points_vert:MH,points_frag:CH,shadow_vert:AH,shadow_frag:EH,sprite_vert:TH,sprite_frag:PH},Be={common:{diffuse:{value:new Ue(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new dt},alphaMap:{value:null},alphaMapTransform:{value:new dt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new dt}},envmap:{envMap:{value:null},envMapRotation:{value:new dt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new dt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new dt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new dt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new dt},normalScale:{value:new Se(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new dt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new dt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new dt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new dt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ue(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ue(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new dt},alphaTest:{value:0},uvTransform:{value:new dt}},sprite:{diffuse:{value:new Ue(16777215)},opacity:{value:1},center:{value:new Se(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new dt},alphaMap:{value:null},alphaMapTransform:{value:new dt},alphaTest:{value:0}}},Wi={basic:{uniforms:Zn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.fog]),vertexShader:ht.meshbasic_vert,fragmentShader:ht.meshbasic_frag},lambert:{uniforms:Zn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)}}]),vertexShader:ht.meshlambert_vert,fragmentShader:ht.meshlambert_frag},phong:{uniforms:Zn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)},specular:{value:new Ue(1118481)},shininess:{value:30}}]),vertexShader:ht.meshphong_vert,fragmentShader:ht.meshphong_frag},standard:{uniforms:Zn([Be.common,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.roughnessmap,Be.metalnessmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ht.meshphysical_vert,fragmentShader:ht.meshphysical_frag},toon:{uniforms:Zn([Be.common,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.gradientmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)}}]),vertexShader:ht.meshtoon_vert,fragmentShader:ht.meshtoon_frag},matcap:{uniforms:Zn([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,{matcap:{value:null}}]),vertexShader:ht.meshmatcap_vert,fragmentShader:ht.meshmatcap_frag},points:{uniforms:Zn([Be.points,Be.fog]),vertexShader:ht.points_vert,fragmentShader:ht.points_frag},dashed:{uniforms:Zn([Be.common,Be.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ht.linedashed_vert,fragmentShader:ht.linedashed_frag},depth:{uniforms:Zn([Be.common,Be.displacementmap]),vertexShader:ht.depth_vert,fragmentShader:ht.depth_frag},normal:{uniforms:Zn([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,{opacity:{value:1}}]),vertexShader:ht.meshnormal_vert,fragmentShader:ht.meshnormal_frag},sprite:{uniforms:Zn([Be.sprite,Be.fog]),vertexShader:ht.sprite_vert,fragmentShader:ht.sprite_frag},background:{uniforms:{uvTransform:{value:new dt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ht.background_vert,fragmentShader:ht.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new dt}},vertexShader:ht.backgroundCube_vert,fragmentShader:ht.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ht.cube_vert,fragmentShader:ht.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ht.equirect_vert,fragmentShader:ht.equirect_frag},distanceRGBA:{uniforms:Zn([Be.common,Be.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ht.distanceRGBA_vert,fragmentShader:ht.distanceRGBA_frag},shadow:{uniforms:Zn([Be.lights,Be.fog,{color:{value:new Ue(0)},opacity:{value:1}}]),vertexShader:ht.shadow_vert,fragmentShader:ht.shadow_frag}};Wi.physical={uniforms:Zn([Wi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new dt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new dt},clearcoatNormalScale:{value:new Se(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new dt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new dt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new dt},sheen:{value:0},sheenColor:{value:new Ue(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new dt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new dt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new dt},transmissionSamplerSize:{value:new Se},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new dt},attenuationDistance:{value:0},attenuationColor:{value:new Ue(0)},specularColor:{value:new Ue(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new dt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new dt},anisotropyVector:{value:new Se},anisotropyMap:{value:null},anisotropyMapTransform:{value:new dt}}]),vertexShader:ht.meshphysical_vert,fragmentShader:ht.meshphysical_frag};const hd={r:0,b:0,g:0},rs=new wi,IH=new et;function RH(t,e,n,i,r,a,s){const o=new Ue(0);let l=a===!0?0:1,c,u,d=null,f=0,h=null;function m(y){let b=y.isScene===!0?y.background:null;return b&&b.isTexture&&(b=(y.backgroundBlurriness>0?n:e).get(b)),b}function v(y){let b=!1;const x=m(y);x===null?g(o,l):x&&x.isColor&&(g(x,1),b=!0);const E=t.xr.getEnvironmentBlendMode();E==="additive"?i.buffers.color.setClear(0,0,0,1,s):E==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(t.autoClear||b)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function p(y,b){const x=m(b);x&&(x.isCubeTexture||x.mapping===Ml)?(u===void 0&&(u=new on(new so(1,1,1),new Zi({name:"BackgroundCubeMaterial",uniforms:hl(Wi.backgroundCube.uniforms),vertexShader:Wi.backgroundCube.vertexShader,fragmentShader:Wi.backgroundCube.fragmentShader,side:ii,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(E,M,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),rs.copy(b.backgroundRotation),rs.x*=-1,rs.y*=-1,rs.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(rs.y*=-1,rs.z*=-1),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(IH.makeRotationFromEuler(rs)),u.material.toneMapped=At.getTransfer(x.colorSpace)!==Ut,(d!==x||f!==x.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new on(new El(2,2),new Zi({name:"BackgroundMaterial",uniforms:hl(Wi.background.uniforms),vertexShader:Wi.background.vertexShader,fragmentShader:Wi.background.fragmentShader,side:Jr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=At.getTransfer(x.colorSpace)!==Ut,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||f!==x.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function g(y,b){y.getRGB(hd,IE(t)),i.buffers.color.setClear(hd.r,hd.g,hd.b,b,s)}return{getClearColor:function(){return o},setClearColor:function(y,b=1){o.set(y),l=b,g(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,g(o,l)},render:v,addToRenderList:p}}function LH(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=f(null);let a=r,s=!1;function o(w,T,I,D,N){let $=!1;const U=d(D,I,T);a!==U&&(a=U,c(a.object)),$=h(w,D,I,N),$&&m(w,D,I,N),N!==null&&e.update(N,t.ELEMENT_ARRAY_BUFFER),($||s)&&(s=!1,x(w,T,I,D),N!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(N).buffer))}function l(){return t.createVertexArray()}function c(w){return t.bindVertexArray(w)}function u(w){return t.deleteVertexArray(w)}function d(w,T,I){const D=I.wireframe===!0;let N=i[w.id];N===void 0&&(N={},i[w.id]=N);let $=N[T.id];$===void 0&&($={},N[T.id]=$);let U=$[D];return U===void 0&&(U=f(l()),$[D]=U),U}function f(w){const T=[],I=[],D=[];for(let N=0;N<n;N++)T[N]=0,I[N]=0,D[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:T,enabledAttributes:I,attributeDivisors:D,object:w,attributes:{},index:null}}function h(w,T,I,D){const N=a.attributes,$=T.attributes;let U=0;const Z=I.getAttributes();for(const Y in Z)if(Z[Y].location>=0){const q=N[Y];let F=$[Y];if(F===void 0&&(Y==="instanceMatrix"&&w.instanceMatrix&&(F=w.instanceMatrix),Y==="instanceColor"&&w.instanceColor&&(F=w.instanceColor)),q===void 0||q.attribute!==F||F&&q.data!==F.data)return!0;U++}return a.attributesNum!==U||a.index!==D}function m(w,T,I,D){const N={},$=T.attributes;let U=0;const Z=I.getAttributes();for(const Y in Z)if(Z[Y].location>=0){let q=$[Y];q===void 0&&(Y==="instanceMatrix"&&w.instanceMatrix&&(q=w.instanceMatrix),Y==="instanceColor"&&w.instanceColor&&(q=w.instanceColor));const F={};F.attribute=q,q&&q.data&&(F.data=q.data),N[Y]=F,U++}a.attributes=N,a.attributesNum=U,a.index=D}function v(){const w=a.newAttributes;for(let T=0,I=w.length;T<I;T++)w[T]=0}function p(w){g(w,0)}function g(w,T){const I=a.newAttributes,D=a.enabledAttributes,N=a.attributeDivisors;I[w]=1,D[w]===0&&(t.enableVertexAttribArray(w),D[w]=1),N[w]!==T&&(t.vertexAttribDivisor(w,T),N[w]=T)}function y(){const w=a.newAttributes,T=a.enabledAttributes;for(let I=0,D=T.length;I<D;I++)T[I]!==w[I]&&(t.disableVertexAttribArray(I),T[I]=0)}function b(w,T,I,D,N,$,U){U===!0?t.vertexAttribIPointer(w,T,I,N,$):t.vertexAttribPointer(w,T,I,D,N,$)}function x(w,T,I,D){v();const N=D.attributes,$=I.getAttributes(),U=T.defaultAttributeValues;for(const Z in $){const Y=$[Z];if(Y.location>=0){let j=N[Z];if(j===void 0&&(Z==="instanceMatrix"&&w.instanceMatrix&&(j=w.instanceMatrix),Z==="instanceColor"&&w.instanceColor&&(j=w.instanceColor)),j!==void 0){const q=j.normalized,F=j.itemSize,se=e.get(j);if(se===void 0)continue;const Ce=se.buffer,Q=se.type,he=se.bytesPerElement,J=Q===t.INT||Q===t.UNSIGNED_INT||j.gpuType===Yh;if(j.isInterleavedBufferAttribute){const W=j.data,re=W.stride,de=j.offset;if(W.isInstancedInterleavedBuffer){for(let _e=0;_e<Y.locationSize;_e++)g(Y.location+_e,W.meshPerAttribute);w.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let _e=0;_e<Y.locationSize;_e++)p(Y.location+_e);t.bindBuffer(t.ARRAY_BUFFER,Ce);for(let _e=0;_e<Y.locationSize;_e++)b(Y.location+_e,F/Y.locationSize,Q,q,re*he,(de+F/Y.locationSize*_e)*he,J)}else{if(j.isInstancedBufferAttribute){for(let W=0;W<Y.locationSize;W++)g(Y.location+W,j.meshPerAttribute);w.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=j.meshPerAttribute*j.count)}else for(let W=0;W<Y.locationSize;W++)p(Y.location+W);t.bindBuffer(t.ARRAY_BUFFER,Ce);for(let W=0;W<Y.locationSize;W++)b(Y.location+W,F/Y.locationSize,Q,q,F*he,F/Y.locationSize*W*he,J)}}else if(U!==void 0){const q=U[Z];if(q!==void 0)switch(q.length){case 2:t.vertexAttrib2fv(Y.location,q);break;case 3:t.vertexAttrib3fv(Y.location,q);break;case 4:t.vertexAttrib4fv(Y.location,q);break;default:t.vertexAttrib1fv(Y.location,q)}}}}y()}function E(){C();for(const w in i){const T=i[w];for(const I in T){const D=T[I];for(const N in D)u(D[N].object),delete D[N];delete T[I]}delete i[w]}}function M(w){if(i[w.id]===void 0)return;const T=i[w.id];for(const I in T){const D=T[I];for(const N in D)u(D[N].object),delete D[N];delete T[I]}delete i[w.id]}function A(w){for(const T in i){const I=i[T];if(I[w.id]===void 0)continue;const D=I[w.id];for(const N in D)u(D[N].object),delete D[N];delete I[w.id]}}function C(){S(),s=!0,a!==r&&(a=r,c(a.object))}function S(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:C,resetDefaultState:S,dispose:E,releaseStatesOfGeometry:M,releaseStatesOfProgram:A,initAttributes:v,enableAttribute:p,disableUnusedAttributes:y}}function kH(t,e,n){let i;function r(c){i=c}function a(c,u){t.drawArrays(i,c,u),n.update(u,i,1)}function s(c,u,d){d!==0&&(t.drawArraysInstanced(i,c,u,d),n.update(u,i,d))}function o(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,d);let h=0;for(let m=0;m<d;m++)h+=u[m];n.update(h,i,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let m=0;m<c.length;m++)s(c[m],u[m],f[m]);else{h.multiDrawArraysInstancedWEBGL(i,c,0,u,0,f,0,d);let m=0;for(let v=0;v<d;v++)m+=u[v];for(let v=0;v<f.length;v++)n.update(m,i,f[v])}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function DH(t,e,n,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(M){return!(M!==ti&&i.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(M){const A=M===Cl&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==gr&&i.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==li&&!A)}function l(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),g=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),y=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),x=h>0,E=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:h,maxTextureSize:m,maxCubemapSize:v,maxAttributes:p,maxVertexUniforms:g,maxVaryings:y,maxFragmentUniforms:b,vertexTextures:x,maxSamples:E}}function OH(t){const e=this;let n=null,i=0,r=!1,a=!1;const s=new Ea,o=new dt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||i!==0||r;return r=f,i=d.length,h},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const m=d.clippingPlanes,v=d.clipIntersection,p=d.clipShadows,g=t.get(d);if(!r||m===null||m.length===0||a&&!p)a?u(null):c();else{const y=a?0:i,b=y*4;let x=g.clippingState||null;l.value=x,x=u(m,f,b,h);for(let E=0;E!==b;++E)x[E]=n[E];g.clippingState=x,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,f,h,m){const v=d!==null?d.length:0;let p=null;if(v!==0){if(p=l.value,m!==!0||p===null){const g=h+v*4,y=f.matrixWorldInverse;o.getNormalMatrix(y),(p===null||p.length<g)&&(p=new Float32Array(g));for(let b=0,x=h;b!==v;++b,x+=4)s.copy(d[b]).applyMatrix4(y,o),s.normal.toArray(p,x),p[x+3]=s.constant}l.value=p,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,p}}function VH(t){let e=new WeakMap;function n(s,o){return o===Nc?s.mapping=Qr:o===Bc&&(s.mapping=Va),s}function i(s){if(s&&s.isTexture){const o=s.mapping;if(o===Nc||o===Bc)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new kE(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",r),n(c.texture,s.mapping)}else return null}}return s}function r(s){const o=s.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}class im extends Cu{constructor(e=-1,n=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,o=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const $o=4,tx=[.125,.215,.35,.446,.526,.582],ys=20,Sp=new im,nx=new Ue;let wp=null,Mp=0,Cp=0,Ap=!1;const ms=(1+Math.sqrt(5))/2,Ro=1/ms,ix=[new H(-ms,Ro,0),new H(ms,Ro,0),new H(-Ro,0,ms),new H(Ro,0,ms),new H(0,ms,-Ro),new H(0,ms,Ro),new H(-1,1,-1),new H(1,1,-1),new H(-1,1,1),new H(1,1,1)];class jv{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){wp=this._renderer.getRenderTarget(),Mp=this._renderer.getActiveCubeFace(),Cp=this._renderer.getActiveMipmapLevel(),Ap=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,i,r,a),n>0&&this._blur(a,0,0,n),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sx(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ax(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(wp,Mp,Cp),this._renderer.xr.enabled=Ap,e.scissorTest=!1,md(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Qr||e.mapping===Va?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),wp=this._renderer.getRenderTarget(),Mp=this._renderer.getActiveCubeFace(),Cp=this._renderer.getActiveMipmapLevel(),Ap=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:gn,minFilter:gn,generateMipmaps:!1,type:Cl,format:ti,colorSpace:oa,depthBuffer:!1},r=rx(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=rx(e,n,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=NH(a)),this._blurMaterial=BH(a,e,n)}return r}_compileMaterial(e){const n=new on(this._lodPlanes[0],e);this._renderer.compile(n,Sp)}_sceneToCubeUV(e,n,i,r){const o=new pn(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(nx),u.toneMapping=hr,u.autoClear=!1;const h=new la({name:"PMREM.Background",side:ii,depthWrite:!1,depthTest:!1}),m=new on(new so,h);let v=!1;const p=e.background;p?p.isColor&&(h.color.copy(p),e.background=null,v=!0):(h.color.copy(nx),v=!0);for(let g=0;g<6;g++){const y=g%3;y===0?(o.up.set(0,l[g],0),o.lookAt(c[g],0,0)):y===1?(o.up.set(0,0,l[g]),o.lookAt(0,c[g],0)):(o.up.set(0,l[g],0),o.lookAt(0,0,c[g]));const b=this._cubeSize;md(r,y*b,g>2?b:0,b,b),u.setRenderTarget(r),v&&u.render(m,o),u.render(e,o)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=p}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Qr||e.mapping===Va;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=sx()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ax());const a=r?this._cubemapMaterial:this._equirectMaterial,s=new on(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;md(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(s,Sp)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=ix[(r-a-1)%ix.length];this._blur(e,a-1,a,s,o)}n.autoClear=i}_blur(e,n,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,n,i,r,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new on(this._lodPlanes[r],c),f=c.uniforms,h=this._sizeLods[i]-1,m=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*ys-1),v=a/m,p=isFinite(a)?1+Math.floor(u*v):ys;p>ys&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${p} samples when the maximum is set to ${ys}`);const g=[];let y=0;for(let A=0;A<ys;++A){const C=A/v,S=Math.exp(-C*C/2);g.push(S),A===0?y+=S:A<p&&(y+=2*S)}for(let A=0;A<g.length;A++)g[A]=g[A]/y;f.envMap.value=e.texture,f.samples.value=p,f.weights.value=g,f.latitudinal.value=s==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:b}=this;f.dTheta.value=m,f.mipInt.value=b-i;const x=this._sizeLods[r],E=3*x*(r>b-$o?r-b+$o:0),M=4*(this._cubeSize-x);md(n,E,M,3*x,2*x),l.setRenderTarget(n),l.render(d,Sp)}}function NH(t){const e=[],n=[],i=[];let r=t;const a=t-$o+1+tx.length;for(let s=0;s<a;s++){const o=Math.pow(2,r);n.push(o);let l=1/o;s>t-$o?l=tx[s-t+$o-1]:s===0&&(l=0),i.push(l);const c=1/(o-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,m=6,v=3,p=2,g=1,y=new Float32Array(v*m*h),b=new Float32Array(p*m*h),x=new Float32Array(g*m*h);for(let M=0;M<h;M++){const A=M%3*2/3-1,C=M>2?0:-1,S=[A,C,0,A+2/3,C,0,A+2/3,C+1,0,A,C,0,A+2/3,C+1,0,A,C+1,0];y.set(S,v*m*M),b.set(f,p*m*M);const w=[M,M,M,M,M,M];x.set(w,g*m*M)}const E=new mt;E.setAttribute("position",new Vt(y,v)),E.setAttribute("uv",new Vt(b,p)),E.setAttribute("faceIndex",new Vt(x,g)),e.push(E),r>$o&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function rx(t,e,n){const i=new Ki(t,e,n);return i.texture.mapping=Ml,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function md(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function BH(t,e,n){const i=new Float32Array(ys),r=new H(0,1,0);return new Zi({name:"SphericalGaussianBlur",defines:{n:ys,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:r0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Gr,depthTest:!1,depthWrite:!1})}function ax(){return new Zi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:r0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Gr,depthTest:!1,depthWrite:!1})}function sx(){return new Zi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:r0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Gr,depthTest:!1,depthWrite:!1})}function r0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function FH(t){let e=new WeakMap,n=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===Nc||l===Bc,u=l===Qr||l===Va;if(c||u){let d=e.get(o);const f=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return n===null&&(n=new jv(t)),d=c?n.fromEquirectangular(o,d):n.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const h=o.image;return c&&h&&h.height>0||u&&h&&r(h)?(n===null&&(n=new jv(t)),d=c?n.fromEquirectangular(o):n.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",a),d.texture):null}}}return o}function r(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:s}}function UH(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&el("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function zH(t,e,n,i){const r={},a=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const m in f.attributes)e.remove(f.attributes[m]);for(const m in f.morphAttributes){const v=f.morphAttributes[m];for(let p=0,g=v.length;p<g;p++)e.remove(v[p])}f.removeEventListener("dispose",s),delete r[f.id];const h=a.get(f);h&&(e.remove(h),a.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function o(d,f){return r[f.id]===!0||(f.addEventListener("dispose",s),r[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const m in f)e.update(f[m],t.ARRAY_BUFFER);const h=d.morphAttributes;for(const m in h){const v=h[m];for(let p=0,g=v.length;p<g;p++)e.update(v[p],t.ARRAY_BUFFER)}}function c(d){const f=[],h=d.index,m=d.attributes.position;let v=0;if(h!==null){const y=h.array;v=h.version;for(let b=0,x=y.length;b<x;b+=3){const E=y[b+0],M=y[b+1],A=y[b+2];f.push(E,M,M,A,A,E)}}else if(m!==void 0){const y=m.array;v=m.version;for(let b=0,x=y.length/3-1;b<x;b+=3){const E=b+0,M=b+1,A=b+2;f.push(E,M,M,A,A,E)}}else return;const p=new(CE(f)?i0:n0)(f,1);p.version=v;const g=a.get(d);g&&e.remove(g),a.set(d,p)}function u(d){const f=a.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return a.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function HH(t,e,n){let i;function r(f){i=f}let a,s;function o(f){a=f.type,s=f.bytesPerElement}function l(f,h){t.drawElements(i,h,a,f*s),n.update(h,i,1)}function c(f,h,m){m!==0&&(t.drawElementsInstanced(i,h,a,f*s,m),n.update(h,i,m))}function u(f,h,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,h,0,a,f,0,m);let p=0;for(let g=0;g<m;g++)p+=h[g];n.update(p,i,1)}function d(f,h,m,v){if(m===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<f.length;g++)c(f[g]/s,h[g],v[g]);else{p.multiDrawElementsInstancedWEBGL(i,h,0,a,f,0,v,0,m);let g=0;for(let y=0;y<m;y++)g+=h[y];for(let y=0;y<v.length;y++)n.update(g,i,v[y])}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function GH(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,o){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=o*(a/3);break;case t.LINES:n.lines+=o*(a/2);break;case t.LINE_STRIP:n.lines+=o*(a-1);break;case t.LINE_LOOP:n.lines+=o*a;break;case t.POINTS:n.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function WH(t,e,n){const i=new WeakMap,r=new Lt;function a(s,o,l){const c=s.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=u!==void 0?u.length:0;let f=i.get(o);if(f===void 0||f.count!==d){let S=function(){A.dispose(),i.delete(o),o.removeEventListener("dispose",S)};f!==void 0&&f.texture.dispose();const h=o.morphAttributes.position!==void 0,m=o.morphAttributes.normal!==void 0,v=o.morphAttributes.color!==void 0,p=o.morphAttributes.position||[],g=o.morphAttributes.normal||[],y=o.morphAttributes.color||[];let b=0;h===!0&&(b=1),m===!0&&(b=2),v===!0&&(b=3);let x=o.attributes.position.count*b,E=1;x>e.maxTextureSize&&(E=Math.ceil(x/e.maxTextureSize),x=e.maxTextureSize);const M=new Float32Array(x*E*4*d),A=new tm(M,x,E,d);A.type=li,A.needsUpdate=!0;const C=b*4;for(let w=0;w<d;w++){const T=p[w],I=g[w],D=y[w],N=x*E*4*w;for(let $=0;$<T.count;$++){const U=$*C;h===!0&&(r.fromBufferAttribute(T,$),M[N+U+0]=r.x,M[N+U+1]=r.y,M[N+U+2]=r.z,M[N+U+3]=0),m===!0&&(r.fromBufferAttribute(I,$),M[N+U+4]=r.x,M[N+U+5]=r.y,M[N+U+6]=r.z,M[N+U+7]=0),v===!0&&(r.fromBufferAttribute(D,$),M[N+U+8]=r.x,M[N+U+9]=r.y,M[N+U+10]=r.z,M[N+U+11]=D.itemSize===4?r.w:1)}}f={count:d,texture:A,size:new Se(x,E)},i.set(o,f),o.addEventListener("dispose",S)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let h=0;for(let v=0;v<c.length;v++)h+=c[v];const m=o.morphTargetsRelative?1:1-h;l.getUniforms().setValue(t,"morphTargetBaseInfluence",m),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:a}}function $H(t,e,n,i){let r=new WeakMap;function a(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;r.get(f)!==c&&(f.update(),r.set(f,c))}return d}function s(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:a,dispose:s}}class a0 extends an{constructor(e,n,i,r,a,s,o,l,c,u=Ls){if(u!==Ls&&u!==Xs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Ls&&(i=ea),i===void 0&&u===Xs&&(i=$s),super(null,r,a,s,o,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:An,this.minFilter=l!==void 0?l:An,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const OE=new an,ox=new a0(1,1),VE=new tm,NE=new t0,BE=new Au,lx=[],cx=[],ux=new Float32Array(16),dx=new Float32Array(9),fx=new Float32Array(4);function Tl(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let a=lx[r];if(a===void 0&&(a=new Float32Array(r),lx[r]=a),e!==0){i.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=n,t[s].toArray(a,o)}return a}function xn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Sn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function rm(t,e){let n=cx[e];n===void 0&&(n=new Int32Array(e),cx[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function XH(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function YH(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xn(n,e))return;t.uniform2fv(this.addr,e),Sn(n,e)}}function qH(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(xn(n,e))return;t.uniform3fv(this.addr,e),Sn(n,e)}}function jH(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xn(n,e))return;t.uniform4fv(this.addr,e),Sn(n,e)}}function KH(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(xn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Sn(n,e)}else{if(xn(n,i))return;fx.set(i),t.uniformMatrix2fv(this.addr,!1,fx),Sn(n,i)}}function ZH(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(xn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Sn(n,e)}else{if(xn(n,i))return;dx.set(i),t.uniformMatrix3fv(this.addr,!1,dx),Sn(n,i)}}function JH(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(xn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Sn(n,e)}else{if(xn(n,i))return;ux.set(i),t.uniformMatrix4fv(this.addr,!1,ux),Sn(n,i)}}function QH(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function e4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xn(n,e))return;t.uniform2iv(this.addr,e),Sn(n,e)}}function t4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(xn(n,e))return;t.uniform3iv(this.addr,e),Sn(n,e)}}function n4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xn(n,e))return;t.uniform4iv(this.addr,e),Sn(n,e)}}function i4(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function r4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xn(n,e))return;t.uniform2uiv(this.addr,e),Sn(n,e)}}function a4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(xn(n,e))return;t.uniform3uiv(this.addr,e),Sn(n,e)}}function s4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xn(n,e))return;t.uniform4uiv(this.addr,e),Sn(n,e)}}function o4(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let a;this.type===t.SAMPLER_2D_SHADOW?(ox.compareFunction=Jy,a=ox):a=OE,n.setTexture2D(e||a,r)}function l4(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||NE,r)}function c4(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||BE,r)}function u4(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||VE,r)}function d4(t){switch(t){case 5126:return XH;case 35664:return YH;case 35665:return qH;case 35666:return jH;case 35674:return KH;case 35675:return ZH;case 35676:return JH;case 5124:case 35670:return QH;case 35667:case 35671:return e4;case 35668:case 35672:return t4;case 35669:case 35673:return n4;case 5125:return i4;case 36294:return r4;case 36295:return a4;case 36296:return s4;case 35678:case 36198:case 36298:case 36306:case 35682:return o4;case 35679:case 36299:case 36307:return l4;case 35680:case 36300:case 36308:case 36293:return c4;case 36289:case 36303:case 36311:case 36292:return u4}}function f4(t,e){t.uniform1fv(this.addr,e)}function h4(t,e){const n=Tl(e,this.size,2);t.uniform2fv(this.addr,n)}function m4(t,e){const n=Tl(e,this.size,3);t.uniform3fv(this.addr,n)}function p4(t,e){const n=Tl(e,this.size,4);t.uniform4fv(this.addr,n)}function v4(t,e){const n=Tl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function g4(t,e){const n=Tl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function y4(t,e){const n=Tl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function _4(t,e){t.uniform1iv(this.addr,e)}function b4(t,e){t.uniform2iv(this.addr,e)}function x4(t,e){t.uniform3iv(this.addr,e)}function S4(t,e){t.uniform4iv(this.addr,e)}function w4(t,e){t.uniform1uiv(this.addr,e)}function M4(t,e){t.uniform2uiv(this.addr,e)}function C4(t,e){t.uniform3uiv(this.addr,e)}function A4(t,e){t.uniform4uiv(this.addr,e)}function E4(t,e,n){const i=this.cache,r=e.length,a=rm(n,r);xn(i,a)||(t.uniform1iv(this.addr,a),Sn(i,a));for(let s=0;s!==r;++s)n.setTexture2D(e[s]||OE,a[s])}function T4(t,e,n){const i=this.cache,r=e.length,a=rm(n,r);xn(i,a)||(t.uniform1iv(this.addr,a),Sn(i,a));for(let s=0;s!==r;++s)n.setTexture3D(e[s]||NE,a[s])}function P4(t,e,n){const i=this.cache,r=e.length,a=rm(n,r);xn(i,a)||(t.uniform1iv(this.addr,a),Sn(i,a));for(let s=0;s!==r;++s)n.setTextureCube(e[s]||BE,a[s])}function I4(t,e,n){const i=this.cache,r=e.length,a=rm(n,r);xn(i,a)||(t.uniform1iv(this.addr,a),Sn(i,a));for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||VE,a[s])}function R4(t){switch(t){case 5126:return f4;case 35664:return h4;case 35665:return m4;case 35666:return p4;case 35674:return v4;case 35675:return g4;case 35676:return y4;case 5124:case 35670:return _4;case 35667:case 35671:return b4;case 35668:case 35672:return x4;case 35669:case 35673:return S4;case 5125:return w4;case 36294:return M4;case 36295:return C4;case 36296:return A4;case 35678:case 36198:case 36298:case 36306:case 35682:return E4;case 35679:case 36299:case 36307:return T4;case 35680:case 36300:case 36308:case 36293:return P4;case 36289:case 36303:case 36311:case 36292:return I4}}class L4{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=d4(n.type)}}class k4{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=R4(n.type)}}class D4{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const o=r[a];o.setValue(e,n[o.id],i)}}}const Ep=/(\w+)(\])?(\[|\.)?/g;function hx(t,e){t.seq.push(e),t.map[e.id]=e}function O4(t,e,n){const i=t.name,r=i.length;for(Ep.lastIndex=0;;){const a=Ep.exec(i),s=Ep.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===r){hx(n,c===void 0?new L4(o,t,e):new k4(o,t,e));break}else{let d=n.map[o];d===void 0&&(d=new D4(o),hx(n,d)),n=d}}}class Qd{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(n,r),s=e.getUniformLocation(n,a.name);O4(a,s,this)}}setValue(e,n,i,r){const a=this.map[n];a!==void 0&&a.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let a=0,s=n.length;a!==s;++a){const o=n[a],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in n&&i.push(s)}return i}}function mx(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const V4=37297;let N4=0;function B4(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=r;s<a;s++){const o=s+1;i.push(`${o===e?">":" "} ${o}: ${n[s]}`)}return i.join(`
`)}function F4(t){const e=At.getPrimaries(At.workingColorSpace),n=At.getPrimaries(t);let i;switch(e===n?i="":e===$c&&n===Wc?i="LinearDisplayP3ToLinearSRGB":e===Wc&&n===$c&&(i="LinearSRGBToLinearDisplayP3"),t){case oa:case Mu:return[i,"LinearTransferOETF"];case gi:case em:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function px(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const s=parseInt(a[1]);return n.toUpperCase()+`

`+r+`

`+B4(t.getShaderSource(e),s)}else return r}function U4(t,e){const n=F4(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function z4(t,e){let n;switch(e){case aE:n="Linear";break;case sE:n="Reinhard";break;case oE:n="Cineon";break;case $h:n="ACESFilmic";break;case cE:n="AgX";break;case uE:n="Neutral";break;case lE:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const pd=new H;function H4(){At.getLuminanceCoefficients(pd);const t=pd.x.toFixed(4),e=pd.y.toFixed(4),n=pd.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function G4(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ql).join(`
`)}function W4(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function $4(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=t.getActiveAttrib(e,r),s=a.name;let o=1;a.type===t.FLOAT_MAT2&&(o=2),a.type===t.FLOAT_MAT3&&(o=3),a.type===t.FLOAT_MAT4&&(o=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:o}}return n}function Ql(t){return t!==""}function vx(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gx(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const X4=/^[ \t]*#include +<([\w\d./]+)>/gm;function Kv(t){return t.replace(X4,q4)}const Y4=new Map;function q4(t,e){let n=ht[e];if(n===void 0){const i=Y4.get(e);if(i!==void 0)n=ht[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Kv(n)}const j4=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yx(t){return t.replace(j4,K4)}function K4(t,e,n,i){let r="";for(let a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function _x(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Z4(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Fy?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Uy?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===or&&(e="SHADOWMAP_TYPE_VSM"),e}function J4(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Qr:case Va:e="ENVMAP_TYPE_CUBE";break;case Ml:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Q4(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Va:e="ENVMAP_MODE_REFRACTION";break}return e}function e5(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Su:e="ENVMAP_BLENDING_MULTIPLY";break;case iE:e="ENVMAP_BLENDING_MIX";break;case rE:e="ENVMAP_BLENDING_ADD";break}return e}function t5(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function n5(t,e,n,i){const r=t.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const l=Z4(n),c=J4(n),u=Q4(n),d=e5(n),f=t5(n),h=G4(n),m=W4(a),v=r.createProgram();let p,g,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Ql).join(`
`),p.length>0&&(p+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Ql).join(`
`),g.length>0&&(g+=`
`)):(p=[_x(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ql).join(`
`),g=[_x(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==hr?"#define TONE_MAPPING":"",n.toneMapping!==hr?ht.tonemapping_pars_fragment:"",n.toneMapping!==hr?z4("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ht.colorspace_pars_fragment,U4("linearToOutputTexel",n.outputColorSpace),H4(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ql).join(`
`)),s=Kv(s),s=vx(s,n),s=gx(s,n),o=Kv(o),o=vx(o,n),o=gx(o,n),s=yx(s),o=yx(o),n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,p=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+p,g=["#define varying in",n.glslVersion===qv?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===qv?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=y+p+s,x=y+g+o,E=mx(r,r.VERTEX_SHADER,b),M=mx(r,r.FRAGMENT_SHADER,x);r.attachShader(v,E),r.attachShader(v,M),n.index0AttributeName!==void 0?r.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v);function A(T){if(t.debug.checkShaderErrors){const I=r.getProgramInfoLog(v).trim(),D=r.getShaderInfoLog(E).trim(),N=r.getShaderInfoLog(M).trim();let $=!0,U=!0;if(r.getProgramParameter(v,r.LINK_STATUS)===!1)if($=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,v,E,M);else{const Z=px(r,E,"vertex"),Y=px(r,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,r.VALIDATE_STATUS)+`

Material Name: `+T.name+`
Material Type: `+T.type+`

Program Info Log: `+I+`
`+Z+`
`+Y)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(D===""||N==="")&&(U=!1);U&&(T.diagnostics={runnable:$,programLog:I,vertexShader:{log:D,prefix:p},fragmentShader:{log:N,prefix:g}})}r.deleteShader(E),r.deleteShader(M),C=new Qd(r,v),S=$4(r,v)}let C;this.getUniforms=function(){return C===void 0&&A(this),C};let S;this.getAttributes=function(){return S===void 0&&A(this),S};let w=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return w===!1&&(w=r.getProgramParameter(v,V4)),w},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=N4++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=M,this}let i5=0;class r5{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new a5(e),n.set(e,i)),i}}class a5{constructor(e){this.id=i5++,this.code=e,this.usedTimes=0}}function s5(t,e,n,i,r,a,s){const o=new nm,l=new r5,c=new Set,u=[],d=r.logarithmicDepthBuffer,f=r.vertexTextures;let h=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(S){return c.add(S),S===0?"uv":`uv${S}`}function p(S,w,T,I,D){const N=I.fog,$=D.geometry,U=S.isMeshStandardMaterial?I.environment:null,Z=(S.isMeshStandardMaterial?n:e).get(S.envMap||U),Y=Z&&Z.mapping===Ml?Z.image.height:null,j=m[S.type];S.precision!==null&&(h=r.getMaxPrecision(S.precision),h!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",h,"instead."));const q=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,F=q!==void 0?q.length:0;let se=0;$.morphAttributes.position!==void 0&&(se=1),$.morphAttributes.normal!==void 0&&(se=2),$.morphAttributes.color!==void 0&&(se=3);let Ce,Q,he,J;if(j){const Et=Wi[j];Ce=Et.vertexShader,Q=Et.fragmentShader}else Ce=S.vertexShader,Q=S.fragmentShader,l.update(S),he=l.getVertexShaderID(S),J=l.getFragmentShaderID(S);const W=t.getRenderTarget(),re=D.isInstancedMesh===!0,de=D.isBatchedMesh===!0,_e=!!S.map,me=!!S.matcap,V=!!Z,L=!!S.aoMap,k=!!S.lightMap,z=!!S.bumpMap,G=!!S.normalMap,K=!!S.displacementMap,ee=!!S.emissiveMap,fe=!!S.metalnessMap,O=!!S.roughnessMap,R=S.anisotropy>0,X=S.clearcoat>0,le=S.dispersion>0,ne=S.iridescence>0,ce=S.sheen>0,Pe=S.transmission>0,we=R&&!!S.anisotropyMap,Re=X&&!!S.clearcoatMap,ze=X&&!!S.clearcoatNormalMap,Ie=X&&!!S.clearcoatRoughnessMap,ke=ne&&!!S.iridescenceMap,st=ne&&!!S.iridescenceThicknessMap,qe=ce&&!!S.sheenColorMap,He=ce&&!!S.sheenRoughnessMap,ot=!!S.specularMap,Qe=!!S.specularColorMap,gt=!!S.specularIntensityMap,ie=Pe&&!!S.transmissionMap,De=Pe&&!!S.thicknessMap,Me=!!S.gradientMap,Ae=!!S.alphaMap,Ne=S.alphaTest>0,rt=!!S.alphaHash,St=!!S.extensions;let fn=hr;S.toneMapped&&(W===null||W.isXRRenderTarget===!0)&&(fn=t.toneMapping);const Rn={shaderID:j,shaderType:S.type,shaderName:S.name,vertexShader:Ce,fragmentShader:Q,defines:S.defines,customVertexShaderID:he,customFragmentShaderID:J,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:h,batching:de,batchingColor:de&&D._colorsTexture!==null,instancing:re,instancingColor:re&&D.instanceColor!==null,instancingMorph:re&&D.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:W===null?t.outputColorSpace:W.isXRRenderTarget===!0?W.texture.colorSpace:oa,alphaToCoverage:!!S.alphaToCoverage,map:_e,matcap:me,envMap:V,envMapMode:V&&Z.mapping,envMapCubeUVHeight:Y,aoMap:L,lightMap:k,bumpMap:z,normalMap:G,displacementMap:f&&K,emissiveMap:ee,normalMapObjectSpace:G&&S.normalMapType===gE,normalMapTangentSpace:G&&S.normalMapType===$a,metalnessMap:fe,roughnessMap:O,anisotropy:R,anisotropyMap:we,clearcoat:X,clearcoatMap:Re,clearcoatNormalMap:ze,clearcoatRoughnessMap:Ie,dispersion:le,iridescence:ne,iridescenceMap:ke,iridescenceThicknessMap:st,sheen:ce,sheenColorMap:qe,sheenRoughnessMap:He,specularMap:ot,specularColorMap:Qe,specularIntensityMap:gt,transmission:Pe,transmissionMap:ie,thicknessMap:De,gradientMap:Me,opaque:S.transparent===!1&&S.blending===Rs&&S.alphaToCoverage===!1,alphaMap:Ae,alphaTest:Ne,alphaHash:rt,combine:S.combine,mapUv:_e&&v(S.map.channel),aoMapUv:L&&v(S.aoMap.channel),lightMapUv:k&&v(S.lightMap.channel),bumpMapUv:z&&v(S.bumpMap.channel),normalMapUv:G&&v(S.normalMap.channel),displacementMapUv:K&&v(S.displacementMap.channel),emissiveMapUv:ee&&v(S.emissiveMap.channel),metalnessMapUv:fe&&v(S.metalnessMap.channel),roughnessMapUv:O&&v(S.roughnessMap.channel),anisotropyMapUv:we&&v(S.anisotropyMap.channel),clearcoatMapUv:Re&&v(S.clearcoatMap.channel),clearcoatNormalMapUv:ze&&v(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ie&&v(S.clearcoatRoughnessMap.channel),iridescenceMapUv:ke&&v(S.iridescenceMap.channel),iridescenceThicknessMapUv:st&&v(S.iridescenceThicknessMap.channel),sheenColorMapUv:qe&&v(S.sheenColorMap.channel),sheenRoughnessMapUv:He&&v(S.sheenRoughnessMap.channel),specularMapUv:ot&&v(S.specularMap.channel),specularColorMapUv:Qe&&v(S.specularColorMap.channel),specularIntensityMapUv:gt&&v(S.specularIntensityMap.channel),transmissionMapUv:ie&&v(S.transmissionMap.channel),thicknessMapUv:De&&v(S.thicknessMap.channel),alphaMapUv:Ae&&v(S.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(G||R),vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:D.isPoints===!0&&!!$.attributes.uv&&(_e||Ae),fog:!!N,useFog:S.fog===!0,fogExp2:!!N&&N.isFogExp2,flatShading:S.flatShading===!0,sizeAttenuation:S.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:D.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:F,morphTextureStride:se,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numSpotLightMaps:w.spotLightMap.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numDirLightShadows:w.directionalShadowMap.length,numPointLightShadows:w.pointShadowMap.length,numSpotLightShadows:w.spotShadowMap.length,numSpotLightShadowsWithMaps:w.numSpotLightShadowsWithMaps,numLightProbes:w.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:S.dithering,shadowMapEnabled:t.shadowMap.enabled&&T.length>0,shadowMapType:t.shadowMap.type,toneMapping:fn,decodeVideoTexture:_e&&S.map.isVideoTexture===!0&&At.getTransfer(S.map.colorSpace)===Ut,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===$i,flipSided:S.side===ii,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionClipCullDistance:St&&S.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(St&&S.extensions.multiDraw===!0||de)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:S.customProgramCacheKey()};return Rn.vertexUv1s=c.has(1),Rn.vertexUv2s=c.has(2),Rn.vertexUv3s=c.has(3),c.clear(),Rn}function g(S){const w=[];if(S.shaderID?w.push(S.shaderID):(w.push(S.customVertexShaderID),w.push(S.customFragmentShaderID)),S.defines!==void 0)for(const T in S.defines)w.push(T),w.push(S.defines[T]);return S.isRawShaderMaterial===!1&&(y(w,S),b(w,S),w.push(t.outputColorSpace)),w.push(S.customProgramCacheKey),w.join()}function y(S,w){S.push(w.precision),S.push(w.outputColorSpace),S.push(w.envMapMode),S.push(w.envMapCubeUVHeight),S.push(w.mapUv),S.push(w.alphaMapUv),S.push(w.lightMapUv),S.push(w.aoMapUv),S.push(w.bumpMapUv),S.push(w.normalMapUv),S.push(w.displacementMapUv),S.push(w.emissiveMapUv),S.push(w.metalnessMapUv),S.push(w.roughnessMapUv),S.push(w.anisotropyMapUv),S.push(w.clearcoatMapUv),S.push(w.clearcoatNormalMapUv),S.push(w.clearcoatRoughnessMapUv),S.push(w.iridescenceMapUv),S.push(w.iridescenceThicknessMapUv),S.push(w.sheenColorMapUv),S.push(w.sheenRoughnessMapUv),S.push(w.specularMapUv),S.push(w.specularColorMapUv),S.push(w.specularIntensityMapUv),S.push(w.transmissionMapUv),S.push(w.thicknessMapUv),S.push(w.combine),S.push(w.fogExp2),S.push(w.sizeAttenuation),S.push(w.morphTargetsCount),S.push(w.morphAttributeCount),S.push(w.numDirLights),S.push(w.numPointLights),S.push(w.numSpotLights),S.push(w.numSpotLightMaps),S.push(w.numHemiLights),S.push(w.numRectAreaLights),S.push(w.numDirLightShadows),S.push(w.numPointLightShadows),S.push(w.numSpotLightShadows),S.push(w.numSpotLightShadowsWithMaps),S.push(w.numLightProbes),S.push(w.shadowMapType),S.push(w.toneMapping),S.push(w.numClippingPlanes),S.push(w.numClipIntersection),S.push(w.depthPacking)}function b(S,w){o.disableAll(),w.supportsVertexTextures&&o.enable(0),w.instancing&&o.enable(1),w.instancingColor&&o.enable(2),w.instancingMorph&&o.enable(3),w.matcap&&o.enable(4),w.envMap&&o.enable(5),w.normalMapObjectSpace&&o.enable(6),w.normalMapTangentSpace&&o.enable(7),w.clearcoat&&o.enable(8),w.iridescence&&o.enable(9),w.alphaTest&&o.enable(10),w.vertexColors&&o.enable(11),w.vertexAlphas&&o.enable(12),w.vertexUv1s&&o.enable(13),w.vertexUv2s&&o.enable(14),w.vertexUv3s&&o.enable(15),w.vertexTangents&&o.enable(16),w.anisotropy&&o.enable(17),w.alphaHash&&o.enable(18),w.batching&&o.enable(19),w.dispersion&&o.enable(20),w.batchingColor&&o.enable(21),S.push(o.mask),o.disableAll(),w.fog&&o.enable(0),w.useFog&&o.enable(1),w.flatShading&&o.enable(2),w.logarithmicDepthBuffer&&o.enable(3),w.skinning&&o.enable(4),w.morphTargets&&o.enable(5),w.morphNormals&&o.enable(6),w.morphColors&&o.enable(7),w.premultipliedAlpha&&o.enable(8),w.shadowMapEnabled&&o.enable(9),w.doubleSided&&o.enable(10),w.flipSided&&o.enable(11),w.useDepthPacking&&o.enable(12),w.dithering&&o.enable(13),w.transmission&&o.enable(14),w.sheen&&o.enable(15),w.opaque&&o.enable(16),w.pointsUvs&&o.enable(17),w.decodeVideoTexture&&o.enable(18),w.alphaToCoverage&&o.enable(19),S.push(o.mask)}function x(S){const w=m[S.type];let T;if(w){const I=Wi[w];T=RE.clone(I.uniforms)}else T=S.uniforms;return T}function E(S,w){let T;for(let I=0,D=u.length;I<D;I++){const N=u[I];if(N.cacheKey===w){T=N,++T.usedTimes;break}}return T===void 0&&(T=new n5(t,w,S,a),u.push(T)),T}function M(S){if(--S.usedTimes===0){const w=u.indexOf(S);u[w]=u[u.length-1],u.pop(),S.destroy()}}function A(S){l.remove(S)}function C(){l.dispose()}return{getParameters:p,getProgramCacheKey:g,getUniforms:x,acquireProgram:E,releaseProgram:M,releaseShaderCache:A,programs:u,dispose:C}}function o5(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function i(s){t.delete(s)}function r(s,o,l){t.get(s)[o]=l}function a(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:a}}function l5(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function bx(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function xx(){const t=[];let e=0;const n=[],i=[],r=[];function a(){e=0,n.length=0,i.length=0,r.length=0}function s(d,f,h,m,v,p){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:h,groupOrder:m,renderOrder:d.renderOrder,z:v,group:p},t[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=h,g.groupOrder=m,g.renderOrder=d.renderOrder,g.z=v,g.group=p),e++,g}function o(d,f,h,m,v,p){const g=s(d,f,h,m,v,p);h.transmission>0?i.push(g):h.transparent===!0?r.push(g):n.push(g)}function l(d,f,h,m,v,p){const g=s(d,f,h,m,v,p);h.transmission>0?i.unshift(g):h.transparent===!0?r.unshift(g):n.unshift(g)}function c(d,f){n.length>1&&n.sort(d||l5),i.length>1&&i.sort(f||bx),r.length>1&&r.sort(f||bx)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:o,unshift:l,finish:u,sort:c}}function c5(){let t=new WeakMap;function e(i,r){const a=t.get(i);let s;return a===void 0?(s=new xx,t.set(i,[s])):r>=a.length?(s=new xx,a.push(s)):s=a[r],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function u5(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new H,color:new Ue};break;case"SpotLight":n={position:new H,direction:new H,color:new Ue,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new H,color:new Ue,distance:0,decay:0};break;case"HemisphereLight":n={direction:new H,skyColor:new Ue,groundColor:new Ue};break;case"RectAreaLight":n={color:new Ue,position:new H,halfWidth:new H,halfHeight:new H};break}return t[e.id]=n,n}}}function d5(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let f5=0;function h5(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function m5(t){const e=new u5,n=d5(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new H);const r=new H,a=new et,s=new et;function o(c){let u=0,d=0,f=0;for(let S=0;S<9;S++)i.probe[S].set(0,0,0);let h=0,m=0,v=0,p=0,g=0,y=0,b=0,x=0,E=0,M=0,A=0;c.sort(h5);for(let S=0,w=c.length;S<w;S++){const T=c[S],I=T.color,D=T.intensity,N=T.distance,$=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)u+=I.r*D,d+=I.g*D,f+=I.b*D;else if(T.isLightProbe){for(let U=0;U<9;U++)i.probe[U].addScaledVector(T.sh.coefficients[U],D);A++}else if(T.isDirectionalLight){const U=e.get(T);if(U.color.copy(T.color).multiplyScalar(T.intensity),T.castShadow){const Z=T.shadow,Y=n.get(T);Y.shadowIntensity=Z.intensity,Y.shadowBias=Z.bias,Y.shadowNormalBias=Z.normalBias,Y.shadowRadius=Z.radius,Y.shadowMapSize=Z.mapSize,i.directionalShadow[h]=Y,i.directionalShadowMap[h]=$,i.directionalShadowMatrix[h]=T.shadow.matrix,y++}i.directional[h]=U,h++}else if(T.isSpotLight){const U=e.get(T);U.position.setFromMatrixPosition(T.matrixWorld),U.color.copy(I).multiplyScalar(D),U.distance=N,U.coneCos=Math.cos(T.angle),U.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),U.decay=T.decay,i.spot[v]=U;const Z=T.shadow;if(T.map&&(i.spotLightMap[E]=T.map,E++,Z.updateMatrices(T),T.castShadow&&M++),i.spotLightMatrix[v]=Z.matrix,T.castShadow){const Y=n.get(T);Y.shadowIntensity=Z.intensity,Y.shadowBias=Z.bias,Y.shadowNormalBias=Z.normalBias,Y.shadowRadius=Z.radius,Y.shadowMapSize=Z.mapSize,i.spotShadow[v]=Y,i.spotShadowMap[v]=$,x++}v++}else if(T.isRectAreaLight){const U=e.get(T);U.color.copy(I).multiplyScalar(D),U.halfWidth.set(T.width*.5,0,0),U.halfHeight.set(0,T.height*.5,0),i.rectArea[p]=U,p++}else if(T.isPointLight){const U=e.get(T);if(U.color.copy(T.color).multiplyScalar(T.intensity),U.distance=T.distance,U.decay=T.decay,T.castShadow){const Z=T.shadow,Y=n.get(T);Y.shadowIntensity=Z.intensity,Y.shadowBias=Z.bias,Y.shadowNormalBias=Z.normalBias,Y.shadowRadius=Z.radius,Y.shadowMapSize=Z.mapSize,Y.shadowCameraNear=Z.camera.near,Y.shadowCameraFar=Z.camera.far,i.pointShadow[m]=Y,i.pointShadowMap[m]=$,i.pointShadowMatrix[m]=T.shadow.matrix,b++}i.point[m]=U,m++}else if(T.isHemisphereLight){const U=e.get(T);U.skyColor.copy(T.color).multiplyScalar(D),U.groundColor.copy(T.groundColor).multiplyScalar(D),i.hemi[g]=U,g++}}p>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Be.LTC_FLOAT_1,i.rectAreaLTC2=Be.LTC_FLOAT_2):(i.rectAreaLTC1=Be.LTC_HALF_1,i.rectAreaLTC2=Be.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=d,i.ambient[2]=f;const C=i.hash;(C.directionalLength!==h||C.pointLength!==m||C.spotLength!==v||C.rectAreaLength!==p||C.hemiLength!==g||C.numDirectionalShadows!==y||C.numPointShadows!==b||C.numSpotShadows!==x||C.numSpotMaps!==E||C.numLightProbes!==A)&&(i.directional.length=h,i.spot.length=v,i.rectArea.length=p,i.point.length=m,i.hemi.length=g,i.directionalShadow.length=y,i.directionalShadowMap.length=y,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=x,i.spotShadowMap.length=x,i.directionalShadowMatrix.length=y,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=x+E-M,i.spotLightMap.length=E,i.numSpotLightShadowsWithMaps=M,i.numLightProbes=A,C.directionalLength=h,C.pointLength=m,C.spotLength=v,C.rectAreaLength=p,C.hemiLength=g,C.numDirectionalShadows=y,C.numPointShadows=b,C.numSpotShadows=x,C.numSpotMaps=E,C.numLightProbes=A,i.version=f5++)}function l(c,u){let d=0,f=0,h=0,m=0,v=0;const p=u.matrixWorldInverse;for(let g=0,y=c.length;g<y;g++){const b=c[g];if(b.isDirectionalLight){const x=i.directional[d];x.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(r),x.direction.transformDirection(p),d++}else if(b.isSpotLight){const x=i.spot[h];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(p),x.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(r),x.direction.transformDirection(p),h++}else if(b.isRectAreaLight){const x=i.rectArea[m];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(p),s.identity(),a.copy(b.matrixWorld),a.premultiply(p),s.extractRotation(a),x.halfWidth.set(b.width*.5,0,0),x.halfHeight.set(0,b.height*.5,0),x.halfWidth.applyMatrix4(s),x.halfHeight.applyMatrix4(s),m++}else if(b.isPointLight){const x=i.point[f];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(p),f++}else if(b.isHemisphereLight){const x=i.hemi[v];x.direction.setFromMatrixPosition(b.matrixWorld),x.direction.transformDirection(p),v++}}}return{setup:o,setupView:l,state:i}}function Sx(t){const e=new m5(t),n=[],i=[];function r(u){c.camera=u,n.length=0,i.length=0}function a(u){n.push(u)}function s(u){i.push(u)}function o(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function p5(t){let e=new WeakMap;function n(r,a=0){const s=e.get(r);let o;return s===void 0?(o=new Sx(t),e.set(r,[o])):a>=s.length?(o=new Sx(t),s.push(o)):o=s[a],o}function i(){e=new WeakMap}return{get:n,dispose:i}}class s0 extends qn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=pE,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class o0 extends qn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const v5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,g5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function y5(t,e,n){let i=new Eu;const r=new Se,a=new Se,s=new Lt,o=new s0({depthPacking:vE}),l=new o0,c={},u=n.maxTextureSize,d={[Jr]:ii,[ii]:Jr,[$i]:$i},f=new Zi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Se},radius:{value:4}},vertexShader:v5,fragmentShader:g5}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const m=new mt;m.setAttribute("position",new Vt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new on(m,f),p=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Fy;let g=this.type;this.render=function(M,A,C){if(p.enabled===!1||p.autoUpdate===!1&&p.needsUpdate===!1||M.length===0)return;const S=t.getRenderTarget(),w=t.getActiveCubeFace(),T=t.getActiveMipmapLevel(),I=t.state;I.setBlending(Gr),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);const D=g!==or&&this.type===or,N=g===or&&this.type!==or;for(let $=0,U=M.length;$<U;$++){const Z=M[$],Y=Z.shadow;if(Y===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(Y.autoUpdate===!1&&Y.needsUpdate===!1)continue;r.copy(Y.mapSize);const j=Y.getFrameExtents();if(r.multiply(j),a.copy(Y.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(a.x=Math.floor(u/j.x),r.x=a.x*j.x,Y.mapSize.x=a.x),r.y>u&&(a.y=Math.floor(u/j.y),r.y=a.y*j.y,Y.mapSize.y=a.y)),Y.map===null||D===!0||N===!0){const F=this.type!==or?{minFilter:An,magFilter:An}:{};Y.map!==null&&Y.map.dispose(),Y.map=new Ki(r.x,r.y,F),Y.map.texture.name=Z.name+".shadowMap",Y.camera.updateProjectionMatrix()}t.setRenderTarget(Y.map),t.clear();const q=Y.getViewportCount();for(let F=0;F<q;F++){const se=Y.getViewport(F);s.set(a.x*se.x,a.y*se.y,a.x*se.z,a.y*se.w),I.viewport(s),Y.updateMatrices(Z,F),i=Y.getFrustum(),x(A,C,Y.camera,Z,this.type)}Y.isPointLightShadow!==!0&&this.type===or&&y(Y,C),Y.needsUpdate=!1}g=this.type,p.needsUpdate=!1,t.setRenderTarget(S,w,T)};function y(M,A){const C=e.update(v);f.defines.VSM_SAMPLES!==M.blurSamples&&(f.defines.VSM_SAMPLES=M.blurSamples,h.defines.VSM_SAMPLES=M.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Ki(r.x,r.y)),f.uniforms.shadow_pass.value=M.map.texture,f.uniforms.resolution.value=M.mapSize,f.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(A,null,C,f,v,null),h.uniforms.shadow_pass.value=M.mapPass.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(A,null,C,h,v,null)}function b(M,A,C,S){let w=null;const T=C.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(T!==void 0)w=T;else if(w=C.isPointLight===!0?l:o,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const I=w.uuid,D=A.uuid;let N=c[I];N===void 0&&(N={},c[I]=N);let $=N[D];$===void 0&&($=w.clone(),N[D]=$,A.addEventListener("dispose",E)),w=$}if(w.visible=A.visible,w.wireframe=A.wireframe,S===or?w.side=A.shadowSide!==null?A.shadowSide:A.side:w.side=A.shadowSide!==null?A.shadowSide:d[A.side],w.alphaMap=A.alphaMap,w.alphaTest=A.alphaTest,w.map=A.map,w.clipShadows=A.clipShadows,w.clippingPlanes=A.clippingPlanes,w.clipIntersection=A.clipIntersection,w.displacementMap=A.displacementMap,w.displacementScale=A.displacementScale,w.displacementBias=A.displacementBias,w.wireframeLinewidth=A.wireframeLinewidth,w.linewidth=A.linewidth,C.isPointLight===!0&&w.isMeshDistanceMaterial===!0){const I=t.properties.get(w);I.light=C}return w}function x(M,A,C,S,w){if(M.visible===!1)return;if(M.layers.test(A.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&w===or)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,M.matrixWorld);const D=e.update(M),N=M.material;if(Array.isArray(N)){const $=D.groups;for(let U=0,Z=$.length;U<Z;U++){const Y=$[U],j=N[Y.materialIndex];if(j&&j.visible){const q=b(M,j,S,w);M.onBeforeShadow(t,M,A,C,D,q,Y),t.renderBufferDirect(C,null,D,q,M,Y),M.onAfterShadow(t,M,A,C,D,q,Y)}}}else if(N.visible){const $=b(M,N,S,w);M.onBeforeShadow(t,M,A,C,D,$,null),t.renderBufferDirect(C,null,D,$,M,null),M.onAfterShadow(t,M,A,C,D,$,null)}}const I=M.children;for(let D=0,N=I.length;D<N;D++)x(I[D],A,C,S,w)}function E(M){M.target.removeEventListener("dispose",E);for(const C in c){const S=c[C],w=M.target.uuid;w in S&&(S[w].dispose(),delete S[w])}}}function _5(t){function e(){let ie=!1;const De=new Lt;let Me=null;const Ae=new Lt(0,0,0,0);return{setMask:function(Ne){Me!==Ne&&!ie&&(t.colorMask(Ne,Ne,Ne,Ne),Me=Ne)},setLocked:function(Ne){ie=Ne},setClear:function(Ne,rt,St,fn,Rn){Rn===!0&&(Ne*=fn,rt*=fn,St*=fn),De.set(Ne,rt,St,fn),Ae.equals(De)===!1&&(t.clearColor(Ne,rt,St,fn),Ae.copy(De))},reset:function(){ie=!1,Me=null,Ae.set(-1,0,0,0)}}}function n(){let ie=!1,De=null,Me=null,Ae=null;return{setTest:function(Ne){Ne?J(t.DEPTH_TEST):W(t.DEPTH_TEST)},setMask:function(Ne){De!==Ne&&!ie&&(t.depthMask(Ne),De=Ne)},setFunc:function(Ne){if(Me!==Ne){switch(Ne){case KA:t.depthFunc(t.NEVER);break;case ZA:t.depthFunc(t.ALWAYS);break;case JA:t.depthFunc(t.LESS);break;case Vc:t.depthFunc(t.LEQUAL);break;case QA:t.depthFunc(t.EQUAL);break;case eE:t.depthFunc(t.GEQUAL);break;case tE:t.depthFunc(t.GREATER);break;case nE:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Me=Ne}},setLocked:function(Ne){ie=Ne},setClear:function(Ne){Ae!==Ne&&(t.clearDepth(Ne),Ae=Ne)},reset:function(){ie=!1,De=null,Me=null,Ae=null}}}function i(){let ie=!1,De=null,Me=null,Ae=null,Ne=null,rt=null,St=null,fn=null,Rn=null;return{setTest:function(Et){ie||(Et?J(t.STENCIL_TEST):W(t.STENCIL_TEST))},setMask:function(Et){De!==Et&&!ie&&(t.stencilMask(Et),De=Et)},setFunc:function(Et,Ar,ir){(Me!==Et||Ae!==Ar||Ne!==ir)&&(t.stencilFunc(Et,Ar,ir),Me=Et,Ae=Ar,Ne=ir)},setOp:function(Et,Ar,ir){(rt!==Et||St!==Ar||fn!==ir)&&(t.stencilOp(Et,Ar,ir),rt=Et,St=Ar,fn=ir)},setLocked:function(Et){ie=Et},setClear:function(Et){Rn!==Et&&(t.clearStencil(Et),Rn=Et)},reset:function(){ie=!1,De=null,Me=null,Ae=null,Ne=null,rt=null,St=null,fn=null,Rn=null}}}const r=new e,a=new n,s=new i,o=new WeakMap,l=new WeakMap;let c={},u={},d=new WeakMap,f=[],h=null,m=!1,v=null,p=null,g=null,y=null,b=null,x=null,E=null,M=new Ue(0,0,0),A=0,C=!1,S=null,w=null,T=null,I=null,D=null;const N=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,U=0;const Z=t.getParameter(t.VERSION);Z.indexOf("WebGL")!==-1?(U=parseFloat(/^WebGL (\d)/.exec(Z)[1]),$=U>=1):Z.indexOf("OpenGL ES")!==-1&&(U=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),$=U>=2);let Y=null,j={};const q=t.getParameter(t.SCISSOR_BOX),F=t.getParameter(t.VIEWPORT),se=new Lt().fromArray(q),Ce=new Lt().fromArray(F);function Q(ie,De,Me,Ae){const Ne=new Uint8Array(4),rt=t.createTexture();t.bindTexture(ie,rt),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let St=0;St<Me;St++)ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY?t.texImage3D(De,0,t.RGBA,1,1,Ae,0,t.RGBA,t.UNSIGNED_BYTE,Ne):t.texImage2D(De+St,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ne);return rt}const he={};he[t.TEXTURE_2D]=Q(t.TEXTURE_2D,t.TEXTURE_2D,1),he[t.TEXTURE_CUBE_MAP]=Q(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),he[t.TEXTURE_2D_ARRAY]=Q(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),he[t.TEXTURE_3D]=Q(t.TEXTURE_3D,t.TEXTURE_3D,1,1),r.setClear(0,0,0,1),a.setClear(1),s.setClear(0),J(t.DEPTH_TEST),a.setFunc(Vc),z(!1),G(Hv),J(t.CULL_FACE),L(Gr);function J(ie){c[ie]!==!0&&(t.enable(ie),c[ie]=!0)}function W(ie){c[ie]!==!1&&(t.disable(ie),c[ie]=!1)}function re(ie,De){return u[ie]!==De?(t.bindFramebuffer(ie,De),u[ie]=De,ie===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=De),ie===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=De),!0):!1}function de(ie,De){let Me=f,Ae=!1;if(ie){Me=d.get(De),Me===void 0&&(Me=[],d.set(De,Me));const Ne=ie.textures;if(Me.length!==Ne.length||Me[0]!==t.COLOR_ATTACHMENT0){for(let rt=0,St=Ne.length;rt<St;rt++)Me[rt]=t.COLOR_ATTACHMENT0+rt;Me.length=Ne.length,Ae=!0}}else Me[0]!==t.BACK&&(Me[0]=t.BACK,Ae=!0);Ae&&t.drawBuffers(Me)}function _e(ie){return h!==ie?(t.useProgram(ie),h=ie,!0):!1}const me={[Ia]:t.FUNC_ADD,[kA]:t.FUNC_SUBTRACT,[DA]:t.FUNC_REVERSE_SUBTRACT};me[OA]=t.MIN,me[VA]=t.MAX;const V={[NA]:t.ZERO,[BA]:t.ONE,[FA]:t.SRC_COLOR,[bf]:t.SRC_ALPHA,[$A]:t.SRC_ALPHA_SATURATE,[GA]:t.DST_COLOR,[zA]:t.DST_ALPHA,[UA]:t.ONE_MINUS_SRC_COLOR,[xf]:t.ONE_MINUS_SRC_ALPHA,[WA]:t.ONE_MINUS_DST_COLOR,[HA]:t.ONE_MINUS_DST_ALPHA,[XA]:t.CONSTANT_COLOR,[YA]:t.ONE_MINUS_CONSTANT_COLOR,[qA]:t.CONSTANT_ALPHA,[jA]:t.ONE_MINUS_CONSTANT_ALPHA};function L(ie,De,Me,Ae,Ne,rt,St,fn,Rn,Et){if(ie===Gr){m===!0&&(W(t.BLEND),m=!1);return}if(m===!1&&(J(t.BLEND),m=!0),ie!==LA){if(ie!==v||Et!==C){if((p!==Ia||b!==Ia)&&(t.blendEquation(t.FUNC_ADD),p=Ia,b=Ia),Et)switch(ie){case Rs:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Gv:t.blendFunc(t.ONE,t.ONE);break;case Wv:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case $v:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}else switch(ie){case Rs:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Gv:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Wv:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case $v:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}g=null,y=null,x=null,E=null,M.set(0,0,0),A=0,v=ie,C=Et}return}Ne=Ne||De,rt=rt||Me,St=St||Ae,(De!==p||Ne!==b)&&(t.blendEquationSeparate(me[De],me[Ne]),p=De,b=Ne),(Me!==g||Ae!==y||rt!==x||St!==E)&&(t.blendFuncSeparate(V[Me],V[Ae],V[rt],V[St]),g=Me,y=Ae,x=rt,E=St),(fn.equals(M)===!1||Rn!==A)&&(t.blendColor(fn.r,fn.g,fn.b,Rn),M.copy(fn),A=Rn),v=ie,C=!1}function k(ie,De){ie.side===$i?W(t.CULL_FACE):J(t.CULL_FACE);let Me=ie.side===ii;De&&(Me=!Me),z(Me),ie.blending===Rs&&ie.transparent===!1?L(Gr):L(ie.blending,ie.blendEquation,ie.blendSrc,ie.blendDst,ie.blendEquationAlpha,ie.blendSrcAlpha,ie.blendDstAlpha,ie.blendColor,ie.blendAlpha,ie.premultipliedAlpha),a.setFunc(ie.depthFunc),a.setTest(ie.depthTest),a.setMask(ie.depthWrite),r.setMask(ie.colorWrite);const Ae=ie.stencilWrite;s.setTest(Ae),Ae&&(s.setMask(ie.stencilWriteMask),s.setFunc(ie.stencilFunc,ie.stencilRef,ie.stencilFuncMask),s.setOp(ie.stencilFail,ie.stencilZFail,ie.stencilZPass)),ee(ie.polygonOffset,ie.polygonOffsetFactor,ie.polygonOffsetUnits),ie.alphaToCoverage===!0?J(t.SAMPLE_ALPHA_TO_COVERAGE):W(t.SAMPLE_ALPHA_TO_COVERAGE)}function z(ie){S!==ie&&(ie?t.frontFace(t.CW):t.frontFace(t.CCW),S=ie)}function G(ie){ie!==IA?(J(t.CULL_FACE),ie!==w&&(ie===Hv?t.cullFace(t.BACK):ie===RA?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):W(t.CULL_FACE),w=ie}function K(ie){ie!==T&&($&&t.lineWidth(ie),T=ie)}function ee(ie,De,Me){ie?(J(t.POLYGON_OFFSET_FILL),(I!==De||D!==Me)&&(t.polygonOffset(De,Me),I=De,D=Me)):W(t.POLYGON_OFFSET_FILL)}function fe(ie){ie?J(t.SCISSOR_TEST):W(t.SCISSOR_TEST)}function O(ie){ie===void 0&&(ie=t.TEXTURE0+N-1),Y!==ie&&(t.activeTexture(ie),Y=ie)}function R(ie,De,Me){Me===void 0&&(Y===null?Me=t.TEXTURE0+N-1:Me=Y);let Ae=j[Me];Ae===void 0&&(Ae={type:void 0,texture:void 0},j[Me]=Ae),(Ae.type!==ie||Ae.texture!==De)&&(Y!==Me&&(t.activeTexture(Me),Y=Me),t.bindTexture(ie,De||he[ie]),Ae.type=ie,Ae.texture=De)}function X(){const ie=j[Y];ie!==void 0&&ie.type!==void 0&&(t.bindTexture(ie.type,null),ie.type=void 0,ie.texture=void 0)}function le(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ne(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ce(){try{t.texSubImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Pe(){try{t.texSubImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function we(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Re(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ze(){try{t.texStorage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ie(){try{t.texStorage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ke(){try{t.texImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function st(){try{t.texImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function qe(ie){se.equals(ie)===!1&&(t.scissor(ie.x,ie.y,ie.z,ie.w),se.copy(ie))}function He(ie){Ce.equals(ie)===!1&&(t.viewport(ie.x,ie.y,ie.z,ie.w),Ce.copy(ie))}function ot(ie,De){let Me=l.get(De);Me===void 0&&(Me=new WeakMap,l.set(De,Me));let Ae=Me.get(ie);Ae===void 0&&(Ae=t.getUniformBlockIndex(De,ie.name),Me.set(ie,Ae))}function Qe(ie,De){const Ae=l.get(De).get(ie);o.get(De)!==Ae&&(t.uniformBlockBinding(De,Ae,ie.__bindingPointIndex),o.set(De,Ae))}function gt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},Y=null,j={},u={},d=new WeakMap,f=[],h=null,m=!1,v=null,p=null,g=null,y=null,b=null,x=null,E=null,M=new Ue(0,0,0),A=0,C=!1,S=null,w=null,T=null,I=null,D=null,se.set(0,0,t.canvas.width,t.canvas.height),Ce.set(0,0,t.canvas.width,t.canvas.height),r.reset(),a.reset(),s.reset()}return{buffers:{color:r,depth:a,stencil:s},enable:J,disable:W,bindFramebuffer:re,drawBuffers:de,useProgram:_e,setBlending:L,setMaterial:k,setFlipSided:z,setCullFace:G,setLineWidth:K,setPolygonOffset:ee,setScissorTest:fe,activeTexture:O,bindTexture:R,unbindTexture:X,compressedTexImage2D:le,compressedTexImage3D:ne,texImage2D:ke,texImage3D:st,updateUBOMapping:ot,uniformBlockBinding:Qe,texStorage2D:ze,texStorage3D:Ie,texSubImage2D:ce,texSubImage3D:Pe,compressedTexSubImage2D:we,compressedTexSubImage3D:Re,scissor:qe,viewport:He,reset:gt}}function b5(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function x5(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function S5(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function Zv(t,e,n,i){const r=w5(i);switch(n){case $y:return t*e;case Yy:return t*e;case qy:return t*e*2;case Kh:return t*e/r.components*r.byteLength;case wu:return t*e/r.components*r.byteLength;case jy:return t*e*2/r.components*r.byteLength;case Zh:return t*e*2/r.components*r.byteLength;case Xy:return t*e*3/r.components*r.byteLength;case ti:return t*e*4/r.components*r.byteLength;case Jh:return t*e*4/r.components*r.byteLength;case sc:case oc:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case lc:case cc:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case wf:case Cf:return Math.max(t,16)*Math.max(e,8)/4;case Sf:case Mf:return Math.max(t,8)*Math.max(e,8)/2;case Af:case Ef:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Tf:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Pf:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case If:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Rf:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Lf:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case kf:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Df:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Of:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Vf:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Nf:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Bf:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Ff:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Uf:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case zf:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Hf:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case uc:case Gf:case Wf:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Ky:case $f:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Xf:case Yf:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function w5(t){switch(t){case gr:case Hy:return{byteLength:1,components:1};case dl:case Gy:case Cl:return{byteLength:2,components:1};case qh:case jh:return{byteLength:2,components:4};case ea:case Yh:case li:return{byteLength:4,components:1};case Wy:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const M5={contain:b5,cover:x5,fill:S5,getByteLength:Zv};function C5(t,e,n,i,r,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Se,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(O,R){return h?new OffscreenCanvas(O,R):qc("canvas")}function v(O,R,X){let le=1;const ne=fe(O);if((ne.width>X||ne.height>X)&&(le=X/Math.max(ne.width,ne.height)),le<1)if(typeof HTMLImageElement<"u"&&O instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&O instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&O instanceof ImageBitmap||typeof VideoFrame<"u"&&O instanceof VideoFrame){const ce=Math.floor(le*ne.width),Pe=Math.floor(le*ne.height);d===void 0&&(d=m(ce,Pe));const we=R?m(ce,Pe):d;return we.width=ce,we.height=Pe,we.getContext("2d").drawImage(O,0,0,ce,Pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+ce+"x"+Pe+")."),we}else return"data"in O&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),O;return O}function p(O){return O.generateMipmaps&&O.minFilter!==An&&O.minFilter!==gn}function g(O){t.generateMipmap(O)}function y(O,R,X,le,ne=!1){if(O!==null){if(t[O]!==void 0)return t[O];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+O+"'")}let ce=R;if(R===t.RED&&(X===t.FLOAT&&(ce=t.R32F),X===t.HALF_FLOAT&&(ce=t.R16F),X===t.UNSIGNED_BYTE&&(ce=t.R8)),R===t.RED_INTEGER&&(X===t.UNSIGNED_BYTE&&(ce=t.R8UI),X===t.UNSIGNED_SHORT&&(ce=t.R16UI),X===t.UNSIGNED_INT&&(ce=t.R32UI),X===t.BYTE&&(ce=t.R8I),X===t.SHORT&&(ce=t.R16I),X===t.INT&&(ce=t.R32I)),R===t.RG&&(X===t.FLOAT&&(ce=t.RG32F),X===t.HALF_FLOAT&&(ce=t.RG16F),X===t.UNSIGNED_BYTE&&(ce=t.RG8)),R===t.RG_INTEGER&&(X===t.UNSIGNED_BYTE&&(ce=t.RG8UI),X===t.UNSIGNED_SHORT&&(ce=t.RG16UI),X===t.UNSIGNED_INT&&(ce=t.RG32UI),X===t.BYTE&&(ce=t.RG8I),X===t.SHORT&&(ce=t.RG16I),X===t.INT&&(ce=t.RG32I)),R===t.RGB&&X===t.UNSIGNED_INT_5_9_9_9_REV&&(ce=t.RGB9_E5),R===t.RGBA){const Pe=ne?Gc:At.getTransfer(le);X===t.FLOAT&&(ce=t.RGBA32F),X===t.HALF_FLOAT&&(ce=t.RGBA16F),X===t.UNSIGNED_BYTE&&(ce=Pe===Ut?t.SRGB8_ALPHA8:t.RGBA8),X===t.UNSIGNED_SHORT_4_4_4_4&&(ce=t.RGBA4),X===t.UNSIGNED_SHORT_5_5_5_1&&(ce=t.RGB5_A1)}return(ce===t.R16F||ce===t.R32F||ce===t.RG16F||ce===t.RG32F||ce===t.RGBA16F||ce===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ce}function b(O,R){let X;return O?R===null||R===ea||R===$s?X=t.DEPTH24_STENCIL8:R===li?X=t.DEPTH32F_STENCIL8:R===dl&&(X=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):R===null||R===ea||R===$s?X=t.DEPTH_COMPONENT24:R===li?X=t.DEPTH_COMPONENT32F:R===dl&&(X=t.DEPTH_COMPONENT16),X}function x(O,R){return p(O)===!0||O.isFramebufferTexture&&O.minFilter!==An&&O.minFilter!==gn?Math.log2(Math.max(R.width,R.height))+1:O.mipmaps!==void 0&&O.mipmaps.length>0?O.mipmaps.length:O.isCompressedTexture&&Array.isArray(O.image)?R.mipmaps.length:1}function E(O){const R=O.target;R.removeEventListener("dispose",E),A(R),R.isVideoTexture&&u.delete(R)}function M(O){const R=O.target;R.removeEventListener("dispose",M),S(R)}function A(O){const R=i.get(O);if(R.__webglInit===void 0)return;const X=O.source,le=f.get(X);if(le){const ne=le[R.__cacheKey];ne.usedTimes--,ne.usedTimes===0&&C(O),Object.keys(le).length===0&&f.delete(X)}i.remove(O)}function C(O){const R=i.get(O);t.deleteTexture(R.__webglTexture);const X=O.source,le=f.get(X);delete le[R.__cacheKey],s.memory.textures--}function S(O){const R=i.get(O);if(O.depthTexture&&O.depthTexture.dispose(),O.isWebGLCubeRenderTarget)for(let le=0;le<6;le++){if(Array.isArray(R.__webglFramebuffer[le]))for(let ne=0;ne<R.__webglFramebuffer[le].length;ne++)t.deleteFramebuffer(R.__webglFramebuffer[le][ne]);else t.deleteFramebuffer(R.__webglFramebuffer[le]);R.__webglDepthbuffer&&t.deleteRenderbuffer(R.__webglDepthbuffer[le])}else{if(Array.isArray(R.__webglFramebuffer))for(let le=0;le<R.__webglFramebuffer.length;le++)t.deleteFramebuffer(R.__webglFramebuffer[le]);else t.deleteFramebuffer(R.__webglFramebuffer);if(R.__webglDepthbuffer&&t.deleteRenderbuffer(R.__webglDepthbuffer),R.__webglMultisampledFramebuffer&&t.deleteFramebuffer(R.__webglMultisampledFramebuffer),R.__webglColorRenderbuffer)for(let le=0;le<R.__webglColorRenderbuffer.length;le++)R.__webglColorRenderbuffer[le]&&t.deleteRenderbuffer(R.__webglColorRenderbuffer[le]);R.__webglDepthRenderbuffer&&t.deleteRenderbuffer(R.__webglDepthRenderbuffer)}const X=O.textures;for(let le=0,ne=X.length;le<ne;le++){const ce=i.get(X[le]);ce.__webglTexture&&(t.deleteTexture(ce.__webglTexture),s.memory.textures--),i.remove(X[le])}i.remove(O)}let w=0;function T(){w=0}function I(){const O=w;return O>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+O+" texture units while this GPU supports only "+r.maxTextures),w+=1,O}function D(O){const R=[];return R.push(O.wrapS),R.push(O.wrapT),R.push(O.wrapR||0),R.push(O.magFilter),R.push(O.minFilter),R.push(O.anisotropy),R.push(O.internalFormat),R.push(O.format),R.push(O.type),R.push(O.generateMipmaps),R.push(O.premultiplyAlpha),R.push(O.flipY),R.push(O.unpackAlignment),R.push(O.colorSpace),R.join()}function N(O,R){const X=i.get(O);if(O.isVideoTexture&&K(O),O.isRenderTargetTexture===!1&&O.version>0&&X.__version!==O.version){const le=O.image;if(le===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(le.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ce(X,O,R);return}}n.bindTexture(t.TEXTURE_2D,X.__webglTexture,t.TEXTURE0+R)}function $(O,R){const X=i.get(O);if(O.version>0&&X.__version!==O.version){Ce(X,O,R);return}n.bindTexture(t.TEXTURE_2D_ARRAY,X.__webglTexture,t.TEXTURE0+R)}function U(O,R){const X=i.get(O);if(O.version>0&&X.__version!==O.version){Ce(X,O,R);return}n.bindTexture(t.TEXTURE_3D,X.__webglTexture,t.TEXTURE0+R)}function Z(O,R){const X=i.get(O);if(O.version>0&&X.__version!==O.version){Q(X,O,R);return}n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture,t.TEXTURE0+R)}const Y={[Fc]:t.REPEAT,[ki]:t.CLAMP_TO_EDGE,[Uc]:t.MIRRORED_REPEAT},j={[An]:t.NEAREST,[zy]:t.NEAREST_MIPMAP_NEAREST,[Go]:t.NEAREST_MIPMAP_LINEAR,[gn]:t.LINEAR,[ac]:t.LINEAR_MIPMAP_NEAREST,[ur]:t.LINEAR_MIPMAP_LINEAR},q={[yE]:t.NEVER,[ME]:t.ALWAYS,[_E]:t.LESS,[Jy]:t.LEQUAL,[bE]:t.EQUAL,[wE]:t.GEQUAL,[xE]:t.GREATER,[SE]:t.NOTEQUAL};function F(O,R){if(R.type===li&&e.has("OES_texture_float_linear")===!1&&(R.magFilter===gn||R.magFilter===ac||R.magFilter===Go||R.magFilter===ur||R.minFilter===gn||R.minFilter===ac||R.minFilter===Go||R.minFilter===ur)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(O,t.TEXTURE_WRAP_S,Y[R.wrapS]),t.texParameteri(O,t.TEXTURE_WRAP_T,Y[R.wrapT]),(O===t.TEXTURE_3D||O===t.TEXTURE_2D_ARRAY)&&t.texParameteri(O,t.TEXTURE_WRAP_R,Y[R.wrapR]),t.texParameteri(O,t.TEXTURE_MAG_FILTER,j[R.magFilter]),t.texParameteri(O,t.TEXTURE_MIN_FILTER,j[R.minFilter]),R.compareFunction&&(t.texParameteri(O,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(O,t.TEXTURE_COMPARE_FUNC,q[R.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(R.magFilter===An||R.minFilter!==Go&&R.minFilter!==ur||R.type===li&&e.has("OES_texture_float_linear")===!1)return;if(R.anisotropy>1||i.get(R).__currentAnisotropy){const X=e.get("EXT_texture_filter_anisotropic");t.texParameterf(O,X.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(R.anisotropy,r.getMaxAnisotropy())),i.get(R).__currentAnisotropy=R.anisotropy}}}function se(O,R){let X=!1;O.__webglInit===void 0&&(O.__webglInit=!0,R.addEventListener("dispose",E));const le=R.source;let ne=f.get(le);ne===void 0&&(ne={},f.set(le,ne));const ce=D(R);if(ce!==O.__cacheKey){ne[ce]===void 0&&(ne[ce]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,X=!0),ne[ce].usedTimes++;const Pe=ne[O.__cacheKey];Pe!==void 0&&(ne[O.__cacheKey].usedTimes--,Pe.usedTimes===0&&C(R)),O.__cacheKey=ce,O.__webglTexture=ne[ce].texture}return X}function Ce(O,R,X){let le=t.TEXTURE_2D;(R.isDataArrayTexture||R.isCompressedArrayTexture)&&(le=t.TEXTURE_2D_ARRAY),R.isData3DTexture&&(le=t.TEXTURE_3D);const ne=se(O,R),ce=R.source;n.bindTexture(le,O.__webglTexture,t.TEXTURE0+X);const Pe=i.get(ce);if(ce.version!==Pe.__version||ne===!0){n.activeTexture(t.TEXTURE0+X);const we=At.getPrimaries(At.workingColorSpace),Re=R.colorSpace===Fr?null:At.getPrimaries(R.colorSpace),ze=R.colorSpace===Fr||we===Re?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ze);let Ie=v(R.image,!1,r.maxTextureSize);Ie=ee(R,Ie);const ke=a.convert(R.format,R.colorSpace),st=a.convert(R.type);let qe=y(R.internalFormat,ke,st,R.colorSpace,R.isVideoTexture);F(le,R);let He;const ot=R.mipmaps,Qe=R.isVideoTexture!==!0,gt=Pe.__version===void 0||ne===!0,ie=ce.dataReady,De=x(R,Ie);if(R.isDepthTexture)qe=b(R.format===Xs,R.type),gt&&(Qe?n.texStorage2D(t.TEXTURE_2D,1,qe,Ie.width,Ie.height):n.texImage2D(t.TEXTURE_2D,0,qe,Ie.width,Ie.height,0,ke,st,null));else if(R.isDataTexture)if(ot.length>0){Qe&&gt&&n.texStorage2D(t.TEXTURE_2D,De,qe,ot[0].width,ot[0].height);for(let Me=0,Ae=ot.length;Me<Ae;Me++)He=ot[Me],Qe?ie&&n.texSubImage2D(t.TEXTURE_2D,Me,0,0,He.width,He.height,ke,st,He.data):n.texImage2D(t.TEXTURE_2D,Me,qe,He.width,He.height,0,ke,st,He.data);R.generateMipmaps=!1}else Qe?(gt&&n.texStorage2D(t.TEXTURE_2D,De,qe,Ie.width,Ie.height),ie&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ie.width,Ie.height,ke,st,Ie.data)):n.texImage2D(t.TEXTURE_2D,0,qe,Ie.width,Ie.height,0,ke,st,Ie.data);else if(R.isCompressedTexture)if(R.isCompressedArrayTexture){Qe&&gt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,De,qe,ot[0].width,ot[0].height,Ie.depth);for(let Me=0,Ae=ot.length;Me<Ae;Me++)if(He=ot[Me],R.format!==ti)if(ke!==null)if(Qe){if(ie)if(R.layerUpdates.size>0){const Ne=Zv(He.width,He.height,R.format,R.type);for(const rt of R.layerUpdates){const St=He.data.subarray(rt*Ne/He.data.BYTES_PER_ELEMENT,(rt+1)*Ne/He.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Me,0,0,rt,He.width,He.height,1,ke,St,0,0)}R.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Me,0,0,0,He.width,He.height,Ie.depth,ke,He.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Me,qe,He.width,He.height,Ie.depth,0,He.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Qe?ie&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Me,0,0,0,He.width,He.height,Ie.depth,ke,st,He.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Me,qe,He.width,He.height,Ie.depth,0,ke,st,He.data)}else{Qe&&gt&&n.texStorage2D(t.TEXTURE_2D,De,qe,ot[0].width,ot[0].height);for(let Me=0,Ae=ot.length;Me<Ae;Me++)He=ot[Me],R.format!==ti?ke!==null?Qe?ie&&n.compressedTexSubImage2D(t.TEXTURE_2D,Me,0,0,He.width,He.height,ke,He.data):n.compressedTexImage2D(t.TEXTURE_2D,Me,qe,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Qe?ie&&n.texSubImage2D(t.TEXTURE_2D,Me,0,0,He.width,He.height,ke,st,He.data):n.texImage2D(t.TEXTURE_2D,Me,qe,He.width,He.height,0,ke,st,He.data)}else if(R.isDataArrayTexture)if(Qe){if(gt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,De,qe,Ie.width,Ie.height,Ie.depth),ie)if(R.layerUpdates.size>0){const Me=Zv(Ie.width,Ie.height,R.format,R.type);for(const Ae of R.layerUpdates){const Ne=Ie.data.subarray(Ae*Me/Ie.data.BYTES_PER_ELEMENT,(Ae+1)*Me/Ie.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ae,Ie.width,Ie.height,1,ke,st,Ne)}R.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ie.width,Ie.height,Ie.depth,ke,st,Ie.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,qe,Ie.width,Ie.height,Ie.depth,0,ke,st,Ie.data);else if(R.isData3DTexture)Qe?(gt&&n.texStorage3D(t.TEXTURE_3D,De,qe,Ie.width,Ie.height,Ie.depth),ie&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ie.width,Ie.height,Ie.depth,ke,st,Ie.data)):n.texImage3D(t.TEXTURE_3D,0,qe,Ie.width,Ie.height,Ie.depth,0,ke,st,Ie.data);else if(R.isFramebufferTexture){if(gt)if(Qe)n.texStorage2D(t.TEXTURE_2D,De,qe,Ie.width,Ie.height);else{let Me=Ie.width,Ae=Ie.height;for(let Ne=0;Ne<De;Ne++)n.texImage2D(t.TEXTURE_2D,Ne,qe,Me,Ae,0,ke,st,null),Me>>=1,Ae>>=1}}else if(ot.length>0){if(Qe&&gt){const Me=fe(ot[0]);n.texStorage2D(t.TEXTURE_2D,De,qe,Me.width,Me.height)}for(let Me=0,Ae=ot.length;Me<Ae;Me++)He=ot[Me],Qe?ie&&n.texSubImage2D(t.TEXTURE_2D,Me,0,0,ke,st,He):n.texImage2D(t.TEXTURE_2D,Me,qe,ke,st,He);R.generateMipmaps=!1}else if(Qe){if(gt){const Me=fe(Ie);n.texStorage2D(t.TEXTURE_2D,De,qe,Me.width,Me.height)}ie&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ke,st,Ie)}else n.texImage2D(t.TEXTURE_2D,0,qe,ke,st,Ie);p(R)&&g(le),Pe.__version=ce.version,R.onUpdate&&R.onUpdate(R)}O.__version=R.version}function Q(O,R,X){if(R.image.length!==6)return;const le=se(O,R),ne=R.source;n.bindTexture(t.TEXTURE_CUBE_MAP,O.__webglTexture,t.TEXTURE0+X);const ce=i.get(ne);if(ne.version!==ce.__version||le===!0){n.activeTexture(t.TEXTURE0+X);const Pe=At.getPrimaries(At.workingColorSpace),we=R.colorSpace===Fr?null:At.getPrimaries(R.colorSpace),Re=R.colorSpace===Fr||Pe===we?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Re);const ze=R.isCompressedTexture||R.image[0].isCompressedTexture,Ie=R.image[0]&&R.image[0].isDataTexture,ke=[];for(let Ae=0;Ae<6;Ae++)!ze&&!Ie?ke[Ae]=v(R.image[Ae],!0,r.maxCubemapSize):ke[Ae]=Ie?R.image[Ae].image:R.image[Ae],ke[Ae]=ee(R,ke[Ae]);const st=ke[0],qe=a.convert(R.format,R.colorSpace),He=a.convert(R.type),ot=y(R.internalFormat,qe,He,R.colorSpace),Qe=R.isVideoTexture!==!0,gt=ce.__version===void 0||le===!0,ie=ne.dataReady;let De=x(R,st);F(t.TEXTURE_CUBE_MAP,R);let Me;if(ze){Qe&&gt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,De,ot,st.width,st.height);for(let Ae=0;Ae<6;Ae++){Me=ke[Ae].mipmaps;for(let Ne=0;Ne<Me.length;Ne++){const rt=Me[Ne];R.format!==ti?qe!==null?Qe?ie&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ne,0,0,rt.width,rt.height,qe,rt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ne,ot,rt.width,rt.height,0,rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Qe?ie&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ne,0,0,rt.width,rt.height,qe,He,rt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ne,ot,rt.width,rt.height,0,qe,He,rt.data)}}}else{if(Me=R.mipmaps,Qe&&gt){Me.length>0&&De++;const Ae=fe(ke[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,De,ot,Ae.width,Ae.height)}for(let Ae=0;Ae<6;Ae++)if(Ie){Qe?ie&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,0,0,ke[Ae].width,ke[Ae].height,qe,He,ke[Ae].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,ot,ke[Ae].width,ke[Ae].height,0,qe,He,ke[Ae].data);for(let Ne=0;Ne<Me.length;Ne++){const St=Me[Ne].image[Ae].image;Qe?ie&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ne+1,0,0,St.width,St.height,qe,He,St.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ne+1,ot,St.width,St.height,0,qe,He,St.data)}}else{Qe?ie&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,0,0,qe,He,ke[Ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,ot,qe,He,ke[Ae]);for(let Ne=0;Ne<Me.length;Ne++){const rt=Me[Ne];Qe?ie&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ne+1,0,0,qe,He,rt.image[Ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ne+1,ot,qe,He,rt.image[Ae])}}}p(R)&&g(t.TEXTURE_CUBE_MAP),ce.__version=ne.version,R.onUpdate&&R.onUpdate(R)}O.__version=R.version}function he(O,R,X,le,ne,ce){const Pe=a.convert(X.format,X.colorSpace),we=a.convert(X.type),Re=y(X.internalFormat,Pe,we,X.colorSpace);if(!i.get(R).__hasExternalTextures){const Ie=Math.max(1,R.width>>ce),ke=Math.max(1,R.height>>ce);ne===t.TEXTURE_3D||ne===t.TEXTURE_2D_ARRAY?n.texImage3D(ne,ce,Re,Ie,ke,R.depth,0,Pe,we,null):n.texImage2D(ne,ce,Re,Ie,ke,0,Pe,we,null)}n.bindFramebuffer(t.FRAMEBUFFER,O),G(R)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,le,ne,i.get(X).__webglTexture,0,z(R)):(ne===t.TEXTURE_2D||ne>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ne<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,le,ne,i.get(X).__webglTexture,ce),n.bindFramebuffer(t.FRAMEBUFFER,null)}function J(O,R,X){if(t.bindRenderbuffer(t.RENDERBUFFER,O),R.depthBuffer){const le=R.depthTexture,ne=le&&le.isDepthTexture?le.type:null,ce=b(R.stencilBuffer,ne),Pe=R.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,we=z(R);G(R)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,we,ce,R.width,R.height):X?t.renderbufferStorageMultisample(t.RENDERBUFFER,we,ce,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,ce,R.width,R.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Pe,t.RENDERBUFFER,O)}else{const le=R.textures;for(let ne=0;ne<le.length;ne++){const ce=le[ne],Pe=a.convert(ce.format,ce.colorSpace),we=a.convert(ce.type),Re=y(ce.internalFormat,Pe,we,ce.colorSpace),ze=z(R);X&&G(R)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ze,Re,R.width,R.height):G(R)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ze,Re,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,Re,R.width,R.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function W(O,R){if(R&&R.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,O),!(R.depthTexture&&R.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(R.depthTexture).__webglTexture||R.depthTexture.image.width!==R.width||R.depthTexture.image.height!==R.height)&&(R.depthTexture.image.width=R.width,R.depthTexture.image.height=R.height,R.depthTexture.needsUpdate=!0),N(R.depthTexture,0);const le=i.get(R.depthTexture).__webglTexture,ne=z(R);if(R.depthTexture.format===Ls)G(R)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,le,0,ne):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,le,0);else if(R.depthTexture.format===Xs)G(R)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,le,0,ne):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,le,0);else throw new Error("Unknown depthTexture format")}function re(O){const R=i.get(O),X=O.isWebGLCubeRenderTarget===!0;if(R.__boundDepthTexture!==O.depthTexture){const le=O.depthTexture;if(R.__depthDisposeCallback&&R.__depthDisposeCallback(),le){const ne=()=>{delete R.__boundDepthTexture,delete R.__depthDisposeCallback,le.removeEventListener("dispose",ne)};le.addEventListener("dispose",ne),R.__depthDisposeCallback=ne}R.__boundDepthTexture=le}if(O.depthTexture&&!R.__autoAllocateDepthBuffer){if(X)throw new Error("target.depthTexture not supported in Cube render targets");W(R.__webglFramebuffer,O)}else if(X){R.__webglDepthbuffer=[];for(let le=0;le<6;le++)if(n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer[le]),R.__webglDepthbuffer[le]===void 0)R.__webglDepthbuffer[le]=t.createRenderbuffer(),J(R.__webglDepthbuffer[le],O,!1);else{const ne=O.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ce=R.__webglDepthbuffer[le];t.bindRenderbuffer(t.RENDERBUFFER,ce),t.framebufferRenderbuffer(t.FRAMEBUFFER,ne,t.RENDERBUFFER,ce)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer),R.__webglDepthbuffer===void 0)R.__webglDepthbuffer=t.createRenderbuffer(),J(R.__webglDepthbuffer,O,!1);else{const le=O.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ne=R.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ne),t.framebufferRenderbuffer(t.FRAMEBUFFER,le,t.RENDERBUFFER,ne)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function de(O,R,X){const le=i.get(O);R!==void 0&&he(le.__webglFramebuffer,O,O.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),X!==void 0&&re(O)}function _e(O){const R=O.texture,X=i.get(O),le=i.get(R);O.addEventListener("dispose",M);const ne=O.textures,ce=O.isWebGLCubeRenderTarget===!0,Pe=ne.length>1;if(Pe||(le.__webglTexture===void 0&&(le.__webglTexture=t.createTexture()),le.__version=R.version,s.memory.textures++),ce){X.__webglFramebuffer=[];for(let we=0;we<6;we++)if(R.mipmaps&&R.mipmaps.length>0){X.__webglFramebuffer[we]=[];for(let Re=0;Re<R.mipmaps.length;Re++)X.__webglFramebuffer[we][Re]=t.createFramebuffer()}else X.__webglFramebuffer[we]=t.createFramebuffer()}else{if(R.mipmaps&&R.mipmaps.length>0){X.__webglFramebuffer=[];for(let we=0;we<R.mipmaps.length;we++)X.__webglFramebuffer[we]=t.createFramebuffer()}else X.__webglFramebuffer=t.createFramebuffer();if(Pe)for(let we=0,Re=ne.length;we<Re;we++){const ze=i.get(ne[we]);ze.__webglTexture===void 0&&(ze.__webglTexture=t.createTexture(),s.memory.textures++)}if(O.samples>0&&G(O)===!1){X.__webglMultisampledFramebuffer=t.createFramebuffer(),X.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,X.__webglMultisampledFramebuffer);for(let we=0;we<ne.length;we++){const Re=ne[we];X.__webglColorRenderbuffer[we]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,X.__webglColorRenderbuffer[we]);const ze=a.convert(Re.format,Re.colorSpace),Ie=a.convert(Re.type),ke=y(Re.internalFormat,ze,Ie,Re.colorSpace,O.isXRRenderTarget===!0),st=z(O);t.renderbufferStorageMultisample(t.RENDERBUFFER,st,ke,O.width,O.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+we,t.RENDERBUFFER,X.__webglColorRenderbuffer[we])}t.bindRenderbuffer(t.RENDERBUFFER,null),O.depthBuffer&&(X.__webglDepthRenderbuffer=t.createRenderbuffer(),J(X.__webglDepthRenderbuffer,O,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ce){n.bindTexture(t.TEXTURE_CUBE_MAP,le.__webglTexture),F(t.TEXTURE_CUBE_MAP,R);for(let we=0;we<6;we++)if(R.mipmaps&&R.mipmaps.length>0)for(let Re=0;Re<R.mipmaps.length;Re++)he(X.__webglFramebuffer[we][Re],O,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+we,Re);else he(X.__webglFramebuffer[we],O,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+we,0);p(R)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Pe){for(let we=0,Re=ne.length;we<Re;we++){const ze=ne[we],Ie=i.get(ze);n.bindTexture(t.TEXTURE_2D,Ie.__webglTexture),F(t.TEXTURE_2D,ze),he(X.__webglFramebuffer,O,ze,t.COLOR_ATTACHMENT0+we,t.TEXTURE_2D,0),p(ze)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let we=t.TEXTURE_2D;if((O.isWebGL3DRenderTarget||O.isWebGLArrayRenderTarget)&&(we=O.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(we,le.__webglTexture),F(we,R),R.mipmaps&&R.mipmaps.length>0)for(let Re=0;Re<R.mipmaps.length;Re++)he(X.__webglFramebuffer[Re],O,R,t.COLOR_ATTACHMENT0,we,Re);else he(X.__webglFramebuffer,O,R,t.COLOR_ATTACHMENT0,we,0);p(R)&&g(we),n.unbindTexture()}O.depthBuffer&&re(O)}function me(O){const R=O.textures;for(let X=0,le=R.length;X<le;X++){const ne=R[X];if(p(ne)){const ce=O.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Pe=i.get(ne).__webglTexture;n.bindTexture(ce,Pe),g(ce),n.unbindTexture()}}}const V=[],L=[];function k(O){if(O.samples>0){if(G(O)===!1){const R=O.textures,X=O.width,le=O.height;let ne=t.COLOR_BUFFER_BIT;const ce=O.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Pe=i.get(O),we=R.length>1;if(we)for(let Re=0;Re<R.length;Re++)n.bindFramebuffer(t.FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Re,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Pe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Re,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Pe.__webglFramebuffer);for(let Re=0;Re<R.length;Re++){if(O.resolveDepthBuffer&&(O.depthBuffer&&(ne|=t.DEPTH_BUFFER_BIT),O.stencilBuffer&&O.resolveStencilBuffer&&(ne|=t.STENCIL_BUFFER_BIT)),we){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Pe.__webglColorRenderbuffer[Re]);const ze=i.get(R[Re]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ze,0)}t.blitFramebuffer(0,0,X,le,0,0,X,le,ne,t.NEAREST),l===!0&&(V.length=0,L.length=0,V.push(t.COLOR_ATTACHMENT0+Re),O.depthBuffer&&O.resolveDepthBuffer===!1&&(V.push(ce),L.push(ce),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,L)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,V))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),we)for(let Re=0;Re<R.length;Re++){n.bindFramebuffer(t.FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Re,t.RENDERBUFFER,Pe.__webglColorRenderbuffer[Re]);const ze=i.get(R[Re]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Pe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Re,t.TEXTURE_2D,ze,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Pe.__webglMultisampledFramebuffer)}else if(O.depthBuffer&&O.resolveDepthBuffer===!1&&l){const R=O.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[R])}}}function z(O){return Math.min(r.maxSamples,O.samples)}function G(O){const R=i.get(O);return O.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&R.__useRenderToTexture!==!1}function K(O){const R=s.render.frame;u.get(O)!==R&&(u.set(O,R),O.update())}function ee(O,R){const X=O.colorSpace,le=O.format,ne=O.type;return O.isCompressedTexture===!0||O.isVideoTexture===!0||X!==oa&&X!==Fr&&(At.getTransfer(X)===Ut?(le!==ti||ne!==gr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",X)),R}function fe(O){return typeof HTMLImageElement<"u"&&O instanceof HTMLImageElement?(c.width=O.naturalWidth||O.width,c.height=O.naturalHeight||O.height):typeof VideoFrame<"u"&&O instanceof VideoFrame?(c.width=O.displayWidth,c.height=O.displayHeight):(c.width=O.width,c.height=O.height),c}this.allocateTextureUnit=I,this.resetTextureUnits=T,this.setTexture2D=N,this.setTexture2DArray=$,this.setTexture3D=U,this.setTextureCube=Z,this.rebindTextures=de,this.setupRenderTarget=_e,this.updateRenderTargetMipmap=me,this.updateMultisampleRenderTarget=k,this.setupDepthRenderbuffer=re,this.setupFrameBufferTexture=he,this.useMultisampledRTT=G}function FE(t,e){function n(i,r=Fr){let a;const s=At.getTransfer(r);if(i===gr)return t.UNSIGNED_BYTE;if(i===qh)return t.UNSIGNED_SHORT_4_4_4_4;if(i===jh)return t.UNSIGNED_SHORT_5_5_5_1;if(i===Wy)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===Hy)return t.BYTE;if(i===Gy)return t.SHORT;if(i===dl)return t.UNSIGNED_SHORT;if(i===Yh)return t.INT;if(i===ea)return t.UNSIGNED_INT;if(i===li)return t.FLOAT;if(i===Cl)return t.HALF_FLOAT;if(i===$y)return t.ALPHA;if(i===Xy)return t.RGB;if(i===ti)return t.RGBA;if(i===Yy)return t.LUMINANCE;if(i===qy)return t.LUMINANCE_ALPHA;if(i===Ls)return t.DEPTH_COMPONENT;if(i===Xs)return t.DEPTH_STENCIL;if(i===Kh)return t.RED;if(i===wu)return t.RED_INTEGER;if(i===jy)return t.RG;if(i===Zh)return t.RG_INTEGER;if(i===Jh)return t.RGBA_INTEGER;if(i===sc||i===oc||i===lc||i===cc)if(s===Ut)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===sc)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===oc)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===lc)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===cc)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===sc)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===oc)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===lc)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===cc)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Sf||i===wf||i===Mf||i===Cf)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===Sf)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===wf)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Mf)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Cf)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Af||i===Ef||i===Tf)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===Af||i===Ef)return s===Ut?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===Tf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Pf||i===If||i===Rf||i===Lf||i===kf||i===Df||i===Of||i===Vf||i===Nf||i===Bf||i===Ff||i===Uf||i===zf||i===Hf)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===Pf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===If)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Rf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Lf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===kf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Df)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Of)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Vf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Nf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Bf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Ff)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Uf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===zf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Hf)return s===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===uc||i===Gf||i===Wf)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===uc)return s===Ut?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Gf)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Wf)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===Ky||i===$f||i===Xf||i===Yf)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===uc)return a.COMPRESSED_RED_RGTC1_EXT;if(i===$f)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Xf)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Yf)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===$s?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class UE extends pn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Xo extends bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const A5={type:"move"};class Tp{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Xo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Xo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Xo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const v of e.hand.values()){const p=n.getJointPose(v,i),g=this._getHandJoint(c,v);p!==null&&(g.matrix.fromArray(p.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=p.radius),g.visible=p!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,m=.005;c.inputState.pinching&&f>h+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,i),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(A5)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Xo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const E5=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,T5=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class P5{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new an,a=e.properties.get(r);a.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Zi({vertexShader:E5,fragmentShader:T5,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new on(new El(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class I5 extends Mr{constructor(e,n){super();const i=this;let r=null,a=1,s=null,o="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,m=null;const v=new P5,p=n.getContextAttributes();let g=null,y=null;const b=[],x=[],E=new Se;let M=null;const A=new pn;A.layers.enable(1),A.viewport=new Lt;const C=new pn;C.layers.enable(2),C.viewport=new Lt;const S=[A,C],w=new UE;w.layers.enable(1),w.layers.enable(2);let T=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Q){let he=b[Q];return he===void 0&&(he=new Tp,b[Q]=he),he.getTargetRaySpace()},this.getControllerGrip=function(Q){let he=b[Q];return he===void 0&&(he=new Tp,b[Q]=he),he.getGripSpace()},this.getHand=function(Q){let he=b[Q];return he===void 0&&(he=new Tp,b[Q]=he),he.getHandSpace()};function D(Q){const he=x.indexOf(Q.inputSource);if(he===-1)return;const J=b[he];J!==void 0&&(J.update(Q.inputSource,Q.frame,c||s),J.dispatchEvent({type:Q.type,data:Q.inputSource}))}function N(){r.removeEventListener("select",D),r.removeEventListener("selectstart",D),r.removeEventListener("selectend",D),r.removeEventListener("squeeze",D),r.removeEventListener("squeezestart",D),r.removeEventListener("squeezeend",D),r.removeEventListener("end",N),r.removeEventListener("inputsourceschange",$);for(let Q=0;Q<b.length;Q++){const he=x[Q];he!==null&&(x[Q]=null,b[Q].disconnect(he))}T=null,I=null,v.reset(),e.setRenderTarget(g),h=null,f=null,d=null,r=null,y=null,Ce.stop(),i.isPresenting=!1,e.setPixelRatio(M),e.setSize(E.width,E.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Q){a=Q,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Q){o=Q,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(Q){c=Q},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=async function(Q){if(r=Q,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",D),r.addEventListener("selectstart",D),r.addEventListener("selectend",D),r.addEventListener("squeeze",D),r.addEventListener("squeezestart",D),r.addEventListener("squeezeend",D),r.addEventListener("end",N),r.addEventListener("inputsourceschange",$),p.xrCompatible!==!0&&await n.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(E),r.renderState.layers===void 0){const he={antialias:p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:a};h=new XRWebGLLayer(r,n,he),r.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),y=new Ki(h.framebufferWidth,h.framebufferHeight,{format:ti,type:gr,colorSpace:e.outputColorSpace,stencilBuffer:p.stencil})}else{let he=null,J=null,W=null;p.depth&&(W=p.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,he=p.stencil?Xs:Ls,J=p.stencil?$s:ea);const re={colorFormat:n.RGBA8,depthFormat:W,scaleFactor:a};d=new XRWebGLBinding(r,n),f=d.createProjectionLayer(re),r.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),y=new Ki(f.textureWidth,f.textureHeight,{format:ti,type:gr,depthTexture:new a0(f.textureWidth,f.textureHeight,J,void 0,void 0,void 0,void 0,void 0,void 0,he),stencilBuffer:p.stencil,colorSpace:e.outputColorSpace,samples:p.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await r.requestReferenceSpace(o),Ce.setContext(r),Ce.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function $(Q){for(let he=0;he<Q.removed.length;he++){const J=Q.removed[he],W=x.indexOf(J);W>=0&&(x[W]=null,b[W].disconnect(J))}for(let he=0;he<Q.added.length;he++){const J=Q.added[he];let W=x.indexOf(J);if(W===-1){for(let de=0;de<b.length;de++)if(de>=x.length){x.push(J),W=de;break}else if(x[de]===null){x[de]=J,W=de;break}if(W===-1)break}const re=b[W];re&&re.connect(J)}}const U=new H,Z=new H;function Y(Q,he,J){U.setFromMatrixPosition(he.matrixWorld),Z.setFromMatrixPosition(J.matrixWorld);const W=U.distanceTo(Z),re=he.projectionMatrix.elements,de=J.projectionMatrix.elements,_e=re[14]/(re[10]-1),me=re[14]/(re[10]+1),V=(re[9]+1)/re[5],L=(re[9]-1)/re[5],k=(re[8]-1)/re[0],z=(de[8]+1)/de[0],G=_e*k,K=_e*z,ee=W/(-k+z),fe=ee*-k;if(he.matrixWorld.decompose(Q.position,Q.quaternion,Q.scale),Q.translateX(fe),Q.translateZ(ee),Q.matrixWorld.compose(Q.position,Q.quaternion,Q.scale),Q.matrixWorldInverse.copy(Q.matrixWorld).invert(),re[10]===-1)Q.projectionMatrix.copy(he.projectionMatrix),Q.projectionMatrixInverse.copy(he.projectionMatrixInverse);else{const O=_e+ee,R=me+ee,X=G-fe,le=K+(W-fe),ne=V*me/R*O,ce=L*me/R*O;Q.projectionMatrix.makePerspective(X,le,ne,ce,O,R),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert()}}function j(Q,he){he===null?Q.matrixWorld.copy(Q.matrix):Q.matrixWorld.multiplyMatrices(he.matrixWorld,Q.matrix),Q.matrixWorldInverse.copy(Q.matrixWorld).invert()}this.updateCamera=function(Q){if(r===null)return;let he=Q.near,J=Q.far;v.texture!==null&&(v.depthNear>0&&(he=v.depthNear),v.depthFar>0&&(J=v.depthFar)),w.near=C.near=A.near=he,w.far=C.far=A.far=J,(T!==w.near||I!==w.far)&&(r.updateRenderState({depthNear:w.near,depthFar:w.far}),T=w.near,I=w.far);const W=Q.parent,re=w.cameras;j(w,W);for(let de=0;de<re.length;de++)j(re[de],W);re.length===2?Y(w,A,C):w.projectionMatrix.copy(A.projectionMatrix),q(Q,w,W)};function q(Q,he,J){J===null?Q.matrix.copy(he.matrixWorld):(Q.matrix.copy(J.matrixWorld),Q.matrix.invert(),Q.matrix.multiply(he.matrixWorld)),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.updateMatrixWorld(!0),Q.projectionMatrix.copy(he.projectionMatrix),Q.projectionMatrixInverse.copy(he.projectionMatrixInverse),Q.isPerspectiveCamera&&(Q.fov=fl*2*Math.atan(1/Q.projectionMatrix.elements[5]),Q.zoom=1)}this.getCamera=function(){return w},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(Q){l=Q,f!==null&&(f.fixedFoveation=Q),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=Q)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(w)};let F=null;function se(Q,he){if(u=he.getViewerPose(c||s),m=he,u!==null){const J=u.views;h!==null&&(e.setRenderTargetFramebuffer(y,h.framebuffer),e.setRenderTarget(y));let W=!1;J.length!==w.cameras.length&&(w.cameras.length=0,W=!0);for(let de=0;de<J.length;de++){const _e=J[de];let me=null;if(h!==null)me=h.getViewport(_e);else{const L=d.getViewSubImage(f,_e);me=L.viewport,de===0&&(e.setRenderTargetTextures(y,L.colorTexture,f.ignoreDepthValues?void 0:L.depthStencilTexture),e.setRenderTarget(y))}let V=S[de];V===void 0&&(V=new pn,V.layers.enable(de),V.viewport=new Lt,S[de]=V),V.matrix.fromArray(_e.transform.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale),V.projectionMatrix.fromArray(_e.projectionMatrix),V.projectionMatrixInverse.copy(V.projectionMatrix).invert(),V.viewport.set(me.x,me.y,me.width,me.height),de===0&&(w.matrix.copy(V.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale)),W===!0&&w.cameras.push(V)}const re=r.enabledFeatures;if(re&&re.includes("depth-sensing")){const de=d.getDepthInformation(J[0]);de&&de.isValid&&de.texture&&v.init(e,de,r.renderState)}}for(let J=0;J<b.length;J++){const W=x[J],re=b[J];W!==null&&re!==void 0&&re.update(W,he,c||s)}F&&F(Q,he),he.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:he}),m=null}const Ce=new DE;Ce.setAnimationLoop(se),this.setAnimationLoop=function(Q){F=Q},this.dispose=function(){}}}const as=new wi,R5=new et;function L5(t,e){function n(p,g){p.matrixAutoUpdate===!0&&p.updateMatrix(),g.value.copy(p.matrix)}function i(p,g){g.color.getRGB(p.fogColor.value,IE(t)),g.isFog?(p.fogNear.value=g.near,p.fogFar.value=g.far):g.isFogExp2&&(p.fogDensity.value=g.density)}function r(p,g,y,b,x){g.isMeshBasicMaterial||g.isMeshLambertMaterial?a(p,g):g.isMeshToonMaterial?(a(p,g),d(p,g)):g.isMeshPhongMaterial?(a(p,g),u(p,g)):g.isMeshStandardMaterial?(a(p,g),f(p,g),g.isMeshPhysicalMaterial&&h(p,g,x)):g.isMeshMatcapMaterial?(a(p,g),m(p,g)):g.isMeshDepthMaterial?a(p,g):g.isMeshDistanceMaterial?(a(p,g),v(p,g)):g.isMeshNormalMaterial?a(p,g):g.isLineBasicMaterial?(s(p,g),g.isLineDashedMaterial&&o(p,g)):g.isPointsMaterial?l(p,g,y,b):g.isSpriteMaterial?c(p,g):g.isShadowMaterial?(p.color.value.copy(g.color),p.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function a(p,g){p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map,n(g.map,p.mapTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.bumpMap&&(p.bumpMap.value=g.bumpMap,n(g.bumpMap,p.bumpMapTransform),p.bumpScale.value=g.bumpScale,g.side===ii&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,n(g.normalMap,p.normalMapTransform),p.normalScale.value.copy(g.normalScale),g.side===ii&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,n(g.displacementMap,p.displacementMapTransform),p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,p.emissiveMapTransform)),g.specularMap&&(p.specularMap.value=g.specularMap,n(g.specularMap,p.specularMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);const y=e.get(g),b=y.envMap,x=y.envMapRotation;b&&(p.envMap.value=b,as.copy(x),as.x*=-1,as.y*=-1,as.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(as.y*=-1,as.z*=-1),p.envMapRotation.value.setFromMatrix4(R5.makeRotationFromEuler(as)),p.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=g.reflectivity,p.ior.value=g.ior,p.refractionRatio.value=g.refractionRatio),g.lightMap&&(p.lightMap.value=g.lightMap,p.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,p.lightMapTransform)),g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,p.aoMapTransform))}function s(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,g.map&&(p.map.value=g.map,n(g.map,p.mapTransform))}function o(p,g){p.dashSize.value=g.dashSize,p.totalSize.value=g.dashSize+g.gapSize,p.scale.value=g.scale}function l(p,g,y,b){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.size.value=g.size*y,p.scale.value=b*.5,g.map&&(p.map.value=g.map,n(g.map,p.uvTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest)}function c(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.rotation.value=g.rotation,g.map&&(p.map.value=g.map,n(g.map,p.mapTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest)}function u(p,g){p.specular.value.copy(g.specular),p.shininess.value=Math.max(g.shininess,1e-4)}function d(p,g){g.gradientMap&&(p.gradientMap.value=g.gradientMap)}function f(p,g){p.metalness.value=g.metalness,g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,p.metalnessMapTransform)),p.roughness.value=g.roughness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,p.roughnessMapTransform)),g.envMap&&(p.envMapIntensity.value=g.envMapIntensity)}function h(p,g,y){p.ior.value=g.ior,g.sheen>0&&(p.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),p.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(p.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,p.sheenColorMapTransform)),g.sheenRoughnessMap&&(p.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,p.sheenRoughnessMapTransform))),g.clearcoat>0&&(p.clearcoat.value=g.clearcoat,p.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(p.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,p.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,p.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(p.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,p.clearcoatNormalMapTransform),p.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ii&&p.clearcoatNormalScale.value.negate())),g.dispersion>0&&(p.dispersion.value=g.dispersion),g.iridescence>0&&(p.iridescence.value=g.iridescence,p.iridescenceIOR.value=g.iridescenceIOR,p.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(p.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,p.iridescenceMapTransform)),g.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,p.iridescenceThicknessMapTransform))),g.transmission>0&&(p.transmission.value=g.transmission,p.transmissionSamplerMap.value=y.texture,p.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(p.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,p.transmissionMapTransform)),p.thickness.value=g.thickness,g.thicknessMap&&(p.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,p.thicknessMapTransform)),p.attenuationDistance.value=g.attenuationDistance,p.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(p.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(p.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,p.anisotropyMapTransform))),p.specularIntensity.value=g.specularIntensity,p.specularColor.value.copy(g.specularColor),g.specularColorMap&&(p.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,p.specularColorMapTransform)),g.specularIntensityMap&&(p.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,p.specularIntensityMapTransform))}function m(p,g){g.matcap&&(p.matcap.value=g.matcap)}function v(p,g){const y=e.get(g).light;p.referencePosition.value.setFromMatrixPosition(y.matrixWorld),p.nearDistance.value=y.shadow.camera.near,p.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function k5(t,e,n,i){let r={},a={},s=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,b){const x=b.program;i.uniformBlockBinding(y,x)}function c(y,b){let x=r[y.id];x===void 0&&(m(y),x=u(y),r[y.id]=x,y.addEventListener("dispose",p));const E=b.program;i.updateUBOMapping(y,E);const M=e.render.frame;a[y.id]!==M&&(f(y),a[y.id]=M)}function u(y){const b=d();y.__bindingPointIndex=b;const x=t.createBuffer(),E=y.__size,M=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,x),t.bufferData(t.UNIFORM_BUFFER,E,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,x),x}function d(){for(let y=0;y<o;y++)if(s.indexOf(y)===-1)return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const b=r[y.id],x=y.uniforms,E=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let M=0,A=x.length;M<A;M++){const C=Array.isArray(x[M])?x[M]:[x[M]];for(let S=0,w=C.length;S<w;S++){const T=C[S];if(h(T,M,S,E)===!0){const I=T.__offset,D=Array.isArray(T.value)?T.value:[T.value];let N=0;for(let $=0;$<D.length;$++){const U=D[$],Z=v(U);typeof U=="number"||typeof U=="boolean"?(T.__data[0]=U,t.bufferSubData(t.UNIFORM_BUFFER,I+N,T.__data)):U.isMatrix3?(T.__data[0]=U.elements[0],T.__data[1]=U.elements[1],T.__data[2]=U.elements[2],T.__data[3]=0,T.__data[4]=U.elements[3],T.__data[5]=U.elements[4],T.__data[6]=U.elements[5],T.__data[7]=0,T.__data[8]=U.elements[6],T.__data[9]=U.elements[7],T.__data[10]=U.elements[8],T.__data[11]=0):(U.toArray(T.__data,N),N+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,I,T.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(y,b,x,E){const M=y.value,A=b+"_"+x;if(E[A]===void 0)return typeof M=="number"||typeof M=="boolean"?E[A]=M:E[A]=M.clone(),!0;{const C=E[A];if(typeof M=="number"||typeof M=="boolean"){if(C!==M)return E[A]=M,!0}else if(C.equals(M)===!1)return C.copy(M),!0}return!1}function m(y){const b=y.uniforms;let x=0;const E=16;for(let A=0,C=b.length;A<C;A++){const S=Array.isArray(b[A])?b[A]:[b[A]];for(let w=0,T=S.length;w<T;w++){const I=S[w],D=Array.isArray(I.value)?I.value:[I.value];for(let N=0,$=D.length;N<$;N++){const U=D[N],Z=v(U),Y=x%E,j=Y%Z.boundary,q=Y+j;x+=j,q!==0&&E-q<Z.storage&&(x+=E-q),I.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=x,x+=Z.storage}}}const M=x%E;return M>0&&(x+=E-M),y.__size=x,y.__cache={},this}function v(y){const b={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(b.boundary=4,b.storage=4):y.isVector2?(b.boundary=8,b.storage=8):y.isVector3||y.isColor?(b.boundary=16,b.storage=12):y.isVector4?(b.boundary=16,b.storage=16):y.isMatrix3?(b.boundary=48,b.storage=48):y.isMatrix4?(b.boundary=64,b.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),b}function p(y){const b=y.target;b.removeEventListener("dispose",p);const x=s.indexOf(b.__bindingPointIndex);s.splice(x,1),t.deleteBuffer(r[b.id]),delete r[b.id],delete a[b.id]}function g(){for(const y in r)t.deleteBuffer(r[y]);s=[],r={},a={}}return{bind:l,update:c,dispose:g}}class ef{constructor(e={}){const{canvas:n=AE(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let f;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=i.getContextAttributes().alpha}else f=s;const h=new Uint32Array(4),m=new Int32Array(4);let v=null,p=null;const g=[],y=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=gi,this.toneMapping=hr,this.toneMappingExposure=1;const b=this;let x=!1,E=0,M=0,A=null,C=-1,S=null;const w=new Lt,T=new Lt;let I=null;const D=new Ue(0);let N=0,$=n.width,U=n.height,Z=1,Y=null,j=null;const q=new Lt(0,0,$,U),F=new Lt(0,0,$,U);let se=!1;const Ce=new Eu;let Q=!1,he=!1;const J=new et,W=new H,re=new Lt,de={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let _e=!1;function me(){return A===null?Z:1}let V=i;function L(B,ae){return n.getContext(B,ae)}try{const B={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${xu}`),n.addEventListener("webglcontextlost",Me,!1),n.addEventListener("webglcontextrestored",Ae,!1),n.addEventListener("webglcontextcreationerror",Ne,!1),V===null){const ae="webgl2";if(V=L(ae,B),V===null)throw L(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(B){throw console.error("THREE.WebGLRenderer: "+B.message),B}let k,z,G,K,ee,fe,O,R,X,le,ne,ce,Pe,we,Re,ze,Ie,ke,st,qe,He,ot,Qe,gt;function ie(){k=new UH(V),k.init(),ot=new FE(V,k),z=new DH(V,k,e,ot),G=new _5(V),K=new GH(V),ee=new o5,fe=new C5(V,k,G,ee,z,ot,K),O=new VH(b),R=new FH(b),X=new KF(V),Qe=new LH(V,X),le=new zH(V,X,K,Qe),ne=new $H(V,le,X,K),st=new WH(V,z,fe),ze=new OH(ee),ce=new s5(b,O,R,k,z,Qe,ze),Pe=new L5(b,ee),we=new c5,Re=new p5(k),ke=new RH(b,O,R,G,ne,f,l),Ie=new y5(b,ne,z),gt=new k5(V,K,z,G),qe=new kH(V,k,K),He=new HH(V,k,K),K.programs=ce.programs,b.capabilities=z,b.extensions=k,b.properties=ee,b.renderLists=we,b.shadowMap=Ie,b.state=G,b.info=K}ie();const De=new I5(b,V);this.xr=De,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const B=k.get("WEBGL_lose_context");B&&B.loseContext()},this.forceContextRestore=function(){const B=k.get("WEBGL_lose_context");B&&B.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(B){B!==void 0&&(Z=B,this.setSize($,U,!1))},this.getSize=function(B){return B.set($,U)},this.setSize=function(B,ae,ge=!0){if(De.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=B,U=ae,n.width=Math.floor(B*Z),n.height=Math.floor(ae*Z),ge===!0&&(n.style.width=B+"px",n.style.height=ae+"px"),this.setViewport(0,0,B,ae)},this.getDrawingBufferSize=function(B){return B.set($*Z,U*Z).floor()},this.setDrawingBufferSize=function(B,ae,ge){$=B,U=ae,Z=ge,n.width=Math.floor(B*ge),n.height=Math.floor(ae*ge),this.setViewport(0,0,B,ae)},this.getCurrentViewport=function(B){return B.copy(w)},this.getViewport=function(B){return B.copy(q)},this.setViewport=function(B,ae,ge,ye){B.isVector4?q.set(B.x,B.y,B.z,B.w):q.set(B,ae,ge,ye),G.viewport(w.copy(q).multiplyScalar(Z).round())},this.getScissor=function(B){return B.copy(F)},this.setScissor=function(B,ae,ge,ye){B.isVector4?F.set(B.x,B.y,B.z,B.w):F.set(B,ae,ge,ye),G.scissor(T.copy(F).multiplyScalar(Z).round())},this.getScissorTest=function(){return se},this.setScissorTest=function(B){G.setScissorTest(se=B)},this.setOpaqueSort=function(B){Y=B},this.setTransparentSort=function(B){j=B},this.getClearColor=function(B){return B.copy(ke.getClearColor())},this.setClearColor=function(){ke.setClearColor.apply(ke,arguments)},this.getClearAlpha=function(){return ke.getClearAlpha()},this.setClearAlpha=function(){ke.setClearAlpha.apply(ke,arguments)},this.clear=function(B=!0,ae=!0,ge=!0){let ye=0;if(B){let oe=!1;if(A!==null){const Oe=A.texture.format;oe=Oe===Jh||Oe===Zh||Oe===wu}if(oe){const Oe=A.texture.type,Ge=Oe===gr||Oe===ea||Oe===dl||Oe===$s||Oe===qh||Oe===jh,$e=ke.getClearColor(),Xe=ke.getClearAlpha(),at=$e.r,lt=$e.g,Ke=$e.b;Ge?(h[0]=at,h[1]=lt,h[2]=Ke,h[3]=Xe,V.clearBufferuiv(V.COLOR,0,h)):(m[0]=at,m[1]=lt,m[2]=Ke,m[3]=Xe,V.clearBufferiv(V.COLOR,0,m))}else ye|=V.COLOR_BUFFER_BIT}ae&&(ye|=V.DEPTH_BUFFER_BIT),ge&&(ye|=V.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),V.clear(ye)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Me,!1),n.removeEventListener("webglcontextrestored",Ae,!1),n.removeEventListener("webglcontextcreationerror",Ne,!1),we.dispose(),Re.dispose(),ee.dispose(),O.dispose(),R.dispose(),ne.dispose(),Qe.dispose(),gt.dispose(),ce.dispose(),De.dispose(),De.removeEventListener("sessionstart",ir),De.removeEventListener("sessionend",D0),qa.stop()};function Me(B){B.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Ae(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const B=K.autoReset,ae=Ie.enabled,ge=Ie.autoUpdate,ye=Ie.needsUpdate,oe=Ie.type;ie(),K.autoReset=B,Ie.enabled=ae,Ie.autoUpdate=ge,Ie.needsUpdate=ye,Ie.type=oe}function Ne(B){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",B.statusMessage)}function rt(B){const ae=B.target;ae.removeEventListener("dispose",rt),St(ae)}function St(B){fn(B),ee.remove(B)}function fn(B){const ae=ee.get(B).programs;ae!==void 0&&(ae.forEach(function(ge){ce.releaseProgram(ge)}),B.isShaderMaterial&&ce.releaseShaderCache(B))}this.renderBufferDirect=function(B,ae,ge,ye,oe,Oe){ae===null&&(ae=de);const Ge=oe.isMesh&&oe.matrixWorld.determinant()<0,$e=sP(B,ae,ge,ye,oe);G.setMaterial(ye,Ge);let Xe=ge.index,at=1;if(ye.wireframe===!0){if(Xe=le.getWireframeAttribute(ge),Xe===void 0)return;at=2}const lt=ge.drawRange,Ke=ge.attributes.position;let Tt=lt.start*at,Qt=(lt.start+lt.count)*at;Oe!==null&&(Tt=Math.max(Tt,Oe.start*at),Qt=Math.min(Qt,(Oe.start+Oe.count)*at)),Xe!==null?(Tt=Math.max(Tt,0),Qt=Math.min(Qt,Xe.count)):Ke!=null&&(Tt=Math.max(Tt,0),Qt=Math.min(Qt,Ke.count));const en=Qt-Tt;if(en<0||en===1/0)return;Qe.setup(oe,ye,$e,ge,Xe);let hi,Pt=qe;if(Xe!==null&&(hi=X.get(Xe),Pt=He,Pt.setIndex(hi)),oe.isMesh)ye.wireframe===!0?(G.setLineWidth(ye.wireframeLinewidth*me()),Pt.setMode(V.LINES)):Pt.setMode(V.TRIANGLES);else if(oe.isLine){let Je=ye.linewidth;Je===void 0&&(Je=1),G.setLineWidth(Je*me()),oe.isLineSegments?Pt.setMode(V.LINES):oe.isLineLoop?Pt.setMode(V.LINE_LOOP):Pt.setMode(V.LINE_STRIP)}else oe.isPoints?Pt.setMode(V.POINTS):oe.isSprite&&Pt.setMode(V.TRIANGLES);if(oe.isBatchedMesh)if(oe._multiDrawInstances!==null)Pt.renderMultiDrawInstances(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount,oe._multiDrawInstances);else if(k.get("WEBGL_multi_draw"))Pt.renderMultiDraw(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount);else{const Je=oe._multiDrawStarts,Ln=oe._multiDrawCounts,It=oe._multiDrawCount,Fi=Xe?X.get(Xe).bytesPerElement:1,co=ee.get(ye).currentProgram.getUniforms();for(let mi=0;mi<It;mi++)co.setValue(V,"_gl_DrawID",mi),Pt.render(Je[mi]/Fi,Ln[mi])}else if(oe.isInstancedMesh)Pt.renderInstances(Tt,en,oe.count);else if(ge.isInstancedBufferGeometry){const Je=ge._maxInstanceCount!==void 0?ge._maxInstanceCount:1/0,Ln=Math.min(ge.instanceCount,Je);Pt.renderInstances(Tt,en,Ln)}else Pt.render(Tt,en)};function Rn(B,ae,ge){B.transparent===!0&&B.side===$i&&B.forceSinglePass===!1?(B.side=ii,B.needsUpdate=!0,Du(B,ae,ge),B.side=Jr,B.needsUpdate=!0,Du(B,ae,ge),B.side=$i):Du(B,ae,ge)}this.compile=function(B,ae,ge=null){ge===null&&(ge=B),p=Re.get(ge),p.init(ae),y.push(p),ge.traverseVisible(function(oe){oe.isLight&&oe.layers.test(ae.layers)&&(p.pushLight(oe),oe.castShadow&&p.pushShadow(oe))}),B!==ge&&B.traverseVisible(function(oe){oe.isLight&&oe.layers.test(ae.layers)&&(p.pushLight(oe),oe.castShadow&&p.pushShadow(oe))}),p.setupLights();const ye=new Set;return B.traverse(function(oe){const Oe=oe.material;if(Oe)if(Array.isArray(Oe))for(let Ge=0;Ge<Oe.length;Ge++){const $e=Oe[Ge];Rn($e,ge,oe),ye.add($e)}else Rn(Oe,ge,oe),ye.add(Oe)}),y.pop(),p=null,ye},this.compileAsync=function(B,ae,ge=null){const ye=this.compile(B,ae,ge);return new Promise(oe=>{function Oe(){if(ye.forEach(function(Ge){ee.get(Ge).currentProgram.isReady()&&ye.delete(Ge)}),ye.size===0){oe(B);return}setTimeout(Oe,10)}k.get("KHR_parallel_shader_compile")!==null?Oe():setTimeout(Oe,10)})};let Et=null;function Ar(B){Et&&Et(B)}function ir(){qa.stop()}function D0(){qa.start()}const qa=new DE;qa.setAnimationLoop(Ar),typeof self<"u"&&qa.setContext(self),this.setAnimationLoop=function(B){Et=B,De.setAnimationLoop(B),B===null?qa.stop():qa.start()},De.addEventListener("sessionstart",ir),De.addEventListener("sessionend",D0),this.render=function(B,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;if(B.matrixWorldAutoUpdate===!0&&B.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),De.enabled===!0&&De.isPresenting===!0&&(De.cameraAutoUpdate===!0&&De.updateCamera(ae),ae=De.getCamera()),B.isScene===!0&&B.onBeforeRender(b,B,ae,A),p=Re.get(B,y.length),p.init(ae),y.push(p),J.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),Ce.setFromProjectionMatrix(J),he=this.localClippingEnabled,Q=ze.init(this.clippingPlanes,he),v=we.get(B,g.length),v.init(),g.push(v),De.enabled===!0&&De.isPresenting===!0){const Oe=b.xr.getDepthSensingMesh();Oe!==null&&Im(Oe,ae,-1/0,b.sortObjects)}Im(B,ae,0,b.sortObjects),v.finish(),b.sortObjects===!0&&v.sort(Y,j),_e=De.enabled===!1||De.isPresenting===!1||De.hasDepthSensing()===!1,_e&&ke.addToRenderList(v,B),this.info.render.frame++,Q===!0&&ze.beginShadows();const ge=p.state.shadowsArray;Ie.render(ge,B,ae),Q===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset();const ye=v.opaque,oe=v.transmissive;if(p.setupLights(),ae.isArrayCamera){const Oe=ae.cameras;if(oe.length>0)for(let Ge=0,$e=Oe.length;Ge<$e;Ge++){const Xe=Oe[Ge];V0(ye,oe,B,Xe)}_e&&ke.render(B);for(let Ge=0,$e=Oe.length;Ge<$e;Ge++){const Xe=Oe[Ge];O0(v,B,Xe,Xe.viewport)}}else oe.length>0&&V0(ye,oe,B,ae),_e&&ke.render(B),O0(v,B,ae);A!==null&&(fe.updateMultisampleRenderTarget(A),fe.updateRenderTargetMipmap(A)),B.isScene===!0&&B.onAfterRender(b,B,ae),Qe.resetDefaultState(),C=-1,S=null,y.pop(),y.length>0?(p=y[y.length-1],Q===!0&&ze.setGlobalState(b.clippingPlanes,p.state.camera)):p=null,g.pop(),g.length>0?v=g[g.length-1]:v=null};function Im(B,ae,ge,ye){if(B.visible===!1)return;if(B.layers.test(ae.layers)){if(B.isGroup)ge=B.renderOrder;else if(B.isLOD)B.autoUpdate===!0&&B.update(ae);else if(B.isLight)p.pushLight(B),B.castShadow&&p.pushShadow(B);else if(B.isSprite){if(!B.frustumCulled||Ce.intersectsSprite(B)){ye&&re.setFromMatrixPosition(B.matrixWorld).applyMatrix4(J);const Ge=ne.update(B),$e=B.material;$e.visible&&v.push(B,Ge,$e,ge,re.z,null)}}else if((B.isMesh||B.isLine||B.isPoints)&&(!B.frustumCulled||Ce.intersectsObject(B))){const Ge=ne.update(B),$e=B.material;if(ye&&(B.boundingSphere!==void 0?(B.boundingSphere===null&&B.computeBoundingSphere(),re.copy(B.boundingSphere.center)):(Ge.boundingSphere===null&&Ge.computeBoundingSphere(),re.copy(Ge.boundingSphere.center)),re.applyMatrix4(B.matrixWorld).applyMatrix4(J)),Array.isArray($e)){const Xe=Ge.groups;for(let at=0,lt=Xe.length;at<lt;at++){const Ke=Xe[at],Tt=$e[Ke.materialIndex];Tt&&Tt.visible&&v.push(B,Ge,Tt,ge,re.z,Ke)}}else $e.visible&&v.push(B,Ge,$e,ge,re.z,null)}}const Oe=B.children;for(let Ge=0,$e=Oe.length;Ge<$e;Ge++)Im(Oe[Ge],ae,ge,ye)}function O0(B,ae,ge,ye){const oe=B.opaque,Oe=B.transmissive,Ge=B.transparent;p.setupLightsView(ge),Q===!0&&ze.setGlobalState(b.clippingPlanes,ge),ye&&G.viewport(w.copy(ye)),oe.length>0&&ku(oe,ae,ge),Oe.length>0&&ku(Oe,ae,ge),Ge.length>0&&ku(Ge,ae,ge),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1)}function V0(B,ae,ge,ye){if((ge.isScene===!0?ge.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[ye.id]===void 0&&(p.state.transmissionRenderTarget[ye.id]=new Ki(1,1,{generateMipmaps:!0,type:k.has("EXT_color_buffer_half_float")||k.has("EXT_color_buffer_float")?Cl:gr,minFilter:ur,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:At.workingColorSpace}));const Oe=p.state.transmissionRenderTarget[ye.id],Ge=ye.viewport||w;Oe.setSize(Ge.z,Ge.w);const $e=b.getRenderTarget();b.setRenderTarget(Oe),b.getClearColor(D),N=b.getClearAlpha(),N<1&&b.setClearColor(16777215,.5),b.clear(),_e&&ke.render(ge);const Xe=b.toneMapping;b.toneMapping=hr;const at=ye.viewport;if(ye.viewport!==void 0&&(ye.viewport=void 0),p.setupLightsView(ye),Q===!0&&ze.setGlobalState(b.clippingPlanes,ye),ku(B,ge,ye),fe.updateMultisampleRenderTarget(Oe),fe.updateRenderTargetMipmap(Oe),k.has("WEBGL_multisampled_render_to_texture")===!1){let lt=!1;for(let Ke=0,Tt=ae.length;Ke<Tt;Ke++){const Qt=ae[Ke],en=Qt.object,hi=Qt.geometry,Pt=Qt.material,Je=Qt.group;if(Pt.side===$i&&en.layers.test(ye.layers)){const Ln=Pt.side;Pt.side=ii,Pt.needsUpdate=!0,N0(en,ge,ye,hi,Pt,Je),Pt.side=Ln,Pt.needsUpdate=!0,lt=!0}}lt===!0&&(fe.updateMultisampleRenderTarget(Oe),fe.updateRenderTargetMipmap(Oe))}b.setRenderTarget($e),b.setClearColor(D,N),at!==void 0&&(ye.viewport=at),b.toneMapping=Xe}function ku(B,ae,ge){const ye=ae.isScene===!0?ae.overrideMaterial:null;for(let oe=0,Oe=B.length;oe<Oe;oe++){const Ge=B[oe],$e=Ge.object,Xe=Ge.geometry,at=ye===null?Ge.material:ye,lt=Ge.group;$e.layers.test(ge.layers)&&N0($e,ae,ge,Xe,at,lt)}}function N0(B,ae,ge,ye,oe,Oe){B.onBeforeRender(b,ae,ge,ye,oe,Oe),B.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,B.matrixWorld),B.normalMatrix.getNormalMatrix(B.modelViewMatrix),oe.onBeforeRender(b,ae,ge,ye,B,Oe),oe.transparent===!0&&oe.side===$i&&oe.forceSinglePass===!1?(oe.side=ii,oe.needsUpdate=!0,b.renderBufferDirect(ge,ae,ye,oe,B,Oe),oe.side=Jr,oe.needsUpdate=!0,b.renderBufferDirect(ge,ae,ye,oe,B,Oe),oe.side=$i):b.renderBufferDirect(ge,ae,ye,oe,B,Oe),B.onAfterRender(b,ae,ge,ye,oe,Oe)}function Du(B,ae,ge){ae.isScene!==!0&&(ae=de);const ye=ee.get(B),oe=p.state.lights,Oe=p.state.shadowsArray,Ge=oe.state.version,$e=ce.getParameters(B,oe.state,Oe,ae,ge),Xe=ce.getProgramCacheKey($e);let at=ye.programs;ye.environment=B.isMeshStandardMaterial?ae.environment:null,ye.fog=ae.fog,ye.envMap=(B.isMeshStandardMaterial?R:O).get(B.envMap||ye.environment),ye.envMapRotation=ye.environment!==null&&B.envMap===null?ae.environmentRotation:B.envMapRotation,at===void 0&&(B.addEventListener("dispose",rt),at=new Map,ye.programs=at);let lt=at.get(Xe);if(lt!==void 0){if(ye.currentProgram===lt&&ye.lightsStateVersion===Ge)return F0(B,$e),lt}else $e.uniforms=ce.getUniforms(B),B.onBeforeCompile($e,b),lt=ce.acquireProgram($e,Xe),at.set(Xe,lt),ye.uniforms=$e.uniforms;const Ke=ye.uniforms;return(!B.isShaderMaterial&&!B.isRawShaderMaterial||B.clipping===!0)&&(Ke.clippingPlanes=ze.uniform),F0(B,$e),ye.needsLights=lP(B),ye.lightsStateVersion=Ge,ye.needsLights&&(Ke.ambientLightColor.value=oe.state.ambient,Ke.lightProbe.value=oe.state.probe,Ke.directionalLights.value=oe.state.directional,Ke.directionalLightShadows.value=oe.state.directionalShadow,Ke.spotLights.value=oe.state.spot,Ke.spotLightShadows.value=oe.state.spotShadow,Ke.rectAreaLights.value=oe.state.rectArea,Ke.ltc_1.value=oe.state.rectAreaLTC1,Ke.ltc_2.value=oe.state.rectAreaLTC2,Ke.pointLights.value=oe.state.point,Ke.pointLightShadows.value=oe.state.pointShadow,Ke.hemisphereLights.value=oe.state.hemi,Ke.directionalShadowMap.value=oe.state.directionalShadowMap,Ke.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,Ke.spotShadowMap.value=oe.state.spotShadowMap,Ke.spotLightMatrix.value=oe.state.spotLightMatrix,Ke.spotLightMap.value=oe.state.spotLightMap,Ke.pointShadowMap.value=oe.state.pointShadowMap,Ke.pointShadowMatrix.value=oe.state.pointShadowMatrix),ye.currentProgram=lt,ye.uniformsList=null,lt}function B0(B){if(B.uniformsList===null){const ae=B.currentProgram.getUniforms();B.uniformsList=Qd.seqWithValue(ae.seq,B.uniforms)}return B.uniformsList}function F0(B,ae){const ge=ee.get(B);ge.outputColorSpace=ae.outputColorSpace,ge.batching=ae.batching,ge.batchingColor=ae.batchingColor,ge.instancing=ae.instancing,ge.instancingColor=ae.instancingColor,ge.instancingMorph=ae.instancingMorph,ge.skinning=ae.skinning,ge.morphTargets=ae.morphTargets,ge.morphNormals=ae.morphNormals,ge.morphColors=ae.morphColors,ge.morphTargetsCount=ae.morphTargetsCount,ge.numClippingPlanes=ae.numClippingPlanes,ge.numIntersection=ae.numClipIntersection,ge.vertexAlphas=ae.vertexAlphas,ge.vertexTangents=ae.vertexTangents,ge.toneMapping=ae.toneMapping}function sP(B,ae,ge,ye,oe){ae.isScene!==!0&&(ae=de),fe.resetTextureUnits();const Oe=ae.fog,Ge=ye.isMeshStandardMaterial?ae.environment:null,$e=A===null?b.outputColorSpace:A.isXRRenderTarget===!0?A.texture.colorSpace:oa,Xe=(ye.isMeshStandardMaterial?R:O).get(ye.envMap||Ge),at=ye.vertexColors===!0&&!!ge.attributes.color&&ge.attributes.color.itemSize===4,lt=!!ge.attributes.tangent&&(!!ye.normalMap||ye.anisotropy>0),Ke=!!ge.morphAttributes.position,Tt=!!ge.morphAttributes.normal,Qt=!!ge.morphAttributes.color;let en=hr;ye.toneMapped&&(A===null||A.isXRRenderTarget===!0)&&(en=b.toneMapping);const hi=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,Pt=hi!==void 0?hi.length:0,Je=ee.get(ye),Ln=p.state.lights;if(Q===!0&&(he===!0||B!==S)){const Ti=B===S&&ye.id===C;ze.setState(ye,B,Ti)}let It=!1;ye.version===Je.__version?(Je.needsLights&&Je.lightsStateVersion!==Ln.state.version||Je.outputColorSpace!==$e||oe.isBatchedMesh&&Je.batching===!1||!oe.isBatchedMesh&&Je.batching===!0||oe.isBatchedMesh&&Je.batchingColor===!0&&oe.colorTexture===null||oe.isBatchedMesh&&Je.batchingColor===!1&&oe.colorTexture!==null||oe.isInstancedMesh&&Je.instancing===!1||!oe.isInstancedMesh&&Je.instancing===!0||oe.isSkinnedMesh&&Je.skinning===!1||!oe.isSkinnedMesh&&Je.skinning===!0||oe.isInstancedMesh&&Je.instancingColor===!0&&oe.instanceColor===null||oe.isInstancedMesh&&Je.instancingColor===!1&&oe.instanceColor!==null||oe.isInstancedMesh&&Je.instancingMorph===!0&&oe.morphTexture===null||oe.isInstancedMesh&&Je.instancingMorph===!1&&oe.morphTexture!==null||Je.envMap!==Xe||ye.fog===!0&&Je.fog!==Oe||Je.numClippingPlanes!==void 0&&(Je.numClippingPlanes!==ze.numPlanes||Je.numIntersection!==ze.numIntersection)||Je.vertexAlphas!==at||Je.vertexTangents!==lt||Je.morphTargets!==Ke||Je.morphNormals!==Tt||Je.morphColors!==Qt||Je.toneMapping!==en||Je.morphTargetsCount!==Pt)&&(It=!0):(It=!0,Je.__version=ye.version);let Fi=Je.currentProgram;It===!0&&(Fi=Du(ye,ae,oe));let co=!1,mi=!1,Rm=!1;const hn=Fi.getUniforms(),da=Je.uniforms;if(G.useProgram(Fi.program)&&(co=!0,mi=!0,Rm=!0),ye.id!==C&&(C=ye.id,mi=!0),co||S!==B){hn.setValue(V,"projectionMatrix",B.projectionMatrix),hn.setValue(V,"viewMatrix",B.matrixWorldInverse);const Ti=hn.map.cameraPosition;Ti!==void 0&&Ti.setValue(V,W.setFromMatrixPosition(B.matrixWorld)),z.logarithmicDepthBuffer&&hn.setValue(V,"logDepthBufFC",2/(Math.log(B.far+1)/Math.LN2)),(ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshLambertMaterial||ye.isMeshBasicMaterial||ye.isMeshStandardMaterial||ye.isShaderMaterial)&&hn.setValue(V,"isOrthographic",B.isOrthographicCamera===!0),S!==B&&(S=B,mi=!0,Rm=!0)}if(oe.isSkinnedMesh){hn.setOptional(V,oe,"bindMatrix"),hn.setOptional(V,oe,"bindMatrixInverse");const Ti=oe.skeleton;Ti&&(Ti.boneTexture===null&&Ti.computeBoneTexture(),hn.setValue(V,"boneTexture",Ti.boneTexture,fe))}oe.isBatchedMesh&&(hn.setOptional(V,oe,"batchingTexture"),hn.setValue(V,"batchingTexture",oe._matricesTexture,fe),hn.setOptional(V,oe,"batchingIdTexture"),hn.setValue(V,"batchingIdTexture",oe._indirectTexture,fe),hn.setOptional(V,oe,"batchingColorTexture"),oe._colorsTexture!==null&&hn.setValue(V,"batchingColorTexture",oe._colorsTexture,fe));const Lm=ge.morphAttributes;if((Lm.position!==void 0||Lm.normal!==void 0||Lm.color!==void 0)&&st.update(oe,ge,Fi),(mi||Je.receiveShadow!==oe.receiveShadow)&&(Je.receiveShadow=oe.receiveShadow,hn.setValue(V,"receiveShadow",oe.receiveShadow)),ye.isMeshGouraudMaterial&&ye.envMap!==null&&(da.envMap.value=Xe,da.flipEnvMap.value=Xe.isCubeTexture&&Xe.isRenderTargetTexture===!1?-1:1),ye.isMeshStandardMaterial&&ye.envMap===null&&ae.environment!==null&&(da.envMapIntensity.value=ae.environmentIntensity),mi&&(hn.setValue(V,"toneMappingExposure",b.toneMappingExposure),Je.needsLights&&oP(da,Rm),Oe&&ye.fog===!0&&Pe.refreshFogUniforms(da,Oe),Pe.refreshMaterialUniforms(da,ye,Z,U,p.state.transmissionRenderTarget[B.id]),Qd.upload(V,B0(Je),da,fe)),ye.isShaderMaterial&&ye.uniformsNeedUpdate===!0&&(Qd.upload(V,B0(Je),da,fe),ye.uniformsNeedUpdate=!1),ye.isSpriteMaterial&&hn.setValue(V,"center",oe.center),hn.setValue(V,"modelViewMatrix",oe.modelViewMatrix),hn.setValue(V,"normalMatrix",oe.normalMatrix),hn.setValue(V,"modelMatrix",oe.matrixWorld),ye.isShaderMaterial||ye.isRawShaderMaterial){const Ti=ye.uniformsGroups;for(let km=0,cP=Ti.length;km<cP;km++){const U0=Ti[km];gt.update(U0,Fi),gt.bind(U0,Fi)}}return Fi}function oP(B,ae){B.ambientLightColor.needsUpdate=ae,B.lightProbe.needsUpdate=ae,B.directionalLights.needsUpdate=ae,B.directionalLightShadows.needsUpdate=ae,B.pointLights.needsUpdate=ae,B.pointLightShadows.needsUpdate=ae,B.spotLights.needsUpdate=ae,B.spotLightShadows.needsUpdate=ae,B.rectAreaLights.needsUpdate=ae,B.hemisphereLights.needsUpdate=ae}function lP(B){return B.isMeshLambertMaterial||B.isMeshToonMaterial||B.isMeshPhongMaterial||B.isMeshStandardMaterial||B.isShadowMaterial||B.isShaderMaterial&&B.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(B,ae,ge){ee.get(B.texture).__webglTexture=ae,ee.get(B.depthTexture).__webglTexture=ge;const ye=ee.get(B);ye.__hasExternalTextures=!0,ye.__autoAllocateDepthBuffer=ge===void 0,ye.__autoAllocateDepthBuffer||k.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ye.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(B,ae){const ge=ee.get(B);ge.__webglFramebuffer=ae,ge.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(B,ae=0,ge=0){A=B,E=ae,M=ge;let ye=!0,oe=null,Oe=!1,Ge=!1;if(B){const Xe=ee.get(B);if(Xe.__useDefaultFramebuffer!==void 0)G.bindFramebuffer(V.FRAMEBUFFER,null),ye=!1;else if(Xe.__webglFramebuffer===void 0)fe.setupRenderTarget(B);else if(Xe.__hasExternalTextures)fe.rebindTextures(B,ee.get(B.texture).__webglTexture,ee.get(B.depthTexture).__webglTexture);else if(B.depthBuffer){const Ke=B.depthTexture;if(Xe.__boundDepthTexture!==Ke){if(Ke!==null&&ee.has(Ke)&&(B.width!==Ke.image.width||B.height!==Ke.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");fe.setupDepthRenderbuffer(B)}}const at=B.texture;(at.isData3DTexture||at.isDataArrayTexture||at.isCompressedArrayTexture)&&(Ge=!0);const lt=ee.get(B).__webglFramebuffer;B.isWebGLCubeRenderTarget?(Array.isArray(lt[ae])?oe=lt[ae][ge]:oe=lt[ae],Oe=!0):B.samples>0&&fe.useMultisampledRTT(B)===!1?oe=ee.get(B).__webglMultisampledFramebuffer:Array.isArray(lt)?oe=lt[ge]:oe=lt,w.copy(B.viewport),T.copy(B.scissor),I=B.scissorTest}else w.copy(q).multiplyScalar(Z).floor(),T.copy(F).multiplyScalar(Z).floor(),I=se;if(G.bindFramebuffer(V.FRAMEBUFFER,oe)&&ye&&G.drawBuffers(B,oe),G.viewport(w),G.scissor(T),G.setScissorTest(I),Oe){const Xe=ee.get(B.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Xe.__webglTexture,ge)}else if(Ge){const Xe=ee.get(B.texture),at=ae||0;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,Xe.__webglTexture,ge||0,at)}C=-1},this.readRenderTargetPixels=function(B,ae,ge,ye,oe,Oe,Ge){if(!(B&&B.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let $e=ee.get(B).__webglFramebuffer;if(B.isWebGLCubeRenderTarget&&Ge!==void 0&&($e=$e[Ge]),$e){G.bindFramebuffer(V.FRAMEBUFFER,$e);try{const Xe=B.texture,at=Xe.format,lt=Xe.type;if(!z.textureFormatReadable(at)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!z.textureTypeReadable(lt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=B.width-ye&&ge>=0&&ge<=B.height-oe&&V.readPixels(ae,ge,ye,oe,ot.convert(at),ot.convert(lt),Oe)}finally{const Xe=A!==null?ee.get(A).__webglFramebuffer:null;G.bindFramebuffer(V.FRAMEBUFFER,Xe)}}},this.readRenderTargetPixelsAsync=async function(B,ae,ge,ye,oe,Oe,Ge){if(!(B&&B.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let $e=ee.get(B).__webglFramebuffer;if(B.isWebGLCubeRenderTarget&&Ge!==void 0&&($e=$e[Ge]),$e){G.bindFramebuffer(V.FRAMEBUFFER,$e);try{const Xe=B.texture,at=Xe.format,lt=Xe.type;if(!z.textureFormatReadable(at))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!z.textureTypeReadable(lt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ae>=0&&ae<=B.width-ye&&ge>=0&&ge<=B.height-oe){const Ke=V.createBuffer();V.bindBuffer(V.PIXEL_PACK_BUFFER,Ke),V.bufferData(V.PIXEL_PACK_BUFFER,Oe.byteLength,V.STREAM_READ),V.readPixels(ae,ge,ye,oe,ot.convert(at),ot.convert(lt),0),V.flush();const Tt=V.fenceSync(V.SYNC_GPU_COMMANDS_COMPLETE,0);await xF(V,Tt,4);try{V.bindBuffer(V.PIXEL_PACK_BUFFER,Ke),V.getBufferSubData(V.PIXEL_PACK_BUFFER,0,Oe)}finally{V.deleteBuffer(Ke),V.deleteSync(Tt)}return Oe}}finally{const Xe=A!==null?ee.get(A).__webglFramebuffer:null;G.bindFramebuffer(V.FRAMEBUFFER,Xe)}}},this.copyFramebufferToTexture=function(B,ae=null,ge=0){B.isTexture!==!0&&(el("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ae=arguments[0]||null,B=arguments[1]);const ye=Math.pow(2,-ge),oe=Math.floor(B.image.width*ye),Oe=Math.floor(B.image.height*ye),Ge=ae!==null?ae.x:0,$e=ae!==null?ae.y:0;fe.setTexture2D(B,0),V.copyTexSubImage2D(V.TEXTURE_2D,ge,0,0,Ge,$e,oe,Oe),G.unbindTexture()},this.copyTextureToTexture=function(B,ae,ge=null,ye=null,oe=0){B.isTexture!==!0&&(el("WebGLRenderer: copyTextureToTexture function signature has changed."),ye=arguments[0]||null,B=arguments[1],ae=arguments[2],oe=arguments[3]||0,ge=null);let Oe,Ge,$e,Xe,at,lt;ge!==null?(Oe=ge.max.x-ge.min.x,Ge=ge.max.y-ge.min.y,$e=ge.min.x,Xe=ge.min.y):(Oe=B.image.width,Ge=B.image.height,$e=0,Xe=0),ye!==null?(at=ye.x,lt=ye.y):(at=0,lt=0);const Ke=ot.convert(ae.format),Tt=ot.convert(ae.type);fe.setTexture2D(ae,0),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,ae.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,ae.unpackAlignment);const Qt=V.getParameter(V.UNPACK_ROW_LENGTH),en=V.getParameter(V.UNPACK_IMAGE_HEIGHT),hi=V.getParameter(V.UNPACK_SKIP_PIXELS),Pt=V.getParameter(V.UNPACK_SKIP_ROWS),Je=V.getParameter(V.UNPACK_SKIP_IMAGES),Ln=B.isCompressedTexture?B.mipmaps[oe]:B.image;V.pixelStorei(V.UNPACK_ROW_LENGTH,Ln.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Ln.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,$e),V.pixelStorei(V.UNPACK_SKIP_ROWS,Xe),B.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,oe,at,lt,Oe,Ge,Ke,Tt,Ln.data):B.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,oe,at,lt,Ln.width,Ln.height,Ke,Ln.data):V.texSubImage2D(V.TEXTURE_2D,oe,at,lt,Oe,Ge,Ke,Tt,Ln),V.pixelStorei(V.UNPACK_ROW_LENGTH,Qt),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,en),V.pixelStorei(V.UNPACK_SKIP_PIXELS,hi),V.pixelStorei(V.UNPACK_SKIP_ROWS,Pt),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Je),oe===0&&ae.generateMipmaps&&V.generateMipmap(V.TEXTURE_2D),G.unbindTexture()},this.copyTextureToTexture3D=function(B,ae,ge=null,ye=null,oe=0){B.isTexture!==!0&&(el("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ge=arguments[0]||null,ye=arguments[1]||null,B=arguments[2],ae=arguments[3],oe=arguments[4]||0);let Oe,Ge,$e,Xe,at,lt,Ke,Tt,Qt;const en=B.isCompressedTexture?B.mipmaps[oe]:B.image;ge!==null?(Oe=ge.max.x-ge.min.x,Ge=ge.max.y-ge.min.y,$e=ge.max.z-ge.min.z,Xe=ge.min.x,at=ge.min.y,lt=ge.min.z):(Oe=en.width,Ge=en.height,$e=en.depth,Xe=0,at=0,lt=0),ye!==null?(Ke=ye.x,Tt=ye.y,Qt=ye.z):(Ke=0,Tt=0,Qt=0);const hi=ot.convert(ae.format),Pt=ot.convert(ae.type);let Je;if(ae.isData3DTexture)fe.setTexture3D(ae,0),Je=V.TEXTURE_3D;else if(ae.isDataArrayTexture||ae.isCompressedArrayTexture)fe.setTexture2DArray(ae,0),Je=V.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,ae.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,ae.unpackAlignment);const Ln=V.getParameter(V.UNPACK_ROW_LENGTH),It=V.getParameter(V.UNPACK_IMAGE_HEIGHT),Fi=V.getParameter(V.UNPACK_SKIP_PIXELS),co=V.getParameter(V.UNPACK_SKIP_ROWS),mi=V.getParameter(V.UNPACK_SKIP_IMAGES);V.pixelStorei(V.UNPACK_ROW_LENGTH,en.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,en.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Xe),V.pixelStorei(V.UNPACK_SKIP_ROWS,at),V.pixelStorei(V.UNPACK_SKIP_IMAGES,lt),B.isDataTexture||B.isData3DTexture?V.texSubImage3D(Je,oe,Ke,Tt,Qt,Oe,Ge,$e,hi,Pt,en.data):ae.isCompressedArrayTexture?V.compressedTexSubImage3D(Je,oe,Ke,Tt,Qt,Oe,Ge,$e,hi,en.data):V.texSubImage3D(Je,oe,Ke,Tt,Qt,Oe,Ge,$e,hi,Pt,en),V.pixelStorei(V.UNPACK_ROW_LENGTH,Ln),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,It),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Fi),V.pixelStorei(V.UNPACK_SKIP_ROWS,co),V.pixelStorei(V.UNPACK_SKIP_IMAGES,mi),oe===0&&ae.generateMipmaps&&V.generateMipmap(Je),G.unbindTexture()},this.initRenderTarget=function(B){ee.get(B).__webglFramebuffer===void 0&&fe.setupRenderTarget(B)},this.initTexture=function(B){B.isCubeTexture?fe.setTextureCube(B,0):B.isData3DTexture?fe.setTexture3D(B,0):B.isDataArrayTexture||B.isCompressedArrayTexture?fe.setTexture2DArray(B,0):fe.setTexture2D(B,0),G.unbindTexture()},this.resetState=function(){E=0,M=0,A=null,G.reset(),Qe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return dr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===em?"display-p3":"srgb",n.unpackColorSpace=At.workingColorSpace===Mu?"display-p3":"srgb"}}class am{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ue(e),this.density=n}clone(){return new am(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class sm{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ue(e),this.near=n,this.far=i}clone(){return new sm(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class om extends bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new wi,this.environmentIntensity=1,this.environmentRotation=new wi,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class lm{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Xc,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=xi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return el("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const jn=new H;class Ys{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)jn.fromBufferAttribute(this,n),jn.applyMatrix4(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)jn.fromBufferAttribute(this,n),jn.applyNormalMatrix(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)jn.fromBufferAttribute(this,n),jn.transformDirection(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=ei(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=ft(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=ft(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ei(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ei(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ei(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ei(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=ft(n,this.array),i=ft(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=ft(n,this.array),i=ft(i,this.array),r=ft(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=ft(n,this.array),i=ft(i,this.array),r=ft(r,this.array),a=ft(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return new Vt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ys(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class l0 extends qn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Lo;const Fl=new H,ko=new H,Do=new H,Oo=new Se,Ul=new Se,zE=new et,vd=new H,zl=new H,gd=new H,wx=new Se,Pp=new Se,Mx=new Se;class HE extends bt{constructor(e=new l0){if(super(),this.isSprite=!0,this.type="Sprite",Lo===void 0){Lo=new mt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new lm(n,5);Lo.setIndex([0,1,2,0,2,3]),Lo.setAttribute("position",new Ys(i,3,0,!1)),Lo.setAttribute("uv",new Ys(i,2,3,!1))}this.geometry=Lo,this.material=e,this.center=new Se(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ko.setFromMatrixScale(this.matrixWorld),zE.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Do.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ko.multiplyScalar(-Do.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;yd(vd.set(-.5,-.5,0),Do,s,ko,r,a),yd(zl.set(.5,-.5,0),Do,s,ko,r,a),yd(gd.set(.5,.5,0),Do,s,ko,r,a),wx.set(0,0),Pp.set(1,0),Mx.set(1,1);let o=e.ray.intersectTriangle(vd,zl,gd,!1,Fl);if(o===null&&(yd(zl.set(-.5,.5,0),Do,s,ko,r,a),Pp.set(0,1),o=e.ray.intersectTriangle(vd,gd,zl,!1,Fl),o===null))return;const l=e.ray.origin.distanceTo(Fl);l<e.near||l>e.far||n.push({distance:l,point:Fl.clone(),uv:_i.getInterpolation(Fl,vd,zl,gd,wx,Pp,Mx,new Se),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function yd(t,e,n,i,r,a){Oo.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(Ul.x=a*Oo.x-r*Oo.y,Ul.y=r*Oo.x+a*Oo.y):Ul.copy(Oo),t.copy(e),t.x+=Ul.x,t.y+=Ul.y,t.applyMatrix4(zE)}const _d=new H,Cx=new H;class GE extends bt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const a=n[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let a;for(a=0;a<r.length&&!(n<r[a].distance);a++);return r.splice(a,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),e<a)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){_d.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(_d);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){_d.setFromMatrixPosition(e.matrixWorld),Cx.setFromMatrixPosition(this.matrixWorld);const i=_d.distanceTo(Cx)/e.zoom;n[0].object.visible=!0;let r,a;for(r=1,a=n.length;r<a;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),i>=s)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const Ax=new H,Ex=new Lt,Tx=new Lt,D5=new H,Px=new et,bd=new H,Ip=new $n,Ix=new et,Rp=new Al;class WE extends on{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Xv,this.bindMatrix=new et,this.bindMatrixInverse=new et,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ri),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,bd),this.boundingBox.expandByPoint(bd)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new $n),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,bd),this.boundingSphere.expandByPoint(bd)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ip.copy(this.boundingSphere),Ip.applyMatrix4(r),e.ray.intersectsSphere(Ip)!==!1&&(Ix.copy(r).invert(),Rp.copy(e.ray).applyMatrix4(Ix),!(this.boundingBox!==null&&Rp.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,Rp)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Lt,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Xv?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===dE?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;Ex.fromBufferAttribute(r.attributes.skinIndex,e),Tx.fromBufferAttribute(r.attributes.skinWeight,e),Ax.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const s=Tx.getComponent(a);if(s!==0){const o=Ex.getComponent(a);Px.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),n.addScaledVector(D5.copy(Ax).applyMatrix4(Px),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}class c0 extends bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class mr extends an{constructor(e=null,n=1,i=1,r,a,s,o,l,c=An,u=An,d,f){super(null,s,o,l,c,u,r,a,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Rx=new et,O5=new et;class cm{constructor(e=[],n=[]){this.uuid=xi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new et)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new et;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:O5;Rx.multiplyMatrices(o,n[a]),Rx.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new cm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new mr(n,e,e,ti,li);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=n[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new c0),this.bones.push(s),this.boneInverses.push(new et().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,a=n.length;r<a;r++){const s=n[r];e.bones.push(s.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class ml extends Vt{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Vo=new et,Lx=new et,xd=[],kx=new ri,V5=new et,Hl=new on,Gl=new $n;class $E extends on{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new ml(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,V5)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ri),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Vo),kx.copy(e.boundingBox).applyMatrix4(Vo),this.boundingBox.union(kx)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new $n),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Vo),Gl.copy(e.boundingSphere).applyMatrix4(Vo),this.boundingSphere.union(Gl)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let o=0;o<i.length;o++)i[o]=r[s+o]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Hl.geometry=this.geometry,Hl.material=this.material,Hl.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Gl.copy(this.boundingSphere),Gl.applyMatrix4(i),e.ray.intersectsSphere(Gl)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Vo),Lx.multiplyMatrices(i,Vo),Hl.matrixWorld=Lx,Hl.raycast(e,xd);for(let s=0,o=xd.length;s<o;s++){const l=xd[s];l.instanceId=a,l.object=this,n.push(l)}xd.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new ml(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new mr(new Float32Array(r*this.count),r,this.count,Kh,li));const a=this.morphTexture.source.data.data;let s=0;for(let c=0;c<i.length;c++)s+=i[c];const o=this.geometry.morphTargetsRelative?1:1-s,l=r*e;a[l]=o,a.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function N5(t,e){return t.z-e.z}function B5(t,e){return e.z-t.z}class F5{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i){const r=this.pool,a=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const s=r[this.index];a.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n,s.index=i}reset(){this.list.length=0,this.index=0}}const ba=new et,Lp=new et,U5=new et,z5=new Ue(1,1,1),Dx=new et,kp=new Eu,Sd=new ri,ss=new $n,Wl=new H,Ox=new H,H5=new H,Dp=new F5,Un=new on,wd=[];function G5(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+n,s,t.getComponent(a,s))}else e.array.set(t.array,n*i);e.needsUpdate=!0}class XE extends on{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,n,i=n*2,r){super(new mt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new mr(n,e,e,ti,li);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new mr(n,e,e,wu,ea);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new mr(n,e,e,ti,li);i.colorSpace=At.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:l,normalized:c}=s,u=new o.constructor(i*l),d=new Vt(u,l,c);n.setAttribute(a,d)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new Vt(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=n.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ri);const e=this.boundingBox,n=this._drawInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,ba),this.getBoundingBoxAt(a,Sd).applyMatrix4(ba),e.union(Sd)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $n);const e=this.boundingSphere,n=this._drawInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,ba),this.getBoundingSphereAt(a,ss).applyMatrix4(ba),e.union(ss)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});const n=this._drawInfo.length-1,i=this._matricesTexture,r=i.image.data;U5.toArray(r,n*16),i.needsUpdate=!0;const a=this._colorsTexture;return a&&(z5.toArray(a.image.data,n*4),a.needsUpdate=!0),n}addGeometry(e,n=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let a=null;const s=this._reservedRanges,o=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(a=s[s.length-1]),n===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=n,a===null?r.vertexStart=0:r.vertexStart=a.vertexStart+a.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(i===-1?r.indexCount=c.count:r.indexCount=i,a===null?r.indexStart=0:r.indexStart=a.indexStart+a.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._geometryCount;return this._geometryCount++,s.push(r),o.push({start:u?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new ri,sphereInitialized:!1,sphere:new $n}),this.setGeometryAt(d,e),d}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=n.getIndex(),o=this._reservedRanges[e];if(r&&s.count>o.indexCount||n.attributes.position.count>o.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.vertexCount;for(const h in i.attributes){const m=n.getAttribute(h),v=i.getAttribute(h);G5(m,v,l);const p=m.itemSize;for(let g=m.count,y=c;g<y;g++){const b=l+g;for(let x=0;x<p;x++)v.setComponent(b,x,0)}v.needsUpdate=!0,v.addUpdateRange(l*p,c*p)}if(r){const h=o.indexStart;for(let m=0;m<s.count;m++)a.setX(h+m,l+s.getX(m));for(let m=s.count,v=o.indexCount;m<v;m++)a.setX(h+m,l);a.needsUpdate=!0,a.addUpdateRange(h,o.indexCount)}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const d=this._drawRanges[e],f=n.getAttribute("position");return d.count=r?s.count:f.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this._bounds[e],r=i.box,a=this.geometry;if(i.boxInitialized===!1){r.makeEmpty();const s=a.index,o=a.attributes.position,l=this._drawRanges[e];for(let c=l.start,u=l.start+l.count;c<u;c++){let d=c;s&&(d=s.getX(d)),r.expandByPoint(Wl.fromBufferAttribute(o,d))}i.boxInitialized=!0}return n.copy(r),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this._bounds[e],r=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){r.makeEmpty(),this.getBoundingBoxAt(e,Sd),Sd.getCenter(r.center);const s=a.index,o=a.attributes.position,l=this._drawRanges[e];let c=0;for(let u=l.start,d=l.start+l.count;u<d;u++){let f=u;s&&(f=s.getX(f)),Wl.fromBufferAttribute(o,f),c=Math.max(c,r.center.distanceToSquared(Wl))}r.radius=Math.sqrt(c),i.sphereInitialized=!0}return n.copy(r),n}setMatrixAt(e,n){const i=this._drawInfo,r=this._matricesTexture,a=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?this:(n.toArray(a,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,n){const i=this._drawInfo,r=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const i=this._colorsTexture,r=this._colorsTexture.image.data,a=this._drawInfo;return e>=a.length||a[e].active===!1?this:(n.toArray(r,e*4),i.needsUpdate=!0,this)}getColorAt(e,n){const i=this._colorsTexture.image.data,r=this._drawInfo;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*4)}setVisibleAt(e,n){const i=this._drawInfo;return e>=i.length||i[e].active===!1||i[e].visible===n?this:(i[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}raycast(e,n){const i=this._drawInfo,r=this._drawRanges,a=this.matrixWorld,s=this.geometry;Un.material=this.material,Un.geometry.index=s.index,Un.geometry.attributes=s.attributes,Un.geometry.boundingBox===null&&(Un.geometry.boundingBox=new ri),Un.geometry.boundingSphere===null&&(Un.geometry.boundingSphere=new $n);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const c=i[o].geometryIndex,u=r[c];Un.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,Un.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Un.geometry.boundingBox),this.getBoundingSphereAt(c,Un.geometry.boundingSphere),Un.raycast(e,wd);for(let d=0,f=wd.length;d<f;d++){const h=wd[d];h.object=this,h.batchId=o,n.push(h)}wd.length=0}Un.material=null,Un.geometry.index=null,Un.geometry.attributes={},Un.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._drawInfo=e._drawInfo.map(n=>({...n})),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._drawInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._drawRanges,f=this.perObjectFrustumCulled,h=this._indirectTexture,m=h.image.data;f&&(Dx.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),kp.setFromProjectionMatrix(Dx,e.coordinateSystem));let v=0;if(this.sortObjects){Lp.copy(this.matrixWorld).invert(),Wl.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Lp),Ox.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Lp);for(let y=0,b=l.length;y<b;y++)if(l[y].visible&&l[y].active){const x=l[y].geometryIndex;this.getMatrixAt(y,ba),this.getBoundingSphereAt(x,ss).applyMatrix4(ba);let E=!1;if(f&&(E=!kp.intersectsSphere(ss)),!E){const M=H5.subVectors(ss.center,Wl).dot(Ox);Dp.push(d[x],M,y)}}const p=Dp.list,g=this.customSort;g===null?p.sort(a.transparent?B5:N5):g.call(this,p,i);for(let y=0,b=p.length;y<b;y++){const x=p[y];c[v]=x.start*o,u[v]=x.count,m[v]=x.index,v++}Dp.reset()}else for(let p=0,g=l.length;p<g;p++)if(l[p].visible&&l[p].active){const y=l[p].geometryIndex;let b=!1;if(f&&(this.getMatrixAt(p,ba),this.getBoundingSphereAt(y,ss).applyMatrix4(ba),b=!kp.intersectsSphere(ss)),!b){const x=d[y];c[v]=x.start*o,u[v]=x.count,m[v]=p,v++}}h.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class ai extends qn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ue(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const jf=new H,Kf=new H,Vx=new et,$l=new Al,Md=new $n,Op=new H,Nx=new H;class Na extends bt{constructor(e=new mt,n=new ai){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,a=n.count;r<a;r++)jf.fromBufferAttribute(n,r-1),Kf.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=jf.distanceTo(Kf);e.setAttribute("lineDistance",new Ye(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Md.copy(i.boundingSphere),Md.applyMatrix4(r),Md.radius+=a,e.ray.intersectsSphere(Md)===!1)return;Vx.copy(r).invert(),$l.copy(e.ray).applyMatrix4(Vx);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=i.index,f=i.attributes.position;if(u!==null){const h=Math.max(0,s.start),m=Math.min(u.count,s.start+s.count);for(let v=h,p=m-1;v<p;v+=c){const g=u.getX(v),y=u.getX(v+1),b=Cd(this,e,$l,l,g,y);b&&n.push(b)}if(this.isLineLoop){const v=u.getX(m-1),p=u.getX(h),g=Cd(this,e,$l,l,v,p);g&&n.push(g)}}else{const h=Math.max(0,s.start),m=Math.min(f.count,s.start+s.count);for(let v=h,p=m-1;v<p;v+=c){const g=Cd(this,e,$l,l,v,v+1);g&&n.push(g)}if(this.isLineLoop){const v=Cd(this,e,$l,l,m-1,h);v&&n.push(v)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function Cd(t,e,n,i,r,a){const s=t.geometry.attributes.position;if(jf.fromBufferAttribute(s,r),Kf.fromBufferAttribute(s,a),n.distanceSqToSegment(jf,Kf,Op,Nx)>i)return;Op.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(Op);if(!(l<e.near||l>e.far))return{distance:l,point:Nx.clone().applyMatrix4(t.matrixWorld),index:r,face:null,faceIndex:null,object:t}}const Bx=new H,Fx=new H;class Cr extends Na{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,a=n.count;r<a;r+=2)Bx.fromBufferAttribute(n,r),Fx.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Bx.distanceTo(Fx);e.setAttribute("lineDistance",new Ye(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class YE extends Na{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class u0 extends qn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Ux=new et,Jv=new Al,Ad=new $n,Ed=new H;class qE extends bt{constructor(e=new mt,n=new u0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ad.copy(i.boundingSphere),Ad.applyMatrix4(r),Ad.radius+=a,e.ray.intersectsSphere(Ad)===!1)return;Ux.copy(r).invert(),Jv.copy(e.ray).applyMatrix4(Ux);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,d=i.attributes.position;if(c!==null){const f=Math.max(0,s.start),h=Math.min(c.count,s.start+s.count);for(let m=f,v=h;m<v;m++){const p=c.getX(m);Ed.fromBufferAttribute(d,p),zx(Ed,p,l,r,e,n,this)}}else{const f=Math.max(0,s.start),h=Math.min(d.count,s.start+s.count);for(let m=f,v=h;m<v;m++)Ed.fromBufferAttribute(d,m),zx(Ed,m,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function zx(t,e,n,i,r,a,s){const o=Jv.distanceSqToPoint(t);if(o<n){const l=new H;Jv.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:s})}}class W5 extends an{constructor(e,n,i,r,a,s,o,l,c){super(e,n,i,r,a,s,o,l,c),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:gn,this.magFilter=a!==void 0?a:gn,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class $5 extends an{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=An,this.minFilter=An,this.generateMipmaps=!1,this.needsUpdate=!0}}class um extends an{constructor(e,n,i,r,a,s,o,l,c,u,d,f){super(null,s,o,l,c,u,r,a,d,f),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class X5 extends um{constructor(e,n,i,r,a,s){super(e,n,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ki,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Y5 extends um{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Qr),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class q5 extends an{constructor(e,n,i,r,a,s,o,l,c){super(e,n,i,r,a,s,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class tr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),a=0;n.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),n.push(a),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const a=i.length;let s;n?s=n:s=e*i[a-1];let o=0,l=a-1,c;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),c=i[r]-s,c<0)o=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===s)return r/(a-1);const u=i[r],f=i[r+1]-u,h=(s-u)/f;return(r+h)/(a-1)}getTangent(e,n){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),o=this.getPoint(a),l=n||(s.isVector2?new Se:new H);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new H,r=[],a=[],s=[],o=new H,l=new et;for(let h=0;h<=e;h++){const m=h/e;r[h]=this.getTangentAt(m,new H)}a[0]=new H,s[0]=new H;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),f=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),f<=c&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],o),s[0].crossVectors(r[0],a[0]);for(let h=1;h<=e;h++){if(a[h]=a[h-1].clone(),s[h]=s[h-1].clone(),o.crossVectors(r[h-1],r[h]),o.length()>Number.EPSILON){o.normalize();const m=Math.acos(nn(r[h-1].dot(r[h]),-1,1));a[h].applyMatrix4(l.makeRotationAxis(o,m))}s[h].crossVectors(r[h],a[h])}if(n===!0){let h=Math.acos(nn(a[0].dot(a[e]),-1,1));h/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(h=-h);for(let m=1;m<=e;m++)a[m].applyMatrix4(l.makeRotationAxis(r[m],h*m)),s[m].crossVectors(r[m],a[m])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class dm extends tr{constructor(e=0,n=0,i=1,r=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new Se){const i=n,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class jE extends dm{constructor(e,n,i,r,a,s){super(e,n,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function d0(){let t=0,e=0,n=0,i=0;function r(a,s,o,l){t=a,e=o,n=-3*a+3*s-2*o-l,i=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,c){r(s,o,c*(o-a),c*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,c,u,d){let f=(s-a)/c-(o-a)/(c+u)+(o-s)/u,h=(o-s)/u-(l-s)/(u+d)+(l-o)/d;f*=u,h*=u,r(s,o,f,h)},calc:function(a){const s=a*a,o=s*a;return t+e*a+n*s+i*o}}}const Td=new H,Vp=new d0,Np=new d0,Bp=new d0;class KE extends tr{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new H){const i=n,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let c,u;this.closed||o>0?c=r[(o-1)%a]:(Td.subVectors(r[0],r[1]).add(r[0]),c=Td);const d=r[o%a],f=r[(o+1)%a];if(this.closed||o+2<a?u=r[(o+2)%a]:(Td.subVectors(r[a-1],r[a-2]).add(r[a-1]),u=Td),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(d),h),v=Math.pow(d.distanceToSquared(f),h),p=Math.pow(f.distanceToSquared(u),h);v<1e-4&&(v=1),m<1e-4&&(m=v),p<1e-4&&(p=v),Vp.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,m,v,p),Np.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,m,v,p),Bp.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,m,v,p)}else this.curveType==="catmullrom"&&(Vp.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),Np.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),Bp.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return i.set(Vp.calc(l),Np.calc(l),Bp.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new H().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Hx(t,e,n,i,r){const a=(i-e)*.5,s=(r-n)*.5,o=t*t,l=t*o;return(2*n-2*i+a+s)*l+(-3*n+3*i-2*a-s)*o+a*t+n}function j5(t,e){const n=1-t;return n*n*e}function K5(t,e){return 2*(1-t)*t*e}function Z5(t,e){return t*t*e}function fc(t,e,n,i){return j5(t,e)+K5(t,n)+Z5(t,i)}function J5(t,e){const n=1-t;return n*n*n*e}function Q5(t,e){const n=1-t;return 3*n*n*t*e}function eG(t,e){return 3*(1-t)*t*t*e}function tG(t,e){return t*t*t*e}function hc(t,e,n,i,r){return J5(t,e)+Q5(t,n)+eG(t,i)+tG(t,r)}class f0 extends tr{constructor(e=new Se,n=new Se,i=new Se,r=new Se){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new Se){const i=n,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(hc(e,r.x,a.x,s.x,o.x),hc(e,r.y,a.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ZE extends tr{constructor(e=new H,n=new H,i=new H,r=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new H){const i=n,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(hc(e,r.x,a.x,s.x,o.x),hc(e,r.y,a.y,s.y,o.y),hc(e,r.z,a.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class h0 extends tr{constructor(e=new Se,n=new Se){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Se){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Se){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JE extends tr{constructor(e=new H,n=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new H){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new H){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class m0 extends tr{constructor(e=new Se,n=new Se,i=new Se){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Se){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(fc(e,r.x,a.x,s.x),fc(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p0 extends tr{constructor(e=new H,n=new H,i=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new H){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(fc(e,r.x,a.x,s.x),fc(e,r.y,a.y,s.y),fc(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class v0 extends tr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Se){const i=n,r=this.points,a=(r.length-1)*e,s=Math.floor(a),o=a-s,l=r[s===0?s:s-1],c=r[s],u=r[s>r.length-2?r.length-1:s+1],d=r[s>r.length-3?r.length-1:s+2];return i.set(Hx(o,l.x,c.x,u.x,d.x),Hx(o,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new Se().fromArray(r))}return this}}var Zf=Object.freeze({__proto__:null,ArcCurve:jE,CatmullRomCurve3:KE,CubicBezierCurve:f0,CubicBezierCurve3:ZE,EllipseCurve:dm,LineCurve:h0,LineCurve3:JE,QuadraticBezierCurve:m0,QuadraticBezierCurve3:p0,SplineCurve:v0});class QE extends tr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Zf[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,o=this.curves[a],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new Zf[r.type]().fromJSON(r))}return this}}class jc extends QE{constructor(e){super(),this.type="Path",this.currentPoint=new Se,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new h0(this.currentPoint.clone(),new Se(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const a=new m0(this.currentPoint.clone(),new Se(e,n),new Se(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,a,s){const o=new f0(this.currentPoint.clone(),new Se(e,n),new Se(i,r),new Se(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new v0(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,i,r,a,s),this}absarc(e,n,i,r,a,s){return this.absellipse(e,n,i,i,r,a,s),this}ellipse(e,n,i,r,a,s,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,r,a,s,o,l),this}absellipse(e,n,i,r,a,s,o,l){const c=new dm(e,n,i,r,a,s,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Tu extends mt{constructor(e=[new Se(0,-.5),new Se(.5,0),new Se(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=nn(r,0,Math.PI*2);const a=[],s=[],o=[],l=[],c=[],u=1/n,d=new H,f=new Se,h=new H,m=new H,v=new H;let p=0,g=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:p=e[y+1].x-e[y].x,g=e[y+1].y-e[y].y,h.x=g*1,h.y=-p,h.z=g*0,v.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:p=e[y+1].x-e[y].x,g=e[y+1].y-e[y].y,h.x=g*1,h.y=-p,h.z=g*0,m.copy(h),h.x+=v.x,h.y+=v.y,h.z+=v.z,h.normalize(),l.push(h.x,h.y,h.z),v.copy(m)}for(let y=0;y<=n;y++){const b=i+y*u*r,x=Math.sin(b),E=Math.cos(b);for(let M=0;M<=e.length-1;M++){d.x=e[M].x*x,d.y=e[M].y,d.z=e[M].x*E,s.push(d.x,d.y,d.z),f.x=y/n,f.y=M/(e.length-1),o.push(f.x,f.y);const A=l[3*M+0]*x,C=l[3*M+1],S=l[3*M+0]*E;c.push(A,C,S)}}for(let y=0;y<n;y++)for(let b=0;b<e.length-1;b++){const x=b+y*e.length,E=x,M=x+e.length,A=x+e.length+1,C=x+1;a.push(E,M,C),a.push(A,C,M)}this.setIndex(a),this.setAttribute("position",new Ye(s,3)),this.setAttribute("uv",new Ye(o,2)),this.setAttribute("normal",new Ye(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tu(e.points,e.segments,e.phiStart,e.phiLength)}}class fm extends Tu{constructor(e=1,n=1,i=4,r=8){const a=new jc;a.absarc(0,-n/2,e,Math.PI*1.5,0),a.absarc(0,n/2,e,0,Math.PI*.5),super(a.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new fm(e.radius,e.length,e.capSegments,e.radialSegments)}}class hm extends mt{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const a=[],s=[],o=[],l=[],c=new H,u=new Se;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const h=i+d/n*r;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(s[f]/e+1)/2,u.y=(s[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)a.push(d,d+1,0);this.setIndex(a),this.setAttribute("position",new Ye(s,3)),this.setAttribute("normal",new Ye(o,3)),this.setAttribute("uv",new Ye(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Pl extends mt{constructor(e=1,n=1,i=1,r=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;r=Math.floor(r),a=Math.floor(a);const u=[],d=[],f=[],h=[];let m=0;const v=[],p=i/2;let g=0;y(),s===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Ye(d,3)),this.setAttribute("normal",new Ye(f,3)),this.setAttribute("uv",new Ye(h,2));function y(){const x=new H,E=new H;let M=0;const A=(n-e)/i;for(let C=0;C<=a;C++){const S=[],w=C/a,T=w*(n-e)+e;for(let I=0;I<=r;I++){const D=I/r,N=D*l+o,$=Math.sin(N),U=Math.cos(N);E.x=T*$,E.y=-w*i+p,E.z=T*U,d.push(E.x,E.y,E.z),x.set($,A,U).normalize(),f.push(x.x,x.y,x.z),h.push(D,1-w),S.push(m++)}v.push(S)}for(let C=0;C<r;C++)for(let S=0;S<a;S++){const w=v[S][C],T=v[S+1][C],I=v[S+1][C+1],D=v[S][C+1];u.push(w,T,D),u.push(T,I,D),M+=6}c.addGroup(g,M,0),g+=M}function b(x){const E=m,M=new Se,A=new H;let C=0;const S=x===!0?e:n,w=x===!0?1:-1;for(let I=1;I<=r;I++)d.push(0,p*w,0),f.push(0,w,0),h.push(.5,.5),m++;const T=m;for(let I=0;I<=r;I++){const N=I/r*l+o,$=Math.cos(N),U=Math.sin(N);A.x=S*U,A.y=p*w,A.z=S*$,d.push(A.x,A.y,A.z),f.push(0,w,0),M.x=$*.5+.5,M.y=U*.5*w+.5,h.push(M.x,M.y),m++}for(let I=0;I<r;I++){const D=E+I,N=T+I;x===!0?u.push(N,N+1,D):u.push(N+1,N,D),C+=3}c.addGroup(g,C,x===!0?1:2),g+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class mm extends Pl{constructor(e=1,n=1,i=32,r=1,a=!1,s=0,o=Math.PI*2){super(0,e,n,i,r,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new mm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xa extends mt{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const a=[],s=[];o(r),c(i),u(),this.setAttribute("position",new Ye(a,3)),this.setAttribute("normal",new Ye(a.slice(),3)),this.setAttribute("uv",new Ye(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(y){const b=new H,x=new H,E=new H;for(let M=0;M<n.length;M+=3)h(n[M+0],b),h(n[M+1],x),h(n[M+2],E),l(b,x,E,y)}function l(y,b,x,E){const M=E+1,A=[];for(let C=0;C<=M;C++){A[C]=[];const S=y.clone().lerp(x,C/M),w=b.clone().lerp(x,C/M),T=M-C;for(let I=0;I<=T;I++)I===0&&C===M?A[C][I]=S:A[C][I]=S.clone().lerp(w,I/T)}for(let C=0;C<M;C++)for(let S=0;S<2*(M-C)-1;S++){const w=Math.floor(S/2);S%2===0?(f(A[C][w+1]),f(A[C+1][w]),f(A[C][w])):(f(A[C][w+1]),f(A[C+1][w+1]),f(A[C+1][w]))}}function c(y){const b=new H;for(let x=0;x<a.length;x+=3)b.x=a[x+0],b.y=a[x+1],b.z=a[x+2],b.normalize().multiplyScalar(y),a[x+0]=b.x,a[x+1]=b.y,a[x+2]=b.z}function u(){const y=new H;for(let b=0;b<a.length;b+=3){y.x=a[b+0],y.y=a[b+1],y.z=a[b+2];const x=p(y)/2/Math.PI+.5,E=g(y)/Math.PI+.5;s.push(x,1-E)}m(),d()}function d(){for(let y=0;y<s.length;y+=6){const b=s[y+0],x=s[y+2],E=s[y+4],M=Math.max(b,x,E),A=Math.min(b,x,E);M>.9&&A<.1&&(b<.2&&(s[y+0]+=1),x<.2&&(s[y+2]+=1),E<.2&&(s[y+4]+=1))}}function f(y){a.push(y.x,y.y,y.z)}function h(y,b){const x=y*3;b.x=e[x+0],b.y=e[x+1],b.z=e[x+2]}function m(){const y=new H,b=new H,x=new H,E=new H,M=new Se,A=new Se,C=new Se;for(let S=0,w=0;S<a.length;S+=9,w+=6){y.set(a[S+0],a[S+1],a[S+2]),b.set(a[S+3],a[S+4],a[S+5]),x.set(a[S+6],a[S+7],a[S+8]),M.set(s[w+0],s[w+1]),A.set(s[w+2],s[w+3]),C.set(s[w+4],s[w+5]),E.copy(y).add(b).add(x).divideScalar(3);const T=p(E);v(M,w+0,y,T),v(A,w+2,b,T),v(C,w+4,x,T)}}function v(y,b,x,E){E<0&&y.x===1&&(s[b]=y.x-1),x.x===0&&x.z===0&&(s[b]=E/2/Math.PI+.5)}function p(y){return Math.atan2(y.z,-y.x)}function g(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xa(e.vertices,e.indices,e.radius,e.details)}}class pm extends Xa{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new pm(e.radius,e.detail)}}const Pd=new H,Id=new H,Fp=new H,Rd=new _i;class eT extends mt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),a=Math.cos(ks*n),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},h=[];for(let m=0;m<l;m+=3){s?(c[0]=s.getX(m),c[1]=s.getX(m+1),c[2]=s.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:v,b:p,c:g}=Rd;if(v.fromBufferAttribute(o,c[0]),p.fromBufferAttribute(o,c[1]),g.fromBufferAttribute(o,c[2]),Rd.getNormal(Fp),d[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,d[1]=`${Math.round(p.x*r)},${Math.round(p.y*r)},${Math.round(p.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let y=0;y<3;y++){const b=(y+1)%3,x=d[y],E=d[b],M=Rd[u[y]],A=Rd[u[b]],C=`${x}_${E}`,S=`${E}_${x}`;S in f&&f[S]?(Fp.dot(f[S].normal)<=a&&(h.push(M.x,M.y,M.z),h.push(A.x,A.y,A.z)),f[S]=null):C in f||(f[C]={index0:c[y],index1:c[b],normal:Fp.clone()})}}for(const m in f)if(f[m]){const{index0:v,index1:p}=f[m];Pd.fromBufferAttribute(o,v),Id.fromBufferAttribute(o,p),h.push(Pd.x,Pd.y,Pd.z),h.push(Id.x,Id.y,Id.z)}this.setAttribute("position",new Ye(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ds extends jc{constructor(e){super(e),this.uuid=xi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new jc().fromJSON(r))}return this}}const nG={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let a=tT(t,0,r,n,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c,u,d,f,h;if(i&&(a=oG(t,e,a,n)),t.length>80*n){o=c=t[0],l=u=t[1];for(let m=n;m<r;m+=n)d=t[m],f=t[m+1],d<o&&(o=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);h=Math.max(c-o,u-l),h=h!==0?32767/h:0}return Kc(a,s,n,o,l,h,0),s}};function tT(t,e,n,i,r){let a,s;if(r===yG(t,e,n,i)>0)for(a=e;a<n;a+=i)s=Gx(a,t[a],t[a+1],s);else for(a=n-i;a>=e;a-=i)s=Gx(a,t[a],t[a+1],s);return s&&vm(s,s.next)&&(Jc(s),s=s.next),s}function qs(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(vm(n,n.next)||Kt(n.prev,n,n.next)===0)){if(Jc(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Kc(t,e,n,i,r,a,s){if(!t)return;!s&&a&&fG(t,i,r,a);let o=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,a?rG(t,i,r,a):iG(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Jc(t),t=c.next,o=c.next;continue}if(t=c,t===o){s?s===1?(t=aG(qs(t),e,n),Kc(t,e,n,i,r,a,2)):s===2&&sG(t,e,n,i,r,a):Kc(qs(t),e,n,i,r,a,1);break}}}function iG(t){const e=t.prev,n=t,i=t.next;if(Kt(e,n,i)>=0)return!1;const r=e.x,a=n.x,s=i.x,o=e.y,l=n.y,c=i.y,u=r<a?r<s?r:s:a<s?a:s,d=o<l?o<c?o:c:l<c?l:c,f=r>a?r>s?r:s:a>s?a:s,h=o>l?o>c?o:c:l>c?l:c;let m=i.next;for(;m!==e;){if(m.x>=u&&m.x<=f&&m.y>=d&&m.y<=h&&Yo(r,o,a,l,s,c,m.x,m.y)&&Kt(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function rG(t,e,n,i){const r=t.prev,a=t,s=t.next;if(Kt(r,a,s)>=0)return!1;const o=r.x,l=a.x,c=s.x,u=r.y,d=a.y,f=s.y,h=o<l?o<c?o:c:l<c?l:c,m=u<d?u<f?u:f:d<f?d:f,v=o>l?o>c?o:c:l>c?l:c,p=u>d?u>f?u:f:d>f?d:f,g=Qv(h,m,e,n,i),y=Qv(v,p,e,n,i);let b=t.prevZ,x=t.nextZ;for(;b&&b.z>=g&&x&&x.z<=y;){if(b.x>=h&&b.x<=v&&b.y>=m&&b.y<=p&&b!==r&&b!==s&&Yo(o,u,l,d,c,f,b.x,b.y)&&Kt(b.prev,b,b.next)>=0||(b=b.prevZ,x.x>=h&&x.x<=v&&x.y>=m&&x.y<=p&&x!==r&&x!==s&&Yo(o,u,l,d,c,f,x.x,x.y)&&Kt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;b&&b.z>=g;){if(b.x>=h&&b.x<=v&&b.y>=m&&b.y<=p&&b!==r&&b!==s&&Yo(o,u,l,d,c,f,b.x,b.y)&&Kt(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=h&&x.x<=v&&x.y>=m&&x.y<=p&&x!==r&&x!==s&&Yo(o,u,l,d,c,f,x.x,x.y)&&Kt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function aG(t,e,n){let i=t;do{const r=i.prev,a=i.next.next;!vm(r,a)&&nT(r,i,i.next,a)&&Zc(r,a)&&Zc(a,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(a.i/n|0),Jc(i),Jc(i.next),i=t=a),i=i.next}while(i!==t);return qs(i)}function sG(t,e,n,i,r,a){let s=t;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&pG(s,o)){let l=iT(s,o);s=qs(s,s.next),l=qs(l,l.next),Kc(s,e,n,i,r,a,0),Kc(l,e,n,i,r,a,0);return}o=o.next}s=s.next}while(s!==t)}function oG(t,e,n,i){const r=[];let a,s,o,l,c;for(a=0,s=e.length;a<s;a++)o=e[a]*i,l=a<s-1?e[a+1]*i:t.length,c=tT(t,o,l,i,!1),c===c.next&&(c.steiner=!0),r.push(mG(c));for(r.sort(lG),a=0;a<r.length;a++)n=cG(r[a],n);return n}function lG(t,e){return t.x-e.x}function cG(t,e){const n=uG(t,e);if(!n)return e;const i=iT(n,t);return qs(i,i.next),qs(n,n.next)}function uG(t,e){let n=e,i=-1/0,r;const a=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const f=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=a&&f>i&&(i=f,r=n.x<n.next.x?n:n.next,f===a))return r}n=n.next}while(n!==e);if(!r)return null;const o=r,l=r.x,c=r.y;let u=1/0,d;n=r;do a>=n.x&&n.x>=l&&a!==n.x&&Yo(s<c?a:i,s,l,c,s<c?i:a,s,n.x,n.y)&&(d=Math.abs(s-n.y)/(a-n.x),Zc(n,t)&&(d<u||d===u&&(n.x>r.x||n.x===r.x&&dG(r,n)))&&(r=n,u=d)),n=n.next;while(n!==o);return r}function dG(t,e){return Kt(t.prev,t,e.prev)<0&&Kt(e.next,t,t.next)<0}function fG(t,e,n,i){let r=t;do r.z===0&&(r.z=Qv(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,hG(r)}function hG(t){let e,n,i,r,a,s,o,l,c=1;do{for(n=t,t=null,a=null,s=0;n;){for(s++,i=n,o=0,e=0;e<c&&(o++,i=i.nextZ,!!i);e++);for(l=c;o>0||l>0&&i;)o!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,o--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,c*=2}while(s>1);return t}function Qv(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function mG(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Yo(t,e,n,i,r,a,s,o){return(r-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(i-o)>=(n-s)*(e-o)&&(n-s)*(a-o)>=(r-s)*(i-o)}function pG(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!vG(t,e)&&(Zc(t,e)&&Zc(e,t)&&gG(t,e)&&(Kt(t.prev,t,e.prev)||Kt(t,e.prev,e))||vm(t,e)&&Kt(t.prev,t,t.next)>0&&Kt(e.prev,e,e.next)>0)}function Kt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function vm(t,e){return t.x===e.x&&t.y===e.y}function nT(t,e,n,i){const r=kd(Kt(t,e,n)),a=kd(Kt(t,e,i)),s=kd(Kt(n,i,t)),o=kd(Kt(n,i,e));return!!(r!==a&&s!==o||r===0&&Ld(t,n,e)||a===0&&Ld(t,i,e)||s===0&&Ld(n,t,i)||o===0&&Ld(n,e,i))}function Ld(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function kd(t){return t>0?1:t<0?-1:0}function vG(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&nT(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Zc(t,e){return Kt(t.prev,t,t.next)<0?Kt(t,e,t.next)>=0&&Kt(t,t.prev,e)>=0:Kt(t,e,t.prev)<0||Kt(t,t.next,e)<0}function gG(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function iT(t,e){const n=new eg(t.i,t.x,t.y),i=new eg(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function Gx(t,e,n,i){const r=new eg(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Jc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function eg(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function yG(t,e,n,i){let r=0;for(let a=e,s=n-i;a<n;a+=i)r+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return r}class pr{static area(e){const n=e.length;let i=0;for(let r=n-1,a=0;a<n;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return pr.area(e)<0}static triangulateShape(e,n){const i=[],r=[],a=[];Wx(e),$x(i,e);let s=e.length;n.forEach(Wx);for(let l=0;l<n.length;l++)r.push(s),s+=n[l].length,$x(i,n[l]);const o=nG.triangulate(i,r);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function Wx(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function $x(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class gm extends mt{constructor(e=new Ds([new Se(.5,.5),new Se(-.5,.5),new Se(-.5,-.5),new Se(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new Ye(r,3)),this.setAttribute("uv",new Ye(a,2)),this.computeVertexNormals();function s(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:h-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,p=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,y=n.UVGenerator!==void 0?n.UVGenerator:_G;let b,x=!1,E,M,A,C;g&&(b=g.getSpacedPoints(u),x=!0,f=!1,E=g.computeFrenetFrames(u,!1),M=new H,A=new H,C=new H),f||(p=0,h=0,m=0,v=0);const S=o.extractPoints(c);let w=S.shape;const T=S.holes;if(!pr.isClockWise(w)){w=w.reverse();for(let V=0,L=T.length;V<L;V++){const k=T[V];pr.isClockWise(k)&&(T[V]=k.reverse())}}const D=pr.triangulateShape(w,T),N=w;for(let V=0,L=T.length;V<L;V++){const k=T[V];w=w.concat(k)}function $(V,L,k){return L||console.error("THREE.ExtrudeGeometry: vec does not exist"),V.clone().addScaledVector(L,k)}const U=w.length,Z=D.length;function Y(V,L,k){let z,G,K;const ee=V.x-L.x,fe=V.y-L.y,O=k.x-V.x,R=k.y-V.y,X=ee*ee+fe*fe,le=ee*R-fe*O;if(Math.abs(le)>Number.EPSILON){const ne=Math.sqrt(X),ce=Math.sqrt(O*O+R*R),Pe=L.x-fe/ne,we=L.y+ee/ne,Re=k.x-R/ce,ze=k.y+O/ce,Ie=((Re-Pe)*R-(ze-we)*O)/(ee*R-fe*O);z=Pe+ee*Ie-V.x,G=we+fe*Ie-V.y;const ke=z*z+G*G;if(ke<=2)return new Se(z,G);K=Math.sqrt(ke/2)}else{let ne=!1;ee>Number.EPSILON?O>Number.EPSILON&&(ne=!0):ee<-Number.EPSILON?O<-Number.EPSILON&&(ne=!0):Math.sign(fe)===Math.sign(R)&&(ne=!0),ne?(z=-fe,G=ee,K=Math.sqrt(X)):(z=ee,G=fe,K=Math.sqrt(X/2))}return new Se(z/K,G/K)}const j=[];for(let V=0,L=N.length,k=L-1,z=V+1;V<L;V++,k++,z++)k===L&&(k=0),z===L&&(z=0),j[V]=Y(N[V],N[k],N[z]);const q=[];let F,se=j.concat();for(let V=0,L=T.length;V<L;V++){const k=T[V];F=[];for(let z=0,G=k.length,K=G-1,ee=z+1;z<G;z++,K++,ee++)K===G&&(K=0),ee===G&&(ee=0),F[z]=Y(k[z],k[K],k[ee]);q.push(F),se=se.concat(F)}for(let V=0;V<p;V++){const L=V/p,k=h*Math.cos(L*Math.PI/2),z=m*Math.sin(L*Math.PI/2)+v;for(let G=0,K=N.length;G<K;G++){const ee=$(N[G],j[G],z);W(ee.x,ee.y,-k)}for(let G=0,K=T.length;G<K;G++){const ee=T[G];F=q[G];for(let fe=0,O=ee.length;fe<O;fe++){const R=$(ee[fe],F[fe],z);W(R.x,R.y,-k)}}}const Ce=m+v;for(let V=0;V<U;V++){const L=f?$(w[V],se[V],Ce):w[V];x?(A.copy(E.normals[0]).multiplyScalar(L.x),M.copy(E.binormals[0]).multiplyScalar(L.y),C.copy(b[0]).add(A).add(M),W(C.x,C.y,C.z)):W(L.x,L.y,0)}for(let V=1;V<=u;V++)for(let L=0;L<U;L++){const k=f?$(w[L],se[L],Ce):w[L];x?(A.copy(E.normals[V]).multiplyScalar(k.x),M.copy(E.binormals[V]).multiplyScalar(k.y),C.copy(b[V]).add(A).add(M),W(C.x,C.y,C.z)):W(k.x,k.y,d/u*V)}for(let V=p-1;V>=0;V--){const L=V/p,k=h*Math.cos(L*Math.PI/2),z=m*Math.sin(L*Math.PI/2)+v;for(let G=0,K=N.length;G<K;G++){const ee=$(N[G],j[G],z);W(ee.x,ee.y,d+k)}for(let G=0,K=T.length;G<K;G++){const ee=T[G];F=q[G];for(let fe=0,O=ee.length;fe<O;fe++){const R=$(ee[fe],F[fe],z);x?W(R.x,R.y+b[u-1].y,b[u-1].x+k):W(R.x,R.y,d+k)}}}Q(),he();function Q(){const V=r.length/3;if(f){let L=0,k=U*L;for(let z=0;z<Z;z++){const G=D[z];re(G[2]+k,G[1]+k,G[0]+k)}L=u+p*2,k=U*L;for(let z=0;z<Z;z++){const G=D[z];re(G[0]+k,G[1]+k,G[2]+k)}}else{for(let L=0;L<Z;L++){const k=D[L];re(k[2],k[1],k[0])}for(let L=0;L<Z;L++){const k=D[L];re(k[0]+U*u,k[1]+U*u,k[2]+U*u)}}i.addGroup(V,r.length/3-V,0)}function he(){const V=r.length/3;let L=0;J(N,L),L+=N.length;for(let k=0,z=T.length;k<z;k++){const G=T[k];J(G,L),L+=G.length}i.addGroup(V,r.length/3-V,1)}function J(V,L){let k=V.length;for(;--k>=0;){const z=k;let G=k-1;G<0&&(G=V.length-1);for(let K=0,ee=u+p*2;K<ee;K++){const fe=U*K,O=U*(K+1),R=L+z+fe,X=L+G+fe,le=L+G+O,ne=L+z+O;de(R,X,le,ne)}}}function W(V,L,k){l.push(V),l.push(L),l.push(k)}function re(V,L,k){_e(V),_e(L),_e(k);const z=r.length/3,G=y.generateTopUV(i,r,z-3,z-2,z-1);me(G[0]),me(G[1]),me(G[2])}function de(V,L,k,z){_e(V),_e(L),_e(z),_e(L),_e(k),_e(z);const G=r.length/3,K=y.generateSideWallUV(i,r,G-6,G-3,G-2,G-1);me(K[0]),me(K[1]),me(K[3]),me(K[1]),me(K[2]),me(K[3])}function _e(V){r.push(l[V*3+0]),r.push(l[V*3+1]),r.push(l[V*3+2])}function me(V){a.push(V.x),a.push(V.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return bG(n,i,e)}static fromJSON(e,n){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=n[e.shapes[a]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Zf[r.type]().fromJSON(r)),new gm(i,e.options)}}const _G={generateTopUV:function(t,e,n,i,r){const a=e[n*3],s=e[n*3+1],o=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new Se(a,s),new Se(o,l),new Se(c,u)]},generateSideWallUV:function(t,e,n,i,r,a){const s=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],f=e[r*3],h=e[r*3+1],m=e[r*3+2],v=e[a*3],p=e[a*3+1],g=e[a*3+2];return Math.abs(o-u)<Math.abs(s-c)?[new Se(s,1-l),new Se(c,1-d),new Se(f,1-m),new Se(v,1-g)]:[new Se(o,1-l),new Se(u,1-d),new Se(h,1-m),new Se(p,1-g)]}};function bG(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class ym extends Xa{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ym(e.radius,e.detail)}}class Pu extends Xa{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Pu(e.radius,e.detail)}}class _m extends mt{constructor(e=.5,n=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],c=[],u=[];let d=e;const f=(n-e)/r,h=new H,m=new Se;for(let v=0;v<=r;v++){for(let p=0;p<=i;p++){const g=a+p/i*s;h.x=d*Math.cos(g),h.y=d*Math.sin(g),l.push(h.x,h.y,h.z),c.push(0,0,1),m.x=(h.x/n+1)/2,m.y=(h.y/n+1)/2,u.push(m.x,m.y)}d+=f}for(let v=0;v<r;v++){const p=v*(i+1);for(let g=0;g<i;g++){const y=g+p,b=y,x=y+i+1,E=y+i+2,M=y+1;o.push(b,x,M),o.push(x,E,M)}}this.setIndex(o),this.setAttribute("position",new Ye(l,3)),this.setAttribute("normal",new Ye(c,3)),this.setAttribute("uv",new Ye(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _m(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class bm extends mt{constructor(e=new Ds([new Se(0,.5),new Se(-.5,-.5),new Se(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ye(r,3)),this.setAttribute("normal",new Ye(a,3)),this.setAttribute("uv",new Ye(s,2));function c(u){const d=r.length/3,f=u.extractPoints(n);let h=f.shape;const m=f.holes;pr.isClockWise(h)===!1&&(h=h.reverse());for(let p=0,g=m.length;p<g;p++){const y=m[p];pr.isClockWise(y)===!0&&(m[p]=y.reverse())}const v=pr.triangulateShape(h,m);for(let p=0,g=m.length;p<g;p++){const y=m[p];h=h.concat(y)}for(let p=0,g=h.length;p<g;p++){const y=h[p];r.push(y.x,y.y,0),a.push(0,0,1),s.push(y.x,y.y)}for(let p=0,g=v.length;p<g;p++){const y=v[p],b=y[0]+d,x=y[1]+d,E=y[2]+d;i.push(b,x,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return xG(n,e)}static fromJSON(e,n){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=n[e.shapes[r]];i.push(s)}return new bm(i,e.curveSegments)}}function xG(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class Iu extends mt{constructor(e=1,n=32,i=16,r=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:o},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(s+o,Math.PI);let c=0;const u=[],d=new H,f=new H,h=[],m=[],v=[],p=[];for(let g=0;g<=i;g++){const y=[],b=g/i;let x=0;g===0&&s===0?x=.5/n:g===i&&l===Math.PI&&(x=-.5/n);for(let E=0;E<=n;E++){const M=E/n;d.x=-e*Math.cos(r+M*a)*Math.sin(s+b*o),d.y=e*Math.cos(s+b*o),d.z=e*Math.sin(r+M*a)*Math.sin(s+b*o),m.push(d.x,d.y,d.z),f.copy(d).normalize(),v.push(f.x,f.y,f.z),p.push(M+x,1-b),y.push(c++)}u.push(y)}for(let g=0;g<i;g++)for(let y=0;y<n;y++){const b=u[g][y+1],x=u[g][y],E=u[g+1][y],M=u[g+1][y+1];(g!==0||s>0)&&h.push(b,x,M),(g!==i-1||l<Math.PI)&&h.push(x,E,M)}this.setIndex(h),this.setAttribute("position",new Ye(m,3)),this.setAttribute("normal",new Ye(v,3)),this.setAttribute("uv",new Ye(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Iu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class xm extends Xa{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new xm(e.radius,e.detail)}}class Sm extends mt{constructor(e=1,n=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],o=[],l=[],c=[],u=new H,d=new H,f=new H;for(let h=0;h<=i;h++)for(let m=0;m<=r;m++){const v=m/r*a,p=h/i*Math.PI*2;d.x=(e+n*Math.cos(p))*Math.cos(v),d.y=(e+n*Math.cos(p))*Math.sin(v),d.z=n*Math.sin(p),o.push(d.x,d.y,d.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(m/r),c.push(h/i)}for(let h=1;h<=i;h++)for(let m=1;m<=r;m++){const v=(r+1)*h+m-1,p=(r+1)*(h-1)+m-1,g=(r+1)*(h-1)+m,y=(r+1)*h+m;s.push(v,p,y),s.push(p,g,y)}this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("normal",new Ye(l,3)),this.setAttribute("uv",new Ye(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sm(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class wm extends mt{constructor(e=1,n=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],c=[],u=[],d=new H,f=new H,h=new H,m=new H,v=new H,p=new H,g=new H;for(let b=0;b<=i;++b){const x=b/i*a*Math.PI*2;y(x,a,s,e,h),y(x+.01,a,s,e,m),p.subVectors(m,h),g.addVectors(m,h),v.crossVectors(p,g),g.crossVectors(v,p),v.normalize(),g.normalize();for(let E=0;E<=r;++E){const M=E/r*Math.PI*2,A=-n*Math.cos(M),C=n*Math.sin(M);d.x=h.x+(A*g.x+C*v.x),d.y=h.y+(A*g.y+C*v.y),d.z=h.z+(A*g.z+C*v.z),l.push(d.x,d.y,d.z),f.subVectors(d,h).normalize(),c.push(f.x,f.y,f.z),u.push(b/i),u.push(E/r)}}for(let b=1;b<=i;b++)for(let x=1;x<=r;x++){const E=(r+1)*(b-1)+(x-1),M=(r+1)*b+(x-1),A=(r+1)*b+x,C=(r+1)*(b-1)+x;o.push(E,M,C),o.push(M,A,C)}this.setIndex(o),this.setAttribute("position",new Ye(l,3)),this.setAttribute("normal",new Ye(c,3)),this.setAttribute("uv",new Ye(u,2));function y(b,x,E,M,A){const C=Math.cos(b),S=Math.sin(b),w=E/x*b,T=Math.cos(w);A.x=M*(2+T)*.5*C,A.y=M*(2+T)*S*.5,A.z=M*Math.sin(w)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wm(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Mm extends mt{constructor(e=new p0(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),n=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(n,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new H,l=new H,c=new Se;let u=new H;const d=[],f=[],h=[],m=[];v(),this.setIndex(m),this.setAttribute("position",new Ye(d,3)),this.setAttribute("normal",new Ye(f,3)),this.setAttribute("uv",new Ye(h,2));function v(){for(let b=0;b<n;b++)p(b);p(a===!1?n:0),y(),g()}function p(b){u=e.getPointAt(b/n,u);const x=s.normals[b],E=s.binormals[b];for(let M=0;M<=r;M++){const A=M/r*Math.PI*2,C=Math.sin(A),S=-Math.cos(A);l.x=S*x.x+C*E.x,l.y=S*x.y+C*E.y,l.z=S*x.z+C*E.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=u.x+i*l.x,o.y=u.y+i*l.y,o.z=u.z+i*l.z,d.push(o.x,o.y,o.z)}}function g(){for(let b=1;b<=n;b++)for(let x=1;x<=r;x++){const E=(r+1)*(b-1)+(x-1),M=(r+1)*b+(x-1),A=(r+1)*b+x,C=(r+1)*(b-1)+x;m.push(E,M,C),m.push(M,A,C)}}function y(){for(let b=0;b<=n;b++)for(let x=0;x<=r;x++)c.x=b/n,c.y=x/r,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Mm(new Zf[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class rT extends mt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new H,a=new H;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,h=d.count;for(let m=f,v=f+h;m<v;m+=3)for(let p=0;p<3;p++){const g=o.getX(m+p),y=o.getX(m+(p+1)%3);r.fromBufferAttribute(s,g),a.fromBufferAttribute(s,y),Xx(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,d=3*o+(c+1)%3;r.fromBufferAttribute(s,u),a.fromBufferAttribute(s,d),Xx(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ye(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Xx(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var Yx=Object.freeze({__proto__:null,BoxGeometry:so,CapsuleGeometry:fm,CircleGeometry:hm,ConeGeometry:mm,CylinderGeometry:Pl,DodecahedronGeometry:pm,EdgesGeometry:eT,ExtrudeGeometry:gm,IcosahedronGeometry:ym,LatheGeometry:Tu,OctahedronGeometry:Pu,PlaneGeometry:El,PolyhedronGeometry:Xa,RingGeometry:_m,ShapeGeometry:bm,SphereGeometry:Iu,TetrahedronGeometry:xm,TorusGeometry:Sm,TorusKnotGeometry:wm,TubeGeometry:Mm,WireframeGeometry:rT});class aT extends qn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ue(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class sT extends Zi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class g0 extends qn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ue(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wi,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oT extends g0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Se(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return nn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ue(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ue(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ue(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class lT extends qn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ue(16777215),this.specular=new Ue(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wi,this.combine=Su,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cT extends qn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ue(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class uT extends qn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class dT extends qn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wi,this.combine=Su,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fT extends qn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ue(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hT extends ai{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Cs(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function mT(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pT(t){function e(r,a){return t[r]-t[a]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function tg(t,e,n){const i=t.length,r=new t.constructor(i);for(let a=0,s=0;s!==i;++a){const o=n[a]*e;for(let l=0;l!==e;++l)r[s++]=t[o+l]}return r}function y0(t,e,n,i){let r=1,a=t[0];for(;a!==void 0&&a[i]===void 0;)a=t[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),n.push.apply(n,s)),a=t[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(n,n.length)),a=t[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),n.push(s)),a=t[r++];while(a!==void 0)}function SG(t,e,n,i,r=30){const a=t.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const c=a.tracks[l],u=c.getValueSize(),d=[],f=[];for(let h=0;h<c.times.length;++h){const m=c.times[h]*r;if(!(m<n||m>=i)){d.push(c.times[h]);for(let v=0;v<u;++v)f.push(c.values[h*u+v])}}d.length!==0&&(c.times=Cs(d,c.times.constructor),c.values=Cs(f,c.values.constructor),s.push(c))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function wG(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,a=e/i;for(let s=0;s<r;++s){const o=n.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===o.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const m=o.times.length-1;let v;if(a<=o.times[0]){const g=u,y=d-u;v=o.values.slice(g,y)}else if(a>=o.times[m]){const g=m*d+u,y=g+d-u;v=o.values.slice(g,y)}else{const g=o.createInterpolant(),y=u,b=d-u;g.evaluate(a),v=g.resultBuffer.slice(y,b)}l==="quaternion"&&new ci().fromArray(v).normalize().conjugate().toArray(v);const p=c.times.length;for(let g=0;g<p;++g){const y=g*h+f;if(l==="quaternion")ci.multiplyQuaternionsFlat(c.values,y,v,0,c.values,y);else{const b=h-f*2;for(let x=0;x<b;++x)c.values[y+x]-=v[x]}}}return t.blendMode=Zy,t}const MG={convertArray:Cs,isTypedArray:mT,getKeyframeOrder:pT,sortedArray:tg,flattenJSON:y0,subclip:SG,makeClipAdditive:wG};class Ru{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(a=r,r=n[++i],e<r)break t}s=n.length;break n}if(!(e>=a)){const o=n[1];e<o&&(i=2,a=o);for(let l=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=a,a=n[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const o=i+s>>>1;e<n[o]?s=o:i=o+1}if(r=n[i],a=n[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)n[s]=i[a+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class vT extends Ru{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ss,endingEnd:Ss}}intervalChanged_(e,n,i){const r=this.parameterPositions;let a=e-2,s=e+1,o=r[a],l=r[s];if(o===void 0)switch(this.getSettings_().endingStart){case ws:a=e,o=2*n-i;break;case Hc:a=r.length-2,o=n+r[a]-r[a+1];break;default:a=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case ws:s=e,l=2*i-n;break;case Hc:s=1,l=i+r[1]-r[0];break;default:s=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-i),this._offsetPrev=a*u,this._offsetNext=s*u}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,m=(i-n)/(r-n),v=m*m,p=v*m,g=-f*p+2*f*v-f*m,y=(1+f)*p+(-1.5-2*f)*v+(-.5+f)*m+1,b=(-1-h)*p+(1.5+h)*v+.5*m,x=h*p-h*v;for(let E=0;E!==o;++E)a[E]=g*s[u+E]+y*s[c+E]+b*s[l+E]+x*s[d+E];return a}}class _0 extends Ru{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(i-n)/(r-n),d=1-u;for(let f=0;f!==o;++f)a[f]=s[c+f]*d+s[l+f]*u;return a}}class gT extends Ru{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class nr{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Cs(n,this.TimeBufferType),this.values=Cs(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Cs(e.times,Array),values:Cs(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new gT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _0(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new vT(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case zc:n=this.InterpolantFactoryMethodDiscrete;break;case qf:n=this.InterpolantFactoryMethodLinear;break;case Jd:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zc;case this.InterpolantFactoryMethodLinear:return qf;case this.InterpolantFactoryMethodSmooth:return Jd}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>n;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(r!==void 0&&mT(r))for(let o=0,l=r.length;o!==l;++o){const c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Jd,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(r)l=!0;else{const d=o*i,f=d-i,h=d+i;for(let m=0;m!==i;++m){const v=n[d+m];if(v!==n[f+m]||v!==n[h+m]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const d=o*i,f=s*i;for(let h=0;h!==i;++h)n[f+h]=n[d+h]}++s}}if(a>0){e[s]=e[a];for(let o=a*i,l=s*i,c=0;c!==i;++c)n[l+c]=n[o+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}nr.prototype.TimeBufferType=Float32Array;nr.prototype.ValueBufferType=Float32Array;nr.prototype.DefaultInterpolation=qf;class oo extends nr{constructor(e,n,i){super(e,n,i)}}oo.prototype.ValueTypeName="bool";oo.prototype.ValueBufferType=Array;oo.prototype.DefaultInterpolation=zc;oo.prototype.InterpolantFactoryMethodLinear=void 0;oo.prototype.InterpolantFactoryMethodSmooth=void 0;class b0 extends nr{}b0.prototype.ValueTypeName="color";class Qc extends nr{}Qc.prototype.ValueTypeName="number";class yT extends Ru{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(i-n)/(r-n);let c=e*o;for(let u=c+o;c!==u;c+=4)ci.slerpFlat(a,0,s,c-o,s,c,l);return a}}class Lu extends nr{InterpolantFactoryMethodLinear(e){return new yT(this.times,this.values,this.getValueSize(),e)}}Lu.prototype.ValueTypeName="quaternion";Lu.prototype.InterpolantFactoryMethodSmooth=void 0;class lo extends nr{constructor(e,n,i){super(e,n,i)}}lo.prototype.ValueTypeName="string";lo.prototype.ValueBufferType=Array;lo.prototype.DefaultInterpolation=zc;lo.prototype.InterpolantFactoryMethodLinear=void 0;lo.prototype.InterpolantFactoryMethodSmooth=void 0;class eu extends nr{}eu.prototype.ValueTypeName="vector";class tu{constructor(e="",n=-1,i=[],r=Qh){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=xi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,o=i.length;s!==o;++s)n.push(AG(i[s]).scale(r));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=i.length;a!==s;++a)n.push(nr.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const a=n.length,s=[];for(let o=0;o<a;o++){let l=[],c=[];l.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const u=pT(l);l=tg(l,1,u),c=tg(c,1,u),!r&&l[0]===0&&(l.push(a),c.push(c[0])),s.push(new Qc(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/i))}return new this(e,-1,s)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(a);if(u&&u.length>1){const d=u[1];let f=r[d];f||(r[d]=f=[]),f.push(c)}}const s=[];for(const o in r)s.push(this.CreateFromMorphTargetSequence(o,r[o],n,i));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,f,h,m,v){if(h.length!==0){const p=[],g=[];y0(h,p,g,m),p.length!==0&&v.push(new d(f,p,g))}},r=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let v=0;v<f[m].morphTargets.length;v++)h[f[m].morphTargets[v]]=-1;for(const v in h){const p=[],g=[];for(let y=0;y!==f[m].morphTargets.length;++y){const b=f[m];p.push(b.time),g.push(b.morphTarget===v?1:0)}r.push(new Qc(".morphTargetInfluence["+v+"]",p,g))}l=h.length*s}else{const h=".bones["+n[d].name+"]";i(eu,h+".position",f,"pos",r),i(Lu,h+".quaternion",f,"rot",r),i(eu,h+".scale",f,"scl",r)}}return r.length===0?null:new this(a,l,r,o)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function CG(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qc;case"vector":case"vector2":case"vector3":case"vector4":return eu;case"color":return b0;case"quaternion":return Lu;case"bool":case"boolean":return oo;case"string":return lo}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function AG(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=CG(t.type);if(t.times===void 0){const n=[],i=[];y0(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const zr={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class x0{constructor(e,n,i){const r=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){o++,a===!1&&r.onStart!==void 0&&r.onStart(u,s,o),a=!0},this.itemEnd=function(u){s++,r.onProgress!==void 0&&r.onProgress(u,s,o),s===o&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],m=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return m}return null}}}const _T=new x0;class fi{constructor(e){this.manager=e!==void 0?e:_T,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,a){i.load(e,r,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}fi.DEFAULT_MATERIAL_NAME="__DEFAULT";const kr={};class EG extends Error{constructor(e,n){super(e),this.response=n}}class ta extends fi{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=zr.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(kr[e]!==void 0){kr[e].push({onLoad:n,onProgress:i,onError:r});return}kr[e]=[],kr[e].push({onLoad:n,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=kr[e],d=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),h=f?parseInt(f):0,m=h!==0;let v=0;const p=new ReadableStream({start(g){y();function y(){d.read().then(({done:b,value:x})=>{if(b)g.close();else{v+=x.byteLength;const E=new ProgressEvent("progress",{lengthComputable:m,loaded:v,total:h});for(let M=0,A=u.length;M<A;M++){const C=u[M];C.onProgress&&C.onProgress(E)}g.enqueue(x),y()}},b=>{g.error(b)})}}});return new Response(p)}else throw new EG(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(m=>h.decode(m))}}}).then(c=>{zr.add(e,c);const u=kr[e];delete kr[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=kr[e];if(u===void 0)throw this.manager.itemError(e),c;delete kr[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class TG extends fi{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new ta(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),a.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=tu.parse(e[i]);n.push(r)}return n}}class PG extends fi{constructor(e){super(e)}load(e,n,i,r){const a=this,s=[],o=new um,l=new ta(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const h=a.parse(f,!0);s[d]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(o.minFilter=gn),o.image=s,o.format=h.format,o.needsUpdate=!0,n&&n(o))},i,r)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=a.parse(d,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let m=0;m<h;m++){s[m]={mipmaps:[]};for(let v=0;v<f.mipmapCount;v++)s[m].mipmaps.push(f.mipmaps[m*f.mipmapCount+v]),s[m].format=f.format,s[m].width=f.width,s[m].height=f.height}o.image=s}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=gn),o.format=f.format,o.needsUpdate=!0,n&&n(o)},i,r);return o}}class nu extends fi{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=zr.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s;const o=qc("img");function l(){u(),zr.add(e,this),n&&n(this),a.manager.itemEnd(e)}function c(d){u(),r&&r(d),a.manager.itemError(e),a.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}class IG extends fi{constructor(e){super(e)}load(e,n,i,r){const a=new Au;a.colorSpace=gi;const s=new nu(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(c){s.load(e[c],function(u){a.images[c]=u,o++,o===6&&(a.needsUpdate=!0,n&&n(a))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return a}}class RG extends fi{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new mr,o=new ta(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let c;try{c=a.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:ki,s.wrapT=c.wrapT!==void 0?c.wrapT:ki,s.magFilter=c.magFilter!==void 0?c.magFilter:gn,s.minFilter=c.minFilter!==void 0?c.minFilter:gn,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=ur),c.mipmapCount===1&&(s.minFilter=gn),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,n&&n(s,c)},i,r),s}}class LG extends fi{constructor(e){super(e)}load(e,n,i,r){const a=new an,s=new nu(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,n!==void 0&&n(a)},i,r),a}}class Ya extends bt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ue(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class bT extends Ya{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ue(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Up=new et,qx=new H,jx=new H;class S0{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Se(512,512),this.map=null,this.mapPass=null,this.matrix=new et,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Eu,this._frameExtents=new Se(1,1),this._viewportCount=1,this._viewports=[new Lt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;qx.setFromMatrixPosition(e.matrixWorld),n.position.copy(qx),jx.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(jx),n.updateMatrixWorld(),Up.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Up),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Up)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class kG extends S0{constructor(){super(new pn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=fl*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(i!==n.fov||r!==n.aspect||a!==n.far)&&(n.fov=i,n.aspect=r,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xT extends Ya{constructor(e,n,i=0,r=Math.PI/3,a=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(bt.DEFAULT_UP),this.updateMatrix(),this.target=new bt,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new kG}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Kx=new et,Xl=new H,zp=new H;class DG extends S0{constructor(){super(new pn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Se(4,2),this._viewportCount=6,this._viewports=[new Lt(2,1,1,1),new Lt(0,1,1,1),new Lt(3,1,1,1),new Lt(1,1,1,1),new Lt(3,0,1,1),new Lt(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Xl.setFromMatrixPosition(e.matrixWorld),i.position.copy(Xl),zp.copy(i.position),zp.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(zp),i.updateMatrixWorld(),r.makeTranslation(-Xl.x,-Xl.y,-Xl.z),Kx.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Kx)}}class ST extends Ya{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new DG}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class OG extends S0{constructor(){super(new im(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class wT extends Ya{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(bt.DEFAULT_UP),this.updateMatrix(),this.target=new bt,this.shadow=new OG}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class MT extends Ya{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class CT extends Ya{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class AT{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*r),n.addScaledVector(s[2],.488603*a),n.addScaledVector(s[3],.488603*i),n.addScaledVector(s[4],1.092548*(i*r)),n.addScaledVector(s[5],1.092548*(r*a)),n.addScaledVector(s[6],.315392*(3*a*a-1)),n.addScaledVector(s[7],1.092548*(i*a)),n.addScaledVector(s[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*r),n.addScaledVector(s[2],2*.511664*a),n.addScaledVector(s[3],2*.511664*i),n.addScaledVector(s[4],2*.429043*i*r),n.addScaledVector(s[5],2*.429043*r*a),n.addScaledVector(s[6],.743125*a*a-.247708),n.addScaledVector(s[7],2*.429043*i*a),n.addScaledVector(s[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,a=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*a,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*i*a,n[8]=.546274*(i*i-r*r)}}class ET extends Ya{constructor(e=new AT,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Cm extends fi{constructor(e){super(e),this.textures={}}load(e,n,i,r){const a=this,s=new ta(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),a.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const r=Cm.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ue().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new Ue().setHex(s.value);break;case"v2":r.uniforms[a].value=new Se().fromArray(s.value);break;case"v3":r.uniforms[a].value=new H().fromArray(s.value);break;case"v4":r.uniforms[a].value=new Lt().fromArray(s.value);break;case"m3":r.uniforms[a].value=new dt().fromArray(s.value);break;case"m4":r.uniforms[a].value=new et().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Se().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Se().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:aT,SpriteMaterial:l0,RawShaderMaterial:sT,ShaderMaterial:Zi,PointsMaterial:u0,MeshPhysicalMaterial:oT,MeshStandardMaterial:g0,MeshPhongMaterial:lT,MeshToonMaterial:cT,MeshNormalMaterial:uT,MeshLambertMaterial:dT,MeshDepthMaterial:s0,MeshDistanceMaterial:o0,MeshBasicMaterial:la,MeshMatcapMaterial:fT,LineDashedMaterial:hT,LineBasicMaterial:ai,Material:qn};return new n[e]}}class ng{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class TT extends mt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class PT extends fi{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new ta(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),a.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(h,m){if(n[m]!==void 0)return n[m];const p=h.interleavedBuffers[m],g=a(h,p.buffer),y=Wo(p.type,g),b=new lm(y,p.stride);return b.uuid=p.uuid,n[m]=b,b}function a(h,m){if(i[m]!==void 0)return i[m];const p=h.arrayBuffers[m],g=new Uint32Array(p).buffer;return i[m]=g,g}const s=e.isInstancedBufferGeometry?new TT:new mt,o=e.data.index;if(o!==void 0){const h=Wo(o.type,o.array);s.setIndex(new Vt(h,1))}const l=e.data.attributes;for(const h in l){const m=l[h];let v;if(m.isInterleavedBufferAttribute){const p=r(e.data,m.data);v=new Ys(p,m.itemSize,m.offset,m.normalized)}else{const p=Wo(m.type,m.array),g=m.isInstancedBufferAttribute?ml:Vt;v=new g(p,m.itemSize,m.normalized)}m.name!==void 0&&(v.name=m.name),m.usage!==void 0&&v.setUsage(m.usage),s.setAttribute(h,v)}const c=e.data.morphAttributes;if(c)for(const h in c){const m=c[h],v=[];for(let p=0,g=m.length;p<g;p++){const y=m[p];let b;if(y.isInterleavedBufferAttribute){const x=r(e.data,y.data);b=new Ys(x,y.itemSize,y.offset,y.normalized)}else{const x=Wo(y.type,y.array);b=new Vt(x,y.itemSize,y.normalized)}y.name!==void 0&&(b.name=y.name),v.push(b)}s.morphAttributes[h]=v}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let h=0,m=d.length;h!==m;++h){const v=d[h];s.addGroup(v.start,v.count,v.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const h=new H;f.center!==void 0&&h.fromArray(f.center),s.boundingSphere=new $n(h,f.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class VG extends fi{constructor(e){super(e)}load(e,n,i,r){const a=this,s=this.path===""?ng.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new ta(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?ng.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new ta(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,n),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let d=!1;for(const f in s)if(s[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,o,s,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new Ds().fromJSON(e[i]);n[a.uuid]=a}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new cm().fromJSON(e[a],r);i[o.uuid]=o}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new PT;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in Yx?o=Yx[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const a=new Cm;a.setTextures(n);for(let s=0,o=e.length;s<o;s++){const l=e[s];i[l.uuid]===void 0&&(i[l.uuid]=a.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=tu.parse(r);n[a.uuid]=a}return n}parseImages(e,n){const i=this,r={};let a;function s(l){return i.manager.itemStart(l),a.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return s(u)}else return l.data?{data:Wo(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new x0(n);a=new nu(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const h=[];for(let m=0,v=f.length;m<v;m++){const p=f[m],g=o(p);g!==null&&(g instanceof HTMLImageElement?h.push(g):h.push(new mr(g.data,g.width,g.height)))}r[d.uuid]=new Ms(h)}else{const h=o(d.url);r[d.uuid]=new Ms(h)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await r.loadAsync(l)}else return s.data?{data:Wo(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new nu(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d],m=await a(h);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new mr(m.data,m.width,m.height)))}i[l.uuid]=new Ms(u)}else{const u=await a(l.url);i[l.uuid]=new Ms(u)}}}return i}parseTextures(e,n){function i(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let u;Array.isArray(c)?(u=new Au,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new mr:u=new an,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=i(o.mapping,NG)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=i(o.wrap[0],Zx),u.wrapT=i(o.wrap[1],Zx)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.minFilter!==void 0&&(u.minFilter=i(o.minFilter,Jx)),o.magFilter!==void 0&&(u.magFilter=i(o.magFilter,Jx)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),r[o.uuid]=u}return r}parseObject(e,n,i,r,a){let s;function o(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const h=[];for(let m=0,v=f.length;m<v;m++){const p=f[m];i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),h.push(i[p])}return h}return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),i[f]}}function c(f){return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),r[f]}let u,d;switch(e.type){case"Scene":s=new om,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Ue(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new sm(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new am(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new pn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new im(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new MT(e.color,e.intensity);break;case"DirectionalLight":s=new wT(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new ST(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new CT(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new xT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new bT(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new ET().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),d=l(e.material),s=new WE(u,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),d=l(e.material),s=new on(u,d);break;case"InstancedMesh":u=o(e.geometry),d=l(e.material);const f=e.count,h=e.instanceMatrix,m=e.instanceColor;s=new $E(u,d,f),s.instanceMatrix=new ml(new Float32Array(h.array),16),m!==void 0&&(s.instanceColor=new ml(new Float32Array(m.array),m.itemSize));break;case"BatchedMesh":u=o(e.geometry),d=l(e.material),s=new XE(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),s.geometry=u,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(v=>{const p=new ri;p.min.fromArray(v.boxMin),p.max.fromArray(v.boxMax);const g=new $n;return g.radius=v.sphereRadius,g.center.fromArray(v.sphereCenter),{boxInitialized:v.boxInitialized,box:p,sphereInitialized:v.sphereInitialized,sphere:g}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":s=new GE;break;case"Line":s=new Na(o(e.geometry),l(e.material));break;case"LineLoop":s=new YE(o(e.geometry),l(e.material));break;case"LineSegments":s=new Cr(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new qE(o(e.geometry),l(e.material));break;case"Sprite":s=new HE(l(e.material));break;case"Group":s=new Xo;break;case"Bone":s=new c0;break;default:s=new bt}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let h=0;h<f.length;h++)s.add(this.parseObject(f[h],n,i,r,a))}if(e.animations!==void 0){const f=e.animations;for(let h=0;h<f.length;h++){const m=f[h];s.animations.push(a[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const f=e.levels;for(let h=0;h<f.length;h++){const m=f[h],v=s.getObjectByProperty("uuid",m.object);v!==void 0&&s.addLevel(v,m.distance,m.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new bt}})}}const NG={UVMapping:Xh,CubeReflectionMapping:Qr,CubeRefractionMapping:Va,EquirectangularReflectionMapping:Nc,EquirectangularRefractionMapping:Bc,CubeUVReflectionMapping:Ml},Zx={RepeatWrapping:Fc,ClampToEdgeWrapping:ki,MirroredRepeatWrapping:Uc},Jx={NearestFilter:An,NearestMipmapNearestFilter:zy,NearestMipmapLinearFilter:Go,LinearFilter:gn,LinearMipmapNearestFilter:ac,LinearMipmapLinearFilter:ur};class BG extends fi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=zr.get(e);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(c=>{n&&n(c),a.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return zr.add(e,c),n&&n(c),a.manager.itemEnd(e),c}).catch(function(c){r&&r(c),zr.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});zr.add(e,l),a.manager.itemStart(e)}}let Dd;class w0{static getContext(){return Dd===void 0&&(Dd=new(window.AudioContext||window.webkitAudioContext)),Dd}static setContext(e){Dd=e}}class FG extends fi{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new ta(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);w0.getContext().decodeAudioData(c,function(d){n(d)}).catch(o)}catch(c){o(c)}},i,r);function o(l){r?r(l):console.error(l),a.manager.itemError(e)}}}const Qx=new et,eS=new et,os=new et;class UG{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new pn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new pn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,os.copy(e.projectionMatrix);const r=n.eyeSep/2,a=r*n.near/n.focus,s=n.near*Math.tan(ks*n.fov*.5)/n.zoom;let o,l;eS.elements[12]=-r,Qx.elements[12]=r,o=-s*n.aspect+a,l=s*n.aspect+a,os.elements[0]=2*n.near/(l-o),os.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(os),o=-s*n.aspect-a,l=s*n.aspect-a,os.elements[0]=2*n.near/(l-o),os.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(os)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(eS),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Qx)}}class Am{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=tS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=tS();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function tS(){return(typeof performance>"u"?Date:performance).now()}const ls=new H,nS=new ci,zG=new H,cs=new H;class HG extends bt{constructor(){super(),this.type="AudioListener",this.context=w0.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Am}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ls,nS,zG),cs.set(0,0,-1).applyQuaternion(nS),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(ls.x,r),n.positionY.linearRampToValueAtTime(ls.y,r),n.positionZ.linearRampToValueAtTime(ls.z,r),n.forwardX.linearRampToValueAtTime(cs.x,r),n.forwardY.linearRampToValueAtTime(cs.y,r),n.forwardZ.linearRampToValueAtTime(cs.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(ls.x,ls.y,ls.z),n.setOrientation(cs.x,cs.y,cs.z,i.x,i.y,i.z)}}class IT extends bt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const us=new H,iS=new ci,GG=new H,ds=new H;class WG extends IT{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(us,iS,GG),ds.set(0,0,1).applyQuaternion(iS);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(us.x,i),n.positionY.linearRampToValueAtTime(us.y,i),n.positionZ.linearRampToValueAtTime(us.z,i),n.orientationX.linearRampToValueAtTime(ds.x,i),n.orientationY.linearRampToValueAtTime(ds.y,i),n.orientationZ.linearRampToValueAtTime(ds.z,i)}else n.setPosition(us.x,us.y,us.z),n.setOrientation(ds.x,ds.y,ds.z)}}class $G{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class RT{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,a,s;switch(n){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==r;++o)i[a+o]=i[o];s=n}else{s+=n;const o=n/s;this._mixBufferRegion(i,a,0,o,r)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-a,n)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let a=i,s=r;a!==s;++a)n[a]=n[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[n+s]=e[i+s]}_slerp(e,n,i,r){ci.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,a){const s=this._workIndex*a;ci.multiplyQuaternionsFlat(e,s,e,n,e,i),ci.slerpFlat(e,n,e,n,e,s,r)}_lerp(e,n,i,r,a){const s=1-r;for(let o=0;o!==a;++o){const l=n+o;e[l]=e[l]*s+e[i+o]*r}}_lerpAdditive(e,n,i,r,a){for(let s=0;s!==a;++s){const o=n+s;e[o]=e[o]+e[i+s]*r}}}const M0="\\[\\]\\.:\\/",XG=new RegExp("["+M0+"]","g"),C0="[^"+M0+"]",YG="[^"+M0.replace("\\.","")+"]",qG=/((?:WC+[\/:])*)/.source.replace("WC",C0),jG=/(WCOD+)?/.source.replace("WCOD",YG),KG=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",C0),ZG=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",C0),JG=new RegExp("^"+qG+jG+KG+ZG+"$"),QG=["material","materials","bones","map"];class eW{constructor(e,n,i){const r=i||wt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class wt{constructor(e,n,i){this.path=n,this.parsedPath=i||wt.parseTrackName(n),this.node=wt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new wt.Composite(e,n,i):new wt(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(XG,"")}static parseTrackName(e){const n=JG.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);QG.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===n||o.uuid===n)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=wt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[r];if(s===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}wt.Composite=eW;wt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};wt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};wt.prototype.GetterByBindingType=[wt.prototype._getValue_direct,wt.prototype._getValue_array,wt.prototype._getValue_arrayElement,wt.prototype._getValue_toArray];wt.prototype.SetterByBindingTypeAndVersioning=[[wt.prototype._setValue_direct,wt.prototype._setValue_direct_setNeedsUpdate,wt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wt.prototype._setValue_array,wt.prototype._setValue_array_setNeedsUpdate,wt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wt.prototype._setValue_arrayElement,wt.prototype._setValue_arrayElement_setNeedsUpdate,wt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wt.prototype._setValue_fromArray,wt.prototype._setValue_fromArray_setNeedsUpdate,wt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class tW{constructor(){this.isAnimationObjectGroup=!0,this.uuid=xi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],h=f.uuid;let m=n[h];if(m===void 0){m=l++,n[h]=m,e.push(f);for(let v=0,p=s;v!==p;++v)a[v].push(new wt(f,i[v],r[v]))}else if(m<c){o=e[m];const v=--c,p=e[v];n[p.uuid]=m,e[m]=p,n[h]=v,e[v]=f;for(let g=0,y=s;g!==y;++g){const b=a[g],x=b[v];let E=b[m];b[m]=x,E===void 0&&(E=new wt(f,i[g],r[g])),b[v]=E}}else e[m]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],c=l.uuid,u=n[c];if(u!==void 0&&u>=a){const d=a++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let h=0,m=r;h!==m;++h){const v=i[h],p=v[d],g=v[u];v[u]=p,v[d]=g}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<a){const f=--a,h=e[f],m=--s,v=e[m];n[h.uuid]=d,e[d]=h,n[v.uuid]=f,e[f]=v,e.pop();for(let p=0,g=r;p!==g;++p){const y=i[p],b=y[f],x=y[m];y[d]=b,y[f]=x,y.pop()}}else{const f=--s,h=e[f];f>0&&(n[h.uuid]=d),e[d]=h,e.pop();for(let m=0,v=r;m!==v;++m){const p=i[m];p[d]=p[f],p.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=a.length,i[e]=r,s.push(e),o.push(n),a.push(d);for(let f=u,h=l.length;f!==h;++f){const m=l[f];d[f]=new wt(m,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],c=e[o];n[c]=i,s[i]=l,s.pop(),a[i]=a[o],a.pop(),r[i]=r[o],r.pop()}}}class LT{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const a=n.tracks,s=a.length,o=new Array(s),l={endingStart:Ss,endingEnd:Ss};for(let c=0;c!==s;++c){const u=a[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=hE,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,a=e._clip.duration,s=a/r,o=r/a;e.warp(1,s,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,a=r.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,l[1]=a+i,c[0]=e/s,c[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const s=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Zy:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulateAdditive(o);break;case Qh:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulate(r,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===mE;if(e===0)return a===-1?r:s&&(a&1)===1?n-r:r;if(i===fE){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=n||r<0){const o=Math.floor(r/n);r-=n*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(s&&(a&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=ws,r.endingEnd=ws):(e?r.endingStart=this.zeroSlopeAtStart?ws:Ss:r.endingStart=Hc,n?r.endingEnd=this.zeroSlopeAtEnd?ws:Ss:r.endingEnd=Hc)}_scheduleFading(e,n,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=n,o[1]=a+e,l[1]=i,this}}const nW=new Float32Array(1);class iW extends Mr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==a;++d){const f=r[d],h=f.name;let m=u[h];if(m!==void 0)++m.referenceCount,s[d]=m;else{if(m=s[d],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,h));continue}const v=n&&n._propertyBindings[d].binding.parsedPath;m=new RT(wt.create(i,h,v),f.ValueTypeName,f.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,h),s[d]=m}o[d].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,a=this._actionsByClip;let s=a[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[n];s===void 0&&(s={},r[n]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,o=s[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[a],Object.keys(o).length===0&&delete s[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new _0(new Float32Array(2),new Float32Array(2),1,nW),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=n[r];e.__cacheIndex=r,n[r]=e,a.__cacheIndex=i,n[i]=a}clipAction(e,n,i){const r=n||this._root,a=r.uuid;let s=typeof e=="string"?tu.findByName(r,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(s!==null?i=s.blendMode:i=Qh),l!==void 0){const d=l.actionByRoot[a];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new LT(this,s,n,i);return this._bindAction(u,c),this._addInactiveAction(u,o,a),u}existingAction(e,n){const i=n||this._root,r=i.uuid,a=typeof e=="string"?tu.findByName(i,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const s in i){const o=i[s].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,a=r[n];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class A0{constructor(e){this.value=e}clone(){return new A0(this.value.clone===void 0?this.value:this.value.clone())}}let rW=0;class aW extends Mr{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:rW++}),this.name="",this.usage=Xc,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const a=Array.isArray(n[i])?n[i]:[n[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class sW extends lm{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class oW{constructor(e,n,i,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const rS=new et;class kT{constructor(e,n,i=0,r=1/0){this.ray=new Al(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new nm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return rS.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(rS),this}intersectObject(e,n=!0,i=[]){return ig(e,this,i,n),i.sort(aS),i}intersectObjects(e,n=!0,i=[]){for(let r=0,a=e.length;r<a;r++)ig(e[r],this,i,n);return i.sort(aS),i}}function aS(t,e){return t.distance-e.distance}function ig(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const a=t.children;for(let s=0,o=a.length;s<o;s++)ig(a[s],e,n,!0)}}class lW{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(nn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class cW{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class E0{constructor(e,n,i,r){E0.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const a=this.elements;return a[0]=e,a[2]=n,a[1]=i,a[3]=r,this}}const sS=new Se;class uW{constructor(e=new Se(1/0,1/0),n=new Se(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=sS.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,sS).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const oS=new H,Od=new H;class dW{constructor(e=new H,n=new H){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){oS.subVectors(e,this.start),Od.subVectors(this.end,this.start);const i=Od.dot(Od);let a=Od.dot(oS)/i;return n&&(a=nn(a,0,1)),a}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const lS=new H;class fW extends bt{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new mt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const c=s/l*Math.PI*2,u=o/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new Ye(r,3));const a=new ai({fog:!1,toneMapped:!1});this.cone=new Cr(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),lS.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(lS),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const xa=new H,Vd=new et,Hp=new et;class hW extends Cr{constructor(e){const n=DT(e),i=new mt,r=[],a=[],s=new Ue(0,0,1),o=new Ue(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}i.setAttribute("position",new Ye(r,3)),i.setAttribute("color",new Ye(a,3));const l=new ai({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");Hp.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<n.length;a++){const o=n[a];o.parent&&o.parent.isBone&&(Vd.multiplyMatrices(Hp,o.matrixWorld),xa.setFromMatrixPosition(Vd),r.setXYZ(s,xa.x,xa.y,xa.z),Vd.multiplyMatrices(Hp,o.parent.matrixWorld),xa.setFromMatrixPosition(Vd),r.setXYZ(s+1,xa.x,xa.y,xa.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function DT(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,DT(t.children[n]));return e}class mW extends on{constructor(e,n,i){const r=new Iu(n,4,2),a=new la({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const pW=new H,cS=new Ue,uS=new Ue;class vW extends bt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Pu(n);r.rotateY(Math.PI*.5),this.material=new la({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Vt(s,3)),this.add(new on(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");cS.copy(this.light.color),uS.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const a=i<r/2?cS:uS;n.setXYZ(i,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(pW.setFromMatrixPosition(this.light.matrixWorld).negate())}}class gW extends Cr{constructor(e=10,n=10,i=4473924,r=8947848){i=new Ue(i),r=new Ue(r);const a=n/2,s=e/n,o=e/2,l=[],c=[];for(let f=0,h=0,m=-o;f<=n;f++,m+=s){l.push(-o,0,m,o,0,m),l.push(m,0,-o,m,0,o);const v=f===a?i:r;v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3}const u=new mt;u.setAttribute("position",new Ye(l,3)),u.setAttribute("color",new Ye(c,3));const d=new ai({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class yW extends Cr{constructor(e=10,n=16,i=8,r=64,a=4473924,s=8947848){a=new Ue(a),s=new Ue(s);const o=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),h=Math.sin(f)*e,m=Math.cos(f)*e;o.push(0,0,0),o.push(h,0,m);const v=d&1?a:s;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<i;d++){const f=d&1?a:s,h=e-e/i*d;for(let m=0;m<r;m++){let v=m/r*(Math.PI*2),p=Math.sin(v)*h,g=Math.cos(v)*h;o.push(p,0,g),l.push(f.r,f.g,f.b),v=(m+1)/r*(Math.PI*2),p=Math.sin(v)*h,g=Math.cos(v)*h,o.push(p,0,g),l.push(f.r,f.g,f.b)}}const c=new mt;c.setAttribute("position",new Ye(o,3)),c.setAttribute("color",new Ye(l,3));const u=new ai({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const dS=new H,Nd=new H,fS=new H;class _W extends bt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new mt;r.setAttribute("position",new Ye([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new ai({fog:!1,toneMapped:!1});this.lightPlane=new Na(r,a),this.add(this.lightPlane),r=new mt,r.setAttribute("position",new Ye([0,0,0,0,0,1],3)),this.targetLine=new Na(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),dS.setFromMatrixPosition(this.light.matrixWorld),Nd.setFromMatrixPosition(this.light.target.matrixWorld),fS.subVectors(Nd,dS),this.lightPlane.lookAt(Nd),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Nd),this.targetLine.scale.z=fS.length()}}const Bd=new H,tn=new Cu;class bW extends Cr{constructor(e){const n=new mt,i=new ai({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(m,v){l(m),l(v)}function l(m){r.push(0,0,0),a.push(0,0,0),s[m]===void 0&&(s[m]=[]),s[m].push(r.length/3-1)}n.setAttribute("position",new Ye(r,3)),n.setAttribute("color",new Ye(a,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new Ue(16755200),u=new Ue(16711680),d=new Ue(43775),f=new Ue(16777215),h=new Ue(3355443);this.setColors(c,u,d,f,h)}setColors(e,n,i,r,a){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;tn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),sn("c",n,e,tn,0,0,-1),sn("t",n,e,tn,0,0,1),sn("n1",n,e,tn,-i,-r,-1),sn("n2",n,e,tn,i,-r,-1),sn("n3",n,e,tn,-i,r,-1),sn("n4",n,e,tn,i,r,-1),sn("f1",n,e,tn,-i,-r,1),sn("f2",n,e,tn,i,-r,1),sn("f3",n,e,tn,-i,r,1),sn("f4",n,e,tn,i,r,1),sn("u1",n,e,tn,i*.7,r*1.1,-1),sn("u2",n,e,tn,-i*.7,r*1.1,-1),sn("u3",n,e,tn,0,r*2,-1),sn("cf1",n,e,tn,-i,0,1),sn("cf2",n,e,tn,i,0,1),sn("cf3",n,e,tn,0,-r,1),sn("cf4",n,e,tn,0,r,1),sn("cn1",n,e,tn,-i,0,-1),sn("cn2",n,e,tn,i,0,-1),sn("cn3",n,e,tn,0,-r,-1),sn("cn4",n,e,tn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function sn(t,e,n,i,r,a,s){Bd.set(r,a,s).unproject(i);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],Bd.x,Bd.y,Bd.z)}}const Fd=new ri;class xW extends Cr{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new mt;a.setIndex(new Vt(i,1)),a.setAttribute("position",new Vt(r,3)),super(a,new ai({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Fd.setFromObject(this.object),Fd.isEmpty())return;const n=Fd.min,i=Fd.max,r=this.geometry.attributes.position,a=r.array;a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=n.x,a[4]=i.y,a[5]=i.z,a[6]=n.x,a[7]=n.y,a[8]=i.z,a[9]=i.x,a[10]=n.y,a[11]=i.z,a[12]=i.x,a[13]=i.y,a[14]=n.z,a[15]=n.x,a[16]=i.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=i.x,a[22]=n.y,a[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class SW extends Cr{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new mt;a.setIndex(new Vt(i,1)),a.setAttribute("position",new Ye(r,3)),super(a,new ai({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class wW extends Na{constructor(e,n=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new mt;s.setAttribute("position",new Ye(a,3)),s.computeBoundingSphere(),super(s,new ai({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new mt;l.setAttribute("position",new Ye(o,3)),l.computeBoundingSphere(),this.add(new on(l,new la({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const hS=new H;let Ud,Gp;class MW extends bt{constructor(e=new H(0,0,1),n=new H(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",Ud===void 0&&(Ud=new mt,Ud.setAttribute("position",new Ye([0,0,0,0,1,0],3)),Gp=new Pl(0,.5,1,5,1),Gp.translate(0,-.5,0)),this.position.copy(n),this.line=new Na(Ud,new ai({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new on(Gp,new la({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{hS.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(hS,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class CW extends Cr{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new mt;r.setAttribute("position",new Ye(n,3)),r.setAttribute("color",new Ye(i,3));const a=new ai({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,n,i){const r=new Ue,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(n),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class AW{constructor(){this.type="ShapePath",this.color=new Ue,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new jc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,a,s){return this.currentPath.bezierCurveTo(e,n,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const y=[];for(let b=0,x=g.length;b<x;b++){const E=g[b],M=new Ds;M.curves=E.curves,y.push(M)}return y}function i(g,y){const b=y.length;let x=!1;for(let E=b-1,M=0;M<b;E=M++){let A=y[E],C=y[M],S=C.x-A.x,w=C.y-A.y;if(Math.abs(w)>Number.EPSILON){if(w<0&&(A=y[M],S=-S,C=y[E],w=-w),g.y<A.y||g.y>C.y)continue;if(g.y===A.y){if(g.x===A.x)return!0}else{const T=w*(g.x-A.x)-S*(g.y-A.y);if(T===0)return!0;if(T<0)continue;x=!x}}else{if(g.y!==A.y)continue;if(C.x<=g.x&&g.x<=A.x||A.x<=g.x&&g.x<=C.x)return!0}}return x}const r=pr.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const c=[];if(a.length===1)return o=a[0],l=new Ds,l.curves=o.curves,c.push(l),c;let u=!r(a[0].getPoints());u=e?!u:u;const d=[],f=[];let h=[],m=0,v;f[m]=void 0,h[m]=[];for(let g=0,y=a.length;g<y;g++)o=a[g],v=o.getPoints(),s=r(v),s=e?!s:s,s?(!u&&f[m]&&m++,f[m]={s:new Ds,p:v},f[m].s.curves=o.curves,u&&m++,h[m]=[]):h[m].push({h:o,p:v[0]});if(!f[0])return n(a);if(f.length>1){let g=!1,y=0;for(let b=0,x=f.length;b<x;b++)d[b]=[];for(let b=0,x=f.length;b<x;b++){const E=h[b];for(let M=0;M<E.length;M++){const A=E[M];let C=!0;for(let S=0;S<f.length;S++)i(A.p,f[S].p)&&(b!==S&&y++,C?(C=!1,d[S].push(A)):g=!0);C&&d[b].push(A)}}y>0&&g===!1&&(h=d)}let p;for(let g=0,y=f.length;g<y;g++){l=f[g].s,c.push(l),p=h[g];for(let b=0,x=p.length;b<x;b++)l.holes.push(p[b].h)}return c}}class EW extends Mr{constructor(e,n){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class TW extends Ki{constructor(e=1,n=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:xu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=xu);const PW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:$h,AddEquation:Ia,AddOperation:rE,AdditiveAnimationBlendMode:Zy,AdditiveBlending:Gv,AgXToneMapping:cE,AlphaFormat:$y,AlwaysCompare:ME,AlwaysDepth:ZA,AlwaysStencilFunc:Yv,AmbientLight:MT,AnimationAction:LT,AnimationClip:tu,AnimationLoader:TG,AnimationMixer:iW,AnimationObjectGroup:tW,AnimationUtils:MG,ArcCurve:jE,ArrayCamera:UE,ArrowHelper:MW,AttachedBindMode:Xv,Audio:IT,AudioAnalyser:$G,AudioContext:w0,AudioListener:HG,AudioLoader:FG,AxesHelper:CW,BackSide:ii,BasicDepthPacking:pE,BasicShadowMap:MB,BatchedMesh:XE,Bone:c0,BooleanKeyframeTrack:oo,Box2:uW,Box3:ri,Box3Helper:SW,BoxGeometry:so,BoxHelper:xW,BufferAttribute:Vt,BufferGeometry:mt,BufferGeometryLoader:PT,ByteType:Hy,Cache:zr,Camera:Cu,CameraHelper:bW,CanvasTexture:q5,CapsuleGeometry:fm,CatmullRomCurve3:KE,CineonToneMapping:oE,CircleGeometry:hm,ClampToEdgeWrapping:ki,Clock:Am,Color:Ue,ColorKeyframeTrack:b0,ColorManagement:At,CompressedArrayTexture:X5,CompressedCubeTexture:Y5,CompressedTexture:um,CompressedTextureLoader:PG,ConeGeometry:mm,ConstantAlphaFactor:qA,ConstantColorFactor:XA,Controls:EW,CubeCamera:LE,CubeReflectionMapping:Qr,CubeRefractionMapping:Va,CubeTexture:Au,CubeTextureLoader:IG,CubeUVReflectionMapping:Ml,CubicBezierCurve:f0,CubicBezierCurve3:ZE,CubicInterpolant:vT,CullFaceBack:Hv,CullFaceFront:RA,CullFaceFrontBack:wB,CullFaceNone:IA,Curve:tr,CurvePath:QE,CustomBlending:LA,CustomToneMapping:lE,CylinderGeometry:Pl,Cylindrical:cW,Data3DTexture:t0,DataArrayTexture:tm,DataTexture:mr,DataTextureLoader:RG,DataUtils:VF,DecrementStencilOp:BB,DecrementWrapStencilOp:UB,DefaultLoadingManager:_T,DepthFormat:Ls,DepthStencilFormat:Xs,DepthTexture:a0,DetachedBindMode:dE,DirectionalLight:wT,DirectionalLightHelper:_W,DiscreteInterpolant:gT,DisplayP3ColorSpace:em,DodecahedronGeometry:pm,DoubleSide:$i,DstAlphaFactor:zA,DstColorFactor:GA,DynamicCopyUsage:tF,DynamicDrawUsage:jB,DynamicReadUsage:JB,EdgesGeometry:eT,EllipseCurve:dm,EqualCompare:bE,EqualDepth:QA,EqualStencilFunc:WB,EquirectangularReflectionMapping:Nc,EquirectangularRefractionMapping:Bc,Euler:wi,EventDispatcher:Mr,ExtrudeGeometry:gm,FileLoader:ta,Float16BufferAttribute:HF,Float32BufferAttribute:Ye,FloatType:li,Fog:sm,FogExp2:am,FramebufferTexture:$5,FrontSide:Jr,Frustum:Eu,GLBufferAttribute:oW,GLSL1:iF,GLSL3:qv,GreaterCompare:xE,GreaterDepth:tE,GreaterEqualCompare:wE,GreaterEqualDepth:eE,GreaterEqualStencilFunc:qB,GreaterStencilFunc:XB,GridHelper:gW,Group:Xo,HalfFloatType:Cl,HemisphereLight:bT,HemisphereLightHelper:vW,IcosahedronGeometry:ym,ImageBitmapLoader:BG,ImageLoader:nu,ImageUtils:EE,IncrementStencilOp:NB,IncrementWrapStencilOp:FB,InstancedBufferAttribute:ml,InstancedBufferGeometry:TT,InstancedInterleavedBuffer:sW,InstancedMesh:$E,Int16BufferAttribute:UF,Int32BufferAttribute:zF,Int8BufferAttribute:NF,IntType:Yh,InterleavedBuffer:lm,InterleavedBufferAttribute:Ys,Interpolant:Ru,InterpolateDiscrete:zc,InterpolateLinear:qf,InterpolateSmooth:Jd,InvertStencilOp:zB,KeepStencilOp:hs,KeyframeTrack:nr,LOD:GE,LatheGeometry:Tu,Layers:nm,LessCompare:_E,LessDepth:JA,LessEqualCompare:Jy,LessEqualDepth:Vc,LessEqualStencilFunc:$B,LessStencilFunc:GB,Light:Ya,LightProbe:ET,Line:Na,Line3:dW,LineBasicMaterial:ai,LineCurve:h0,LineCurve3:JE,LineDashedMaterial:hT,LineLoop:YE,LineSegments:Cr,LinearDisplayP3ColorSpace:Mu,LinearFilter:gn,LinearInterpolant:_0,LinearMipMapLinearFilter:TB,LinearMipMapNearestFilter:EB,LinearMipmapLinearFilter:ur,LinearMipmapNearestFilter:ac,LinearSRGBColorSpace:oa,LinearToneMapping:aE,LinearTransfer:Gc,Loader:fi,LoaderUtils:ng,LoadingManager:x0,LoopOnce:fE,LoopPingPong:mE,LoopRepeat:hE,LuminanceAlphaFormat:qy,LuminanceFormat:Yy,MOUSE:xB,Material:qn,MaterialLoader:Cm,MathUtils:e0,Matrix2:E0,Matrix3:dt,Matrix4:et,MaxEquation:VA,Mesh:on,MeshBasicMaterial:la,MeshDepthMaterial:s0,MeshDistanceMaterial:o0,MeshLambertMaterial:dT,MeshMatcapMaterial:fT,MeshNormalMaterial:uT,MeshPhongMaterial:lT,MeshPhysicalMaterial:oT,MeshStandardMaterial:g0,MeshToonMaterial:cT,MinEquation:OA,MirroredRepeatWrapping:Uc,MixOperation:iE,MultiplyBlending:$v,MultiplyOperation:Su,NearestFilter:An,NearestMipMapLinearFilter:AB,NearestMipMapNearestFilter:CB,NearestMipmapLinearFilter:Go,NearestMipmapNearestFilter:zy,NeutralToneMapping:uE,NeverCompare:yE,NeverDepth:KA,NeverStencilFunc:HB,NoBlending:Gr,NoColorSpace:Fr,NoToneMapping:hr,NormalAnimationBlendMode:Qh,NormalBlending:Rs,NotEqualCompare:SE,NotEqualDepth:nE,NotEqualStencilFunc:YB,NumberKeyframeTrack:Qc,Object3D:bt,ObjectLoader:VG,ObjectSpaceNormalMap:gE,OctahedronGeometry:Pu,OneFactor:BA,OneMinusConstantAlphaFactor:jA,OneMinusConstantColorFactor:YA,OneMinusDstAlphaFactor:HA,OneMinusDstColorFactor:WA,OneMinusSrcAlphaFactor:xf,OneMinusSrcColorFactor:UA,OrthographicCamera:im,P3Primaries:$c,PCFShadowMap:Fy,PCFSoftShadowMap:Uy,PMREMGenerator:jv,Path:jc,PerspectiveCamera:pn,Plane:Ea,PlaneGeometry:El,PlaneHelper:wW,PointLight:ST,PointLightHelper:mW,Points:qE,PointsMaterial:u0,PolarGridHelper:yW,PolyhedronGeometry:Xa,PositionalAudio:WG,PropertyBinding:wt,PropertyMixer:RT,QuadraticBezierCurve:m0,QuadraticBezierCurve3:p0,Quaternion:ci,QuaternionKeyframeTrack:Lu,QuaternionLinearInterpolant:yT,RED_GREEN_RGTC2_Format:Xf,RED_RGTC1_Format:Ky,REVISION:xu,RGBADepthPacking:vE,RGBAFormat:ti,RGBAIntegerFormat:Jh,RGBA_ASTC_10x10_Format:Uf,RGBA_ASTC_10x5_Format:Nf,RGBA_ASTC_10x6_Format:Bf,RGBA_ASTC_10x8_Format:Ff,RGBA_ASTC_12x10_Format:zf,RGBA_ASTC_12x12_Format:Hf,RGBA_ASTC_4x4_Format:Pf,RGBA_ASTC_5x4_Format:If,RGBA_ASTC_5x5_Format:Rf,RGBA_ASTC_6x5_Format:Lf,RGBA_ASTC_6x6_Format:kf,RGBA_ASTC_8x5_Format:Df,RGBA_ASTC_8x6_Format:Of,RGBA_ASTC_8x8_Format:Vf,RGBA_BPTC_Format:uc,RGBA_ETC2_EAC_Format:Tf,RGBA_PVRTC_2BPPV1_Format:Cf,RGBA_PVRTC_4BPPV1_Format:Mf,RGBA_S3TC_DXT1_Format:oc,RGBA_S3TC_DXT3_Format:lc,RGBA_S3TC_DXT5_Format:cc,RGBDepthPacking:kB,RGBFormat:Xy,RGBIntegerFormat:PB,RGB_BPTC_SIGNED_Format:Gf,RGB_BPTC_UNSIGNED_Format:Wf,RGB_ETC1_Format:Af,RGB_ETC2_Format:Ef,RGB_PVRTC_2BPPV1_Format:wf,RGB_PVRTC_4BPPV1_Format:Sf,RGB_S3TC_DXT1_Format:sc,RGDepthPacking:DB,RGFormat:jy,RGIntegerFormat:Zh,RawShaderMaterial:sT,Ray:Al,Raycaster:kT,Rec709Primaries:Wc,RectAreaLight:CT,RedFormat:Kh,RedIntegerFormat:wu,ReinhardToneMapping:sE,RenderTarget:TE,RepeatWrapping:Fc,ReplaceStencilOp:VB,ReverseSubtractEquation:DA,RingGeometry:_m,SIGNED_RED_GREEN_RGTC2_Format:Yf,SIGNED_RED_RGTC1_Format:$f,SRGBColorSpace:gi,SRGBTransfer:Ut,Scene:om,ShaderChunk:ht,ShaderLib:Wi,ShaderMaterial:Zi,ShadowMaterial:aT,Shape:Ds,ShapeGeometry:bm,ShapePath:AW,ShapeUtils:pr,ShortType:Gy,Skeleton:cm,SkeletonHelper:hW,SkinnedMesh:WE,Source:Ms,Sphere:$n,SphereGeometry:Iu,Spherical:lW,SphericalHarmonics3:AT,SplineCurve:v0,SpotLight:xT,SpotLightHelper:fW,Sprite:HE,SpriteMaterial:l0,SrcAlphaFactor:bf,SrcAlphaSaturateFactor:$A,SrcColorFactor:FA,StaticCopyUsage:eF,StaticDrawUsage:Xc,StaticReadUsage:ZB,StereoCamera:UG,StreamCopyUsage:nF,StreamDrawUsage:KB,StreamReadUsage:QB,StringKeyframeTrack:lo,SubtractEquation:kA,SubtractiveBlending:Wv,TOUCH:SB,TangentSpaceNormalMap:$a,TetrahedronGeometry:xm,Texture:an,TextureLoader:LG,TextureUtils:M5,TorusGeometry:Sm,TorusKnotGeometry:wm,Triangle:_i,TriangleFanDrawMode:LB,TriangleStripDrawMode:RB,TrianglesDrawMode:IB,TubeGeometry:Mm,UVMapping:Xh,Uint16BufferAttribute:n0,Uint32BufferAttribute:i0,Uint8BufferAttribute:BF,Uint8ClampedBufferAttribute:FF,Uniform:A0,UniformsGroup:aW,UniformsLib:Be,UniformsUtils:RE,UnsignedByteType:gr,UnsignedInt248Type:$s,UnsignedInt5999Type:Wy,UnsignedIntType:ea,UnsignedShort4444Type:qh,UnsignedShort5551Type:jh,UnsignedShortType:dl,VSMShadowMap:or,Vector2:Se,Vector3:H,Vector4:Lt,VectorKeyframeTrack:eu,VideoTexture:W5,WebGL3DRenderTarget:AF,WebGLArrayRenderTarget:CF,WebGLCoordinateSystem:dr,WebGLCubeRenderTarget:kE,WebGLMultipleRenderTargets:TW,WebGLRenderTarget:Ki,WebGLRenderer:ef,WebGLUtils:FE,WebGPUCoordinateSystem:Yc,WireframeGeometry:rT,WrapAroundEnding:Hc,ZeroCurvatureEnding:Ss,ZeroFactor:NA,ZeroSlopeEnding:ws,ZeroStencilOp:OB,createCanvasElement:AE},Symbol.toStringTag,{value:"Module"}));function yr(t){return tw()?(Nn(t),!0):!1}function Ri(){const t=new Set,e=r=>{t.delete(r)};return{on:r=>{t.add(r);const a=()=>e(r);return yr(a),{off:a}},off:e,trigger:(...r)=>Promise.all(Array.from(t).map(a=>a(...r)))}}function Wt(t){return typeof t=="function"?t():Ot(t)}const rg=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const IW=t=>t!=null,RW=Object.prototype.toString,LW=t=>RW.call(t)==="[object Object]",ag=()=>{};function kW(t,e){function n(...i){return new Promise((r,a)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(r).catch(a)})}return n}function DW(t,e={}){let n,i,r=ag;const a=o=>{clearTimeout(o),r(),r=ag};return o=>{const l=Wt(t),c=Wt(e.maxWait);return n&&a(n),l<=0||c!==void 0&&c<=0?(i&&(a(i),i=null),Promise.resolve(o())):new Promise((u,d)=>{r=e.rejectOnCancel?d:u,c&&!i&&(i=setTimeout(()=>{n&&a(n),i=null,u(o())},c)),n=setTimeout(()=>{i&&a(i),i=null,u(o())},l)})}}function OW(t,e,n=!1){return e.reduce((i,r)=>(r in t&&(!n||t[r]!==void 0)&&(i[r]=t[r]),i),{})}function VW(t){return ka()}function NW(t,e=200,n={}){return kW(DW(e,n),t)}function mS(t,e=200,n={}){const i=pe(t.value),r=NW(()=>{i.value=t.value},e,n);return Te(t,()=>r()),i}function BW(t,e={}){if(!Bt(t))return za(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const i in t.value)n[i]=YP(()=>({get(){return t.value[i]},set(r){var a;if((a=Wt(e.replaceRef))!=null?a:!0)if(Array.isArray(t.value)){const o=[...t.value];o[i]=r,t.value=o}else{const o={...t.value,[i]:r};Object.setPrototypeOf(o,Object.getPrototypeOf(t.value)),t.value=o}else t.value[i]=r}}));return n}function T0(t,e=!0,n){VW()?cn(t,n):e?t():vt(t)}function FW(t,e=1e3,n={}){const{immediate:i=!0,immediateCallback:r=!1}=n;let a=null;const s=pe(!1);function o(){a&&(clearInterval(a),a=null)}function l(){s.value=!1,o()}function c(){const u=Wt(e);u<=0||(s.value=!0,r&&t(),o(),a=setInterval(t,u))}if(i&&rg&&c(),Bt(e)||typeof e=="function"){const u=Te(e,()=>{s.value&&rg&&c()});yr(u)}return yr(l),{isActive:s,pause:l,resume:c}}function Xi(t){var e;const n=Wt(t);return(e=n==null?void 0:n.$el)!=null?e:n}const ca=rg?window:void 0;function iu(...t){let e,n,i,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,r]=t,e=ca):[e,n,i,r]=t,!e)return ag;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const a=[],s=()=>{a.forEach(u=>u()),a.length=0},o=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=Te(()=>[Xi(e),Wt(r)],([u,d])=>{if(s(),!u)return;const f=LW(d)?{...d}:d;a.push(...n.flatMap(h=>i.map(m=>o(u,h,m,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};return yr(c),c}function UW(){const t=pe(!1),e=ka();return e&&cn(()=>{t.value=!0},e),t}function Em(t){const e=UW();return P(()=>(e.value,!!t()))}function zW(t,e,n={}){const{window:i=ca,...r}=n;let a;const s=Em(()=>i&&"MutationObserver"in i),o=()=>{a&&(a.disconnect(),a=void 0)},l=P(()=>{const f=Wt(t),h=(Array.isArray(f)?f:[f]).map(Xi).filter(IW);return new Set(h)}),c=Te(()=>l.value,f=>{o(),s.value&&f.size&&(a=new MutationObserver(e),f.forEach(h=>a.observe(h,r)))},{immediate:!0,flush:"post"}),u=()=>a==null?void 0:a.takeRecords(),d=()=>{o(),c()};return yr(d),{isSupported:s,stop:d,takeRecords:u}}function P0(t,e={}){const{immediate:n=!0,fpsLimit:i=void 0,window:r=ca}=e,a=pe(!1),s=i?1e3/i:null;let o=0,l=null;function c(f){if(!a.value||!r)return;o||(o=f);const h=f-o;if(s&&h<s){l=r.requestAnimationFrame(c);return}o=f,t({delta:h,timestamp:f}),l=r.requestAnimationFrame(c)}function u(){!a.value&&r&&(a.value=!0,o=0,l=r.requestAnimationFrame(c))}function d(){a.value=!1,l!=null&&r&&(r.cancelAnimationFrame(l),l=null)}return n&&u(),yr(d),{isActive:Wr(a),pause:d,resume:u}}function HW(t,e={}){const{window:n=ca}=e,i=Em(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const a=pe(!1),s=c=>{a.value=c.matches},o=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",s):r.removeListener(s))},l=Ft(()=>{i.value&&(o(),r=n.matchMedia(Wt(t)),"addEventListener"in r?r.addEventListener("change",s):r.addListener(s),a.value=r.matches)});return yr(()=>{l(),o(),r=void 0}),a}function GW(t={}){const{window:e=ca}=t,n=pe(1);if(e){let i=function(){n.value=e.devicePixelRatio,r(),a=e.matchMedia(`(resolution: ${n.value}dppx)`),a.addEventListener("change",i,{once:!0})},r=function(){a==null||a.removeEventListener("change",i)},a;i(),yr(r)}return{pixelRatio:n}}function OT(t,e,n={}){const{window:i=ca,...r}=n;let a;const s=Em(()=>i&&"ResizeObserver"in i),o=()=>{a&&(a.disconnect(),a=void 0)},l=P(()=>Array.isArray(t)?t.map(d=>Xi(d)):[Xi(t)]),c=Te(l,d=>{if(o(),s.value&&i){a=new ResizeObserver(e);for(const f of d)f&&a.observe(f,r)}},{immediate:!0,flush:"post"}),u=()=>{o(),c()};return yr(u),{isSupported:s,stop:u}}function WW(t,e={}){const{reset:n=!0,windowResize:i=!0,windowScroll:r=!0,immediate:a=!0}=e,s=pe(0),o=pe(0),l=pe(0),c=pe(0),u=pe(0),d=pe(0),f=pe(0),h=pe(0);function m(){const v=Xi(t);if(!v){n&&(s.value=0,o.value=0,l.value=0,c.value=0,u.value=0,d.value=0,f.value=0,h.value=0);return}const p=v.getBoundingClientRect();s.value=p.height,o.value=p.bottom,l.value=p.left,c.value=p.right,u.value=p.top,d.value=p.width,f.value=p.x,h.value=p.y}return OT(t,m),Te(()=>Xi(t),v=>!v&&m()),zW(t,m,{attributeFilter:["style","class"]}),r&&iu("scroll",m,{capture:!0,passive:!0}),i&&iu("resize",m,{passive:!0}),T0(()=>{a&&m()}),{height:s,bottom:o,left:l,right:c,top:u,width:d,x:f,y:h,update:m}}function $W(t,e={width:0,height:0},n={}){const{window:i=ca,box:r="content-box"}=n,a=P(()=>{var d,f;return(f=(d=Xi(t))==null?void 0:d.namespaceURI)==null?void 0:f.includes("svg")}),s=pe(e.width),o=pe(e.height),{stop:l}=OT(t,([d])=>{const f=r==="border-box"?d.borderBoxSize:r==="content-box"?d.contentBoxSize:d.devicePixelContentBoxSize;if(i&&a.value){const h=Xi(t);if(h){const m=h.getBoundingClientRect();s.value=m.width,o.value=m.height}}else if(f){const h=Array.isArray(f)?f:[f];s.value=h.reduce((m,{inlineSize:v})=>m+v,0),o.value=h.reduce((m,{blockSize:v})=>m+v,0)}else s.value=d.contentRect.width,o.value=d.contentRect.height},n);T0(()=>{const d=Xi(t);d&&(s.value="offsetWidth"in d?d.offsetWidth:e.width,o.value="offsetHeight"in d?d.offsetHeight:e.height)});const c=Te(()=>Xi(t),d=>{s.value=d?e.width:0,o.value=d?e.height:0});function u(){l(),c()}return{width:s,height:o,stop:u}}function XW(t){var e;const n=pe(0);if(typeof performance>"u")return n;const i=(e=t==null?void 0:t.every)!=null?e:10;let r=performance.now(),a=0;return P0(()=>{if(a+=1,a>=i){const s=performance.now(),o=s-r;n.value=Math.round(1e3/(o/a)),r=s,a=0}}),n}function YW(t={}){const e=pe(),n=Em(()=>typeof performance<"u"&&"memory"in performance);if(n.value){const{interval:i=1e3}=t;FW(()=>{e.value=performance.memory},i,{immediate:t.immediate,immediateCallback:t.immediateCallback})}return{isSupported:n,memory:e}}const VT={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},qW=Object.keys(VT);function jW(t={}){const{target:e=ca}=t,n=pe(!1),i=pe(t.initialValue||{});Object.assign(i.value,VT,i.value);const r=a=>{n.value=!0,!(t.pointerTypes&&!t.pointerTypes.includes(a.pointerType))&&(i.value=OW(a,qW,!1))};if(e){const a={passive:!0};iu(e,["pointerdown","pointermove","pointerup"],r,a),iu(e,"pointerleave",()=>n.value=!1,a)}return{...BW(i),isInside:n}}function KW(t={}){const{window:e=ca,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:a=!0}=t,s=pe(n),o=pe(i),l=()=>{e&&(a?(s.value=e.innerWidth,o.value=e.innerHeight):(s.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};if(l(),T0(l),iu("resize",l,{passive:!0}),r){const c=HW("(orientation: portrait)");Te(c,()=>l())}return{width:s,height:o}}var ZW=Object.defineProperty,JW=(t,e,n)=>e in t?ZW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pS=(t,e,n)=>JW(t,typeof e!="symbol"?e+"":e,n);const QW="@tresjs/core",e6="module",t6="4.2.10",n6="pnpm@9.1.4",i6="Declarative ThreeJS using Vue Components",r6="Alvaro Saburido <hola@alvarosaburido.dev> (https://github.com/alvarosabu/)",a6="MIT",s6={type:"git",url:"git+https://github.com/Tresjs/tres.git"},o6=["vue","3d","threejs","three","threejs-vue"],l6=!1,c6={".":{types:"./dist/index.d.ts",import:"./dist/tres.js",require:"./dist/tres.umd.cjs"},"./components":{types:"./dist/src/components/index.d.ts"},"./composables":{types:"./dist/src/composables/index.d.ts"},"./types":{types:"./dist/src/types/index.d.ts"},"./utils":{types:"./dist/src/utils/index.d.ts"},"./*":"./*"},u6="./dist/tres.js",d6="./dist/tres.js",f6="./dist/index.d.ts",h6=["*.d.ts","dist"],m6={access:"public"},p6={dev:"cd playground/vue && npm run dev","dev:nuxt":"cd playground/nuxt && npm run dev",build:"vite build",test:"vitest","test:ci":"vitest run","test:ui":"vitest --ui --coverage.enabled=true",release:"release-it",coverage:"vitest run --coverage",lint:"eslint .","lint:fix":"eslint . --fix","docs:dev":"vitepress dev docs","docs:build":"vitepress build docs","docs:serve":"vitepress serve docs","docs:preview":"vitepress preview docs","docs:contributors":"esno scripts/update-contributors.ts",prepare:"node .husky/install.mjs"},v6={three:">=0.133",vue:">=3.4"},g6={"@alvarosabu/utils":"^3.2.0","@vue/devtools-api":"^6.6.3","@vueuse/core":"^10.11.0"},y6={"@release-it/conventional-changelog":"^8.0.1","@stackblitz/sdk":"^1.11.0","@tresjs/cientos":"4.0.2","@tresjs/eslint-config":"^1.1.0","@types/three":"^0.168.0","@typescript-eslint/eslint-plugin":"^8.4.0","@typescript-eslint/parser":"^8.4.0","@vitejs/plugin-vue":"^5.0.5","@vitest/coverage-c8":"^0.33.0","@vitest/coverage-v8":"^2.0.2","@vitest/ui":"^2.0.2","@vue/test-utils":"^2.4.6",eslint:"^9.6.0","eslint-plugin-vue":"^9.28.0",esno:"^4.7.0",gsap:"^3.12.5",husky:"^9.0.11",jsdom:"^25.0.0",kolorist:"^1.8.0",ohmyfetch:"^0.4.21",pathe:"^1.1.2","release-it":"^17.5.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-copy":"^3.5.0","rollup-plugin-visualizer":"^5.12.0",sponsorkit:"^0.15.4",three:"^0.168.0",unocss:"^0.62.3",unplugin:"^1.13.1","unplugin-vue-components":"^0.27.2",vite:"^5.4.3","vite-plugin-banner":"^0.8.0","vite-plugin-dts":"4.1.0","vite-plugin-inspect":"^0.8.4","vite-plugin-require-transform":"^1.0.21","vite-svg-loader":"^5.1.0",vitepress:"1.3.4",vitest:"^2.0.2",vue:"3.5.0","vue-demi":"^0.14.8"},_6={name:QW,type:e6,version:t6,packageManager:n6,description:i6,author:r6,license:a6,repository:s6,keywords:o6,sideEffects:l6,exports:c6,main:u6,module:d6,types:f6,files:h6,publishConfig:m6,scripts:p6,peerDependencies:v6,dependencies:g6,devDependencies:y6};function sg(t){return typeof t>"u"}function Jf(t){return Array.isArray(t)}function b6(t){return typeof t=="number"}function NT(t){return typeof t=="string"}function _s(t){return typeof t=="function"}function ua(t){return t===Object(t)&&!Jf(t)&&!_s(t)}function Ra(t){return ua(t)&&"isObject3D"in t&&!!t.isObject3D}function vS(t){return ua(t)&&"isCamera"in t&&!!t.isCamera}function x6(t){return ua(t)&&"isBufferGeometry"in t&&!!t.isBufferGeometry}function S6(t){return ua(t)&&"isMaterial"in t&&!!t.isMaterial}function w6(t){return ua(t)&&"isLight"in t&&!!t.isLight}function M6(t){return ua(t)&&"isFog"in t&&!!t.isFog}function C6(t){return ua(t)&&"isScene"in t&&!!t.isScene}function zd(t){return Ra(t)||x6(t)||S6(t)||M6(t)}function A6(t){return ua(t)&&!!t.isPrimitive}const E6=({sizes:t})=>{const e=pe([]),n=P(()=>e.value[0]),i=s=>{const o=s instanceof Cu?s:e.value.find(c=>c.uuid===s);if(!o)return;const l=e.value.filter(({uuid:c})=>c!==o.uuid);e.value=[o,...l]},r=(s,o=!1)=>{if(vS(s)){const l=s;if(e.value.some(({uuid:c})=>c===l.uuid))return;o?i(l):e.value.push(l)}},a=s=>{if(vS(s)){const o=s;e.value=e.value.filter(({uuid:l})=>l!==o.uuid)}};return Ft(()=>{t.aspectRatio.value&&e.value.forEach(s=>{!s.manual&&(s instanceof pn||T6(s))&&(s instanceof pn?s.aspect=t.aspectRatio.value:(s.left=t.width.value*-.5,s.right=t.width.value*.5,s.top=t.height.value*.5,s.bottom=t.height.value*-.5),s.updateProjectionMatrix())})}),$r(()=>{e.value=[]}),{camera:n,cameras:e,registerCamera:r,deregisterCamera:a,setCameraActive:i}};function T6(t){return t.hasOwnProperty("isOrthographicCamera")&&t.isOrthographicCamera}const P6=Ri(),I6=Ri(),BT=Ri(),mc=new Am;let tf=0,nf=0;P0(()=>{P6.trigger({delta:tf,elapsed:nf,clock:mc}),I6.trigger({delta:tf,elapsed:nf,clock:mc}),BT.trigger({delta:tf,elapsed:nf,clock:mc})},{immediate:!1});BT.on(()=>{tf=mc.getDelta(),nf=mc.getElapsedTime()});const Hd="[TresJS ▲ ■ ●] ";function I0(){function t(...i){typeof i[0]=="string"?i[0]=Hd+i[0]:i.unshift(Hd),console.error(...i)}function e(...i){typeof i[0]=="string"?i[0]=Hd+i[0]:i.unshift(Hd),console.warn(...i)}function n(i,r){}return{logError:t,logWarning:e,logMessage:n}}function R6(t){return t instanceof Ue?t:Array.isArray(t)?new Ue(...t):new Ue(t)}class L6 extends on{constructor(...e){super(...e),pS(this,"type","HightlightMesh"),pS(this,"createTime"),this.createTime=Date.now()}onBeforeRender(){const e=(Date.now()-this.createTime)/1e3,n=1+.07*Math.sin(2.5*e);this.scale.set(n,n,n)}}const FT=(t,e)=>{for(const n of Object.keys(e))e[n]instanceof Object&&Object.assign(e[n],FT(t[n],e[n]));return Object.assign(t||{},e),t},k6="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",D6=N6(k6);function gS(t){return t&&t.nodeType===1}function Gd(t){return t.replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}const O6=/\B([A-Z])/g;function V6(t){return t.replace(O6,"-$1").toLowerCase()}function N6(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return r=>!!n[r]}const yS=(t,e)=>{if(!e)return;const n=Array.isArray(e)?e:e.match(/([^[.\]])+/g);return n==null?void 0:n.reduce((i,r)=>i&&i[r],t)},B6=(t,e,n)=>{const i=Array.isArray(e)?e:e.match(/([^[.\]])+/g);i&&i.reduce((r,a,s)=>(r[a]===void 0&&(r[a]={}),s===i.length-1&&(r[a]=n),r[a]),t)};function UT(t,e){if(gS(t)&&gS(e)){const r=t.attributes,a=e.attributes;return r.length!==a.length?!1:Array.from(r).every(({name:s,value:o})=>e.getAttribute(s)===o)}if(t===e)return!0;if(t===null||typeof t!="object"||e===null||typeof e!="object")return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const r of n)if(!i.includes(r)||!UT(t[r],e[r]))return!1;return!0}function F6(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!UT(t[n],e[n]))return!1;return!0}function U6(t,e,n,i){const r=l=>{if(l.uuid===e)return l;for(const c of l.children){const u=r(c);if(u)return u}},a=r(t);if(!a){console.warn("Object with UUID not found in the scene.");return}let s=a;for(let l=0;l<n.length-1;l++)if(s[n[l]]!==void 0)s=s[n[l]];else{console.warn(`Property path is not valid: ${n.join(".")}`);return}const o=n[n.length-1];s[o]!==void 0?s[o]=i:console.warn(`Property path is not valid: ${n.join(".")}`)}function z6(t){const e=new la({color:11003607,transparent:!0,opacity:.2,depthTest:!1,side:$i});return new L6(t.geometry.clone(),e)}function H6(t){return"map"in t}function _S(t){H6(t)&&t.map&&t.map.dispose(),t.dispose()}function zT(t){var e,n;if(t.parent&&((e=t.removeFromParent)==null||e.call(t)),delete t.__tres,[...t.children].forEach(i=>zT(i)),!(t instanceof om)){const i=t;t&&((n=t.dispose)==null||n.call(t)),i.geometry&&(i.geometry.dispose(),delete i.geometry),Array.isArray(i.material)?(i.material.forEach(r=>_S(r)),delete i.material):i.material&&(_S(i.material),delete i.material)}}function G6(t,e){let n=0;for(let i=0;i<t.length;i++)e(t[i],i)&&(t[n]=t[i],n++);return t.length=n,t}function og(t,e){let n=t;if(e.includes("-")){const i=e.split("-");let r=i.shift();for(;n&&i.length;)r in n?(n=n[r],r=i.shift()):r=bS(r,i.shift());return{target:n,key:bS(r,...i)}}else return{target:n,key:e}}function bS(...t){return t.map((e,n)=>n===0?e:e.charAt(0).toUpperCase()+e.slice(1)).join("")}const xS=/-\d+$/;function W6(t,e,n){if(NT(n)){if(xS.test(n)){const a=n.replace(xS,""),{target:s,key:o}=og(t,a);if(!Array.isArray(s[o])){const l=s[o],c=[];c.__tresDetach=()=>{c.every(u=>sg(u))&&(s[o]=l)},s[o]=c}}const{target:i,key:r}=og(t,n);e.__tres.previousAttach=i[r],i[r]=pl(e)}else e.__tres.previousAttach=n(t,e)}function $6(t,e,n){var i,r,a;if(NT(n)){const{target:s,key:o}=og(t,n),l=e.__tres.previousAttach;l===void 0?delete s[o]:s[o]=l,"__tresDetach"in s&&s.__tresDetach()}else(r=(i=e.__tres)==null?void 0:i.previousAttach)==null||r.call(i,t,e);(a=e.__tres)==null||delete a.previousAttach}function ps(t,e,n){const i=t;return i.__tres={type:"unknown",eventCount:0,root:n,handlers:{},memoizedProps:{},objects:[],parent:null,previousAttach:null,...e},i.__tres.attach||(i.isMaterial?i.__tres.attach="material":i.isBufferGeometry?i.__tres.attach="geometry":i.isFog&&(i.__tres.attach="fog")),i}function HT(t){var e;const n=(e=t==null?void 0:t.__tres)==null?void 0:e.root;n&&n.render&&n.render.canBeInvalidated.value&&n.invalidate()}function X6(t,e,n){var i;if(!_s(t.setPixelRatio))return;let r=0;if(Jf(n)&&n.length>=2){const[a,s]=n;r=e0.clamp(e,a,s)}else b6(n)?r=n:r=e;r!==((i=t.getPixelRatio)==null?void 0:i.call(t))&&t.setPixelRatio(r)}function Y6(t,e,n,i,r){const a=[...e.__tres.objects],s=pl(e);if(t=pl(t),s===t)return!0;const o=ps(t,e.__tres??{},r),l=e.parent??e.__tres.parent??null,c={...e.__tres.memoizedProps};delete c.object;for(const u of a)GT(u,r),WT(u,r);s.__tres.objects=[],i.remove(e);for(const[u,d]of Object.entries(c))i.patchProp(o,u,o[u],d);n(t),i.insert(e,l);for(const u of a)i.insert(u,e);return!0}function pl(t){return A6(t)?(t.object.__tres=t.__tres,t.object):t}function GT(t,e){var n,i,r,a;const s=((n=t.__tres)==null?void 0:n.parent)||e.scene.value;t.__tres&&(t.__tres.parent=null),s&&s.__tres&&"objects"in s.__tres&&G6(s.__tres.objects,o=>o!==t),(i=t.__tres)!=null&&i.attach?$6(s,t,t.__tres.attach):((a=(r=t.parent)==null?void 0:r.remove)==null||a.call(r,pl(t)),t.parent=null)}function WT(t,e){var n;(n=t.traverse)==null||n.call(t,i=>{var r;e.deregisterCamera(i),(r=e.eventManager)==null||r.deregisterPointerMissedObject(i)}),e.deregisterCamera(t),HT(t)}const q6=Number.parseInt(xu.replace("dev","")),Wd={realistic:{shadows:!0,physicallyCorrectLights:!0,outputColorSpace:gi,toneMapping:$h,toneMappingExposure:3,shadowMap:{enabled:!0,type:Uy}},flat:{toneMapping:hr,toneMappingExposure:1}};function j6({canvas:t,options:e,contextParts:{sizes:n,render:i,invalidate:r,advance:a}}){const s=P(()=>({alpha:Wt(e.alpha)??!0,depth:Wt(e.depth),canvas:Xi(t),context:Wt(e.context),stencil:Wt(e.stencil),antialias:Wt(e.antialias)??!0,precision:Wt(e.precision),powerPreference:Wt(e.powerPreference),premultipliedAlpha:Wt(e.premultipliedAlpha),preserveDrawingBuffer:Wt(e.preserveDrawingBuffer),logarithmicDepthBuffer:Wt(e.logarithmicDepthBuffer),failIfMajorPerformanceCaveat:Wt(e.failIfMajorPerformanceCaveat)})),o=Ee(new ef(s.value));function l(){e.renderMode==="on-demand"&&r()}Te(s,()=>{o.value.dispose(),o.value=new ef(s.value),l()}),Te([n.width,n.height],()=>{o.value.setSize(n.width.value,n.height.value),l()},{immediate:!0}),Te(()=>e.clearColor,l);const{pixelRatio:c}=GW(),{logError:u}=I0(),d=(()=>{const h=new ef,m={shadowMap:{enabled:h.shadowMap.enabled,type:h.shadowMap.type},toneMapping:h.toneMapping,toneMappingExposure:h.toneMappingExposure,outputColorSpace:h.outputColorSpace};return h.dispose(),m})(),f=Wt(e.renderMode);return f==="on-demand"&&r(),f==="manual"&&setTimeout(()=>{a()},100),Ft(()=>{const h=Wt(e.preset);h&&(h in Wd||u(`Renderer Preset must be one of these: ${Object.keys(Wd).join(", ")}`),FT(o.value,Wd[h])),X6(o.value,c.value,Wt(e.dpr)),f==="always"&&(i.frames.value=Math.max(1,i.frames.value));const m=(g,y)=>{const b=Wt(g),x=()=>{if(h)return yS(Wd[h],y)};if(b!==void 0)return b;const E=x();return E!==void 0?E:yS(d,y)},v=(g,y)=>B6(o.value,y,m(g,y));v(e.shadows,"shadowMap.enabled"),v(e.toneMapping??$h,"toneMapping"),v(e.shadowMapType,"shadowMap.type"),q6<150&&v(!e.useLegacyLights,"physicallyCorrectLights"),v(e.outputColorSpace,"outputColorSpace"),v(e.toneMappingExposure,"toneMappingExposure");const p=m(e.clearColor,"clearColor");p&&o.value.setClearColor(p?R6(p):new Ue(0))}),$r(()=>{o.value.dispose(),o.value.forceContextLoss()}),{renderer:o}}const K6=(t,e)=>{const n=P(()=>e.renderer.value.domElement),i=Ee([]),{x:r,y:a}=jW({target:n});let s=0;const{width:o,height:l,top:c,left:u}=WW(n),d=({x:F,y:se})=>{if(n.value)return{x:(F-u.value)/o.value*2-1,y:-((se-c.value)/l.value)*2+1}},f=({x:F,y:se})=>{if(e.camera.value)return e.raycaster.value.setFromCamera(new Se(F,se),e.camera.value),i.value=e.raycaster.value.intersectObjects(t.value,!0),i.value},h=F=>{const se=d({x:(F==null?void 0:F.clientX)??r.value,y:(F==null?void 0:F.clientY)??a.value});return se?f(se)||[]:[]},m=Ri(),v=Ri(),p=Ri(),g=Ri(),y=Ri(),b=Ri(),x=Ri(),E=Ri();function M(F){const se={};for(const Ce in F)typeof Ce!="function"&&(se[Ce]=F[Ce]);return se}const A=(F,se)=>{var Ce,Q,he;const J=M(se),W=new H(se==null?void 0:se.clientX,se==null?void 0:se.clientY,0).unproject((Ce=e.camera)==null?void 0:Ce.value);F.trigger({...J,intersections:i.value,unprojectedPoint:W,ray:(Q=e.raycaster)==null?void 0:Q.value.ray,camera:(he=e.camera)==null?void 0:he.value,sourceEvent:se,delta:s,stopPropagating:!1})};let C;const S=F=>{h(F),A(p,F),C=F},w=()=>{C&&S(C)};let T,I,D;const N=F=>{var se;T=(se=i.value[0])==null?void 0:se.object,s=0,I=new Se((F==null?void 0:F.clientX)??r.value,(F==null?void 0:F.clientY)??a.value),A(y,F)};let $,U=!1;const Z=F=>{var se,Ce,Q;F instanceof PointerEvent&&(i.value.length===0&&A(b,F),T===((se=i.value[0])==null?void 0:se.object)&&(D=new Se((F==null?void 0:F.clientX)??r.value,(F==null?void 0:F.clientY)??a.value),s=I==null?void 0:I.distanceTo(D),F.button===0?(A(m,F),$===((Ce=i.value[0])==null?void 0:Ce.object)?U=!0:($=(Q=i.value[0])==null?void 0:Q.object,U=!1)):F.button===2&&A(x,F)),A(g,F))},Y=F=>{U&&(A(v,F),$=void 0,U=!1)},j=F=>A(p,F),q=F=>A(E,F);return n.value.addEventListener("pointerup",Z),n.value.addEventListener("pointerdown",N),n.value.addEventListener("pointermove",S),n.value.addEventListener("pointerleave",j),n.value.addEventListener("dblclick",Y),n.value.addEventListener("wheel",q),$r(()=>{n!=null&&n.value&&(n.value.removeEventListener("pointerup",Z),n.value.removeEventListener("pointerdown",N),n.value.removeEventListener("pointermove",S),n.value.removeEventListener("pointerleave",j),n.value.removeEventListener("dblclick",Y),n.value.removeEventListener("wheel",q))}),{intersects:i,onClick:F=>m.on(F).off,onDblClick:F=>v.on(F).off,onContextMenu:F=>x.on(F).off,onPointerMove:F=>p.on(F).off,onPointerUp:F=>g.on(F).off,onPointerDown:F=>y.on(F).off,onPointerMissed:F=>b.on(F).off,onWheel:F=>E.on(F).off,forceUpdate:w}};function R0(t){let e=0;return t.traverse(n=>{if(n.isMesh&&n.geometry&&n.type!=="HightlightMesh"){const i=n.geometry,r=i.attributes.position.count*3*Float32Array.BYTES_PER_ELEMENT,a=i.index?i.index.count*Uint32Array.BYTES_PER_ELEMENT:0,s=i.attributes.normal?i.attributes.normal.count*3*Float32Array.BYTES_PER_ELEMENT:0,o=i.attributes.uv?i.attributes.uv.count*2*Float32Array.BYTES_PER_ELEMENT:0,l=r+a+s+o;e+=l}}),e}function Z6(t){return(t/1024).toFixed(2)}const lg=pe({}),cg=t=>Object.assign(lg.value,t);function J6(t,e,n){var i;const r=Ee(),a=Ee();t&&(r.value=t),e&&(a.value=e);const s=w=>{var T;return((T=w.__tres)==null?void 0:T.eventCount)>0},o=w=>{var T;return((T=w.children)==null?void 0:T.some(I=>o(I)))||s(w)},l=Ee(((i=r.value)==null?void 0:i.children).filter(o)||[]);function c(w,T){if(Array.isArray(w))for(const I of w)I(T);typeof w=="function"&&w(T)}function u(w,T){const I=[],D=()=>T.stopPropagating=!0;T.stopPropagation=D;for(const N of T==null?void 0:T.intersections){if(T.stopPropagating)return;T={...T,...N};const{object:$}=N;T.eventObject=$,c($[w],T),I.push($);let U=$.parent;for(;U!==null&&!T.stopPropagating&&!I.includes(U);)T.eventObject=U,c(U[w],T),I.push(U),U=U.parent;const Z=V6(w.slice(2));n(Z,{intersection:N,event:T})}}const{onClick:d,onDblClick:f,onContextMenu:h,onPointerMove:m,onPointerDown:v,onPointerUp:p,onPointerMissed:g,onWheel:y,forceUpdate:b}=K6(l,e);p(w=>u("onPointerUp",w)),v(w=>u("onPointerDown",w)),d(w=>u("onClick",w)),f(w=>u("onDoubleClick",w)),h(w=>u("onContextMenu",w)),y(w=>u("onWheel",w));let x=[];m(w=>{const T=w.intersections.map(({object:D})=>D),I=w.intersections;x.forEach(({object:D})=>{T.includes(D)||(w.intersections=x,u("onPointerLeave",w),u("onPointerOut",w))}),w.intersections=I,w.intersections.forEach(({object:D})=>{x.includes(D)||(u("onPointerEnter",w),u("onPointerOver",w))}),u("onPointerMove",w),x=w.intersections});const E=[];g(w=>{const T=()=>w.stopPropagating=!0;w.stopPropagation=T,E.forEach(I=>{w.stopPropagating||(w.eventObject=I,c(I.onPointerMissed,w))}),n("pointer-missed",{event:w})});function M(w){zd(w)&&Ra(w)&&l.value.push(w)}function A(w){if(zd(w)&&Ra(w)){const T=l.value.indexOf(w);T>-1&&l.value.splice(T,1)}}function C(w){zd(w)&&Ra(w)&&w.onPointerMissed&&E.push(w)}function S(w){if(zd(w)&&Ra(w)){const T=E.indexOf(w);T>-1&&E.splice(T,1)}}return e.eventManager={forceUpdate:b,registerObject:M,deregisterObject:A,registerPointerMissedObject:C,deregisterPointerMissedObject:S},{forceUpdate:b,registerObject:M,deregisterObject:A,registerPointerMissedObject:C,deregisterPointerMissedObject:S}}function Q6(t,e,n=10){const i=Wt(t)?KW():$W(P(()=>Wt(e).parentElement)),r=Wr(mS(i.width,n)),a=Wr(mS(i.height,n)),s=P(()=>r.value/a.value);return{height:a,width:r,aspectRatio:s}}function Wp(){const t=new Map,e=new Set;let n=0,i=!1;const r=()=>{const s=Array.from(t.entries()).sort((o,l)=>{const c=o[1].priority-l[1].priority;return c===0?o[1].addI-l[1].addI:c});e.clear(),s.forEach(o=>e.add(o[0]))},a=s=>{t.delete(s),e.delete(s)};return{on:(s,o=0)=>{t.set(s,{priority:o,addI:n++});const l=()=>a(s);return yr(l),i=!0,{off:l}},off:a,trigger:(...s)=>{i&&(r(),i=!1),e.forEach(o=>o(...s))},dispose:()=>{t.clear(),e.clear()},get count(){return t.size}}}function e$(){let t=!0,e=!0,n=!1;const i=new Am(!1),r=pe(i.running),a=pe(!1);let s;const o=e0.generateUUID();let l=null;const c=Wp(),u=Wp(),d=Wp();M();let f={};function h(A){f=A}function m(A,C,S=0){switch(C){case"before":return c.on(A,S);case"render":return l||(l=A),u.dispose(),u.on(A);case"after":return d.on(A,S)}}function v(){e&&(e=!1,M(),E())}function p(){e=!0,M(),cancelAnimationFrame(s)}function g(){n=!1,M()}function y(){n=!0,M()}function b(){a.value=!0}function x(){a.value=!1}function E(){if(!t){s=requestAnimationFrame(E);return}const A=i.getDelta(),C=i.getElapsedTime(),S={camera:Ot(f.camera),scene:Ot(f.scene),renderer:Ot(f.renderer),raycaster:Ot(f.raycaster),controls:Ot(f.controls),invalidate:f.invalidate,advance:f.advance},w={delta:A,elapsed:C,clock:i,...S};r.value&&c.trigger(w),a.value||(u.count?u.trigger(w):l&&l(w)),r.value&&d.trigger(w),s=requestAnimationFrame(E)}function M(){const A=!e&&!n;i.running!==A&&(i.running?i.stop():i.start()),r.value=i.running}return{loopId:o,register:(A,C,S)=>m(A,C,S),start:v,stop:p,pause:y,resume:g,pauseRender:b,resumeRender:x,isRenderPaused:a,isActive:r,setContext:h,setReady:A=>t=A}}function t$(t,e,n=100){n=n<=0?100:n;const i=Ri(),r=new Set;let a=!1,s=!1,o=null;function l(){o&&clearTimeout(o),!s&&!a&&t()?(i.trigger(e),r.forEach(d=>d()),r.clear(),a=!0):!s&&!a&&(o=setTimeout(l,n))}function c(){s=!0,o&&clearTimeout(o)}l();const u=(d,...f)=>{d(...f)};return{on:d=>{if(a)return u(d,e),{off:()=>{}};{const f=i.on(d);return r.add(f.off),i.on(d)}},off:i.off,trigger:i.trigger,cancel:c}}const $p=new WeakMap;function n$(t){if(t=t||r$(),$p.has(t))return $p.get(t);const e=100,n=Date.now(),i=t$(()=>{if(Date.now()-n>=e)return!0;{const r=t.renderer.value,a=(r==null?void 0:r.domElement)||{width:0,height:0};return!!(r&&a.width>0&&a.height>0)}},t);return $p.set(t,i),i}function i$({scene:t,canvas:e,windowSize:n,disableRender:i,rendererOptions:r,emit:a}){const s=Ee(t),o=Q6(n,e),{camera:l,cameras:c,registerCamera:u,deregisterCamera:d,setCameraActive:f}=E6({sizes:o,scene:t}),h={mode:pe(r.renderMode||"always"),priority:pe(0),frames:pe(0),maxFrames:60,canBeInvalidated:P(()=>h.mode.value==="on-demand"&&h.frames.value===0)};function m(N=1){r.renderMode==="on-demand"&&(h.frames.value=Math.min(h.maxFrames,h.frames.value+N))}function v(){r.renderMode==="manual"&&(h.frames.value=1)}const{renderer:p}=j6({scene:t,canvas:e,options:r,emit:a,contextParts:{sizes:o,camera:l,render:h,invalidate:m,advance:v},disableRender:i}),g={sizes:o,scene:s,camera:l,cameras:Wr(c),renderer:p,raycaster:Ee(new kT),controls:pe(null),perf:{maxFrames:160,fps:{value:0,accumulator:[]},memory:{currentMem:0,allocatedMem:0,accumulator:[]}},render:h,advance:v,extend:cg,invalidate:m,registerCamera:u,setCameraActive:f,deregisterCamera:d,loop:e$()};Ct("useTres",g),g.scene.value.__tres={root:g},g.loop.register(()=>{l.value&&h.frames.value>0&&(p.value.render(t,l.value),a("render",g.renderer.value)),h.priority.value=0,h.mode.value==="always"?h.frames.value=1:h.frames.value=Math.max(0,h.frames.value-1)},"render");const{on:y,cancel:b}=n$(g);g.loop.setReady(!1),g.loop.start(),y(()=>{a("ready",g),g.loop.setReady(!0),J6(t,g,a)}),$r(()=>{b(),g.loop.stop()});const x=100,E=XW({every:x}),{isSupported:M,memory:A}=YW({interval:x}),C=160;let S=performance.now();const w=({timestamp:N})=>{g.scene.value&&(g.perf.memory.allocatedMem=R0(g.scene.value)),N-S>=x&&(S=N,g.perf.fps.accumulator.push(E.value),g.perf.fps.accumulator.length>C&&g.perf.fps.accumulator.shift(),g.perf.fps.value=E.value,M.value&&A.value&&(g.perf.memory.accumulator.push(A.value.usedJSHeapSize/1024/1024),g.perf.memory.accumulator.length>C&&g.perf.memory.accumulator.shift(),g.perf.memory.currentMem=g.perf.memory.accumulator.reduce(($,U)=>$+U,0)/g.perf.memory.accumulator.length))};let T=0;const I=1,{pause:D}=P0(({delta:N})=>{window.__TRES__DEVTOOLS__&&(w({timestamp:performance.now()}),T+=N,T>=I&&(window.__TRES__DEVTOOLS__.cb(g),T=0))},{immediate:!0});return $r(()=>{D()}),g}function r$(){const t=nt("useTres");if(!t)throw new Error("useTresContext must be used together with useTresContextProvider");return t}function a$(t,e={},n={}){let i=t;const r=o=>{i=o};let a=new Proxy({},{});const s={has(o,l){return l in e||l in i},get(o,l,c){return l in e?e[l](i):i[l]},set(o,l,c){return n[l]?n[l](c,i,a,r):i[l]=c,!0}};return a=new Proxy({},s),a}const{logError:SS}=I0(),wS=["onClick","onContextMenu","onPointerMove","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onDoubleClick","onPointerDown","onPointerUp","onPointerCancel","onPointerMissed","onLostPointerCapture","onWheel"],s$=t=>{const e=t.scene.value;function n(c,u,d,f){if(f||(f={}),f.args||(f.args=[]),c==="template"||D6(c))return null;let h=c.replace("Tres",""),m;if(c==="primitive"){(!ua(f.object)||Bt(f.object))&&SS("Tres primitives need an 'object' prop, whose value is an object or shallowRef<object>"),h=f.object.type;const v={};m=a$(f.object,{object:p=>p,isPrimitive:()=>!0,__tres:()=>v},{object:(p,g,y,b)=>{Y6(p,y,b,{patchProp:a,remove:r,insert:i},t)},__tres:p=>{Object.assign(v,p)}})}else{const v=lg.value[h];v||SS(`${h} is not defined on the THREE namespace. Use extend to add it to the catalog.`),m=new v(...f.args)}return m?(m.isCamera&&(f!=null&&f.position||m.position.set(3,3,3),f!=null&&f.lookAt||m.lookAt(0,0,0)),m=ps(m,{...m.__tres,type:h,memoizedProps:f,eventCount:0,primitive:c==="primitive",attach:f.attach},t),m):null}function i(c,u){var d,f,h;if(!c)return;u=u||e;const m=c.__tres?c:ps(c,{},t),v=u.__tres?u:ps(u,{},t);c=pl(m),u=pl(v),c.__tres&&((d=c.__tres)==null?void 0:d.eventCount)>0&&((f=t.eventManager)==null||f.registerObject(c)),t.registerCamera(c),(h=t.eventManager)==null||h.registerPointerMissedObject(c),m.__tres.attach?W6(v,m,m.__tres.attach):Ra(c)&&Ra(v)&&(v.add(c),c.dispatchEvent({type:"added"})),m.__tres.parent=v,v.__tres.objects&&!v.__tres.objects.includes(m)&&v.__tres.objects.push(m)}function r(c,u){var d,f,h,m;if(!c)return;c!=null&&c.__tres&&((d=c.__tres)==null?void 0:d.eventCount)>0&&((f=t.eventManager)==null||f.deregisterObject(c)),u=sg(u)?"default":u;const v=(h=c.__tres)==null?void 0:h.dispose;sg(v)||(v===null?u=!1:u=v);const p=(m=c.__tres)==null?void 0:m.primitive,g=u==="default"?!p:!!u;if(c.__tres&&"objects"in c.__tres&&[...c.__tres.objects].forEach(y=>r(y,u)),g&&c.children&&[...c.children].forEach(y=>r(y,u)),GT(c,t),WT(c,t),g&&!C6(c)){if(_s(u))u(c);else if(_s(c.dispose))try{c.dispose()}catch{}}"__tres"in c&&delete c.__tres}function a(c,u,d,f){var h,m;if(!c)return;let v=c,p=u;if(c.__tres&&(c.__tres.memoizedProps[u]=f),u==="attach"){const x=((h=c.__tres)==null?void 0:h.parent)||c.parent;r(c),ps(c,{attach:f},t),x&&i(c,x);return}if(u==="dispose"){c.__tres||(c=ps(c,{},t)),c.__tres.dispose=f;return}if(Ra(c)&&p==="blocks-pointer-events"){f||f===""?c[p]=f:delete c[p];return}wS.includes(u)&&c.__tres&&(c.__tres.eventCount+=1);let g=Gd(p),y=v==null?void 0:v[g];if(p==="args"){const x=c,E=d??[],M=f??[],A=((m=c.__tres)==null?void 0:m.type)||c.type;A&&E.length&&!F6(E,M)&&(v=Object.assign(x,new lg.value[A](...f)));return}if(v.type==="BufferGeometry"){if(p==="args")return;v.setAttribute(Gd(p),new Vt(...f));return}if(p.includes("-")&&y===void 0){const x=p.split("-");y=x.reduce((E,M)=>E[Gd(M)],v),p=x.pop(),g=p,y!=null&&y.set||(v=x.reduce((E,M)=>E[Gd(M)],v))}let b=f;if(b===""&&(b=!0),_s(y)){wS.includes(u)||(Jf(b)?c[g](...b):c[g](b)),g.startsWith("on")&&_s(b)&&(v[g]=b);return}!(y!=null&&y.set)&&!_s(y)?v[g]=b:y.constructor===b.constructor&&y!=null&&y.copy?y==null||y.copy(b):Jf(b)?y.set(...b):!y.isColor&&y.setScalar?y.setScalar(b):y.set(b),HT(c)}function s(c){var u;return((u=c==null?void 0:c.__tres)==null?void 0:u.parent)||null}function o(c){const u=ps(new bt,{type:"Comment"},t);return u.name=c,u}function l(c){var u;const d=s(c),f=((u=d==null?void 0:d.__tres)==null?void 0:u.objects)||[],h=f.indexOf(c);return h<0||h>=f.length-1?null:f[h+1]}return{insert:i,remove:r,createElement:n,patchProp:a,parentNode:s,createText:()=>{},createComment:o,setText:()=>{},setElementText:()=>{},nextSibling:l,querySelector:()=>{},setScopeId:()=>{},cloneNode:()=>{},insertStaticContent:()=>{}}};function o$(){return $T().__VUE_DEVTOOLS_GLOBAL_HOOK__}function $T(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const l$=typeof Proxy=="function",c$="devtools-plugin:setup",u$="plugin:settings:set";let Yl,ug;function d$(){var t;return Yl!==void 0||(typeof window<"u"&&window.performance?(Yl=!0,ug=window.performance):typeof globalThis<"u"&&!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance?(Yl=!0,ug=globalThis.perf_hooks.performance):Yl=!1),Yl}function f$(){return d$()?ug.now():Date.now()}class h${constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const i={};if(e.settings)for(const s in e.settings){const o=e.settings[s];i[s]=o.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let a=Object.assign({},i);try{const s=localStorage.getItem(r),o=JSON.parse(s);Object.assign(a,o)}catch{}this.fallbacks={getSettings(){return a},setSettings(s){try{localStorage.setItem(r,JSON.stringify(s))}catch{}a=s},now(){return f$()}},n&&n.on(u$,(s,o)=>{s===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(s,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:o,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function m$(t,e){const n=t,i=$T(),r=o$(),a=l$&&n.enableEarlyProxy;if(r&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))r.emit(c$,t,e);else{const s=a?new h$(n,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}function p$(t,e){const n=`▲ ■ ●${t}`;typeof MS=="function"?MS(n,e):console.log(n)}function MS(t,e){throw new Error(t+e)}const XT=t=>{const e={id:t.uuid,label:t.type,children:[],tags:[]};t.name!==""&&e.tags.push({label:t.name,textColor:5750629,backgroundColor:15793395});const n=R0(t);return n>0&&e.tags.push({label:`${Z6(n)} KB`,textColor:15707189,backgroundColor:16775644,tooltip:"Memory usage"}),t.type.includes("Light")&&(w6(t)&&e.tags.push({label:`${t.intensity}`,textColor:9738662,backgroundColor:16316922,tooltip:"Intensity"}),e.tags.push({label:`#${new Ue(t.color).getHexString()}`,textColor:9738662,backgroundColor:16316922,tooltip:"Color"})),t.type.includes("Camera")&&(e.tags.push({label:`${t.fov}°`,textColor:9738662,backgroundColor:16316922,tooltip:"Field of view"}),e.tags.push({label:`x: ${Math.round(t.position.x)} y: ${Math.round(t.position.y)} z: ${Math.round(t.position.z)}`,textColor:9738662,backgroundColor:16316922,tooltip:"Position"})),e};function YT(t,e,n=""){t.children.forEach(i=>{if(i.type==="HightlightMesh"||n&&!i.type.includes(n)&&!i.name.includes(n))return;const r=XT(i);e.children.push(r),YT(i,r,n)})}const v$=[],ql="tres:inspector",g$=kn({sceneGraph:null});function y$(t,e){m$({id:"dev.esm.tres",label:"TresJS 🪐",logo:"https://raw.githubusercontent.com/Tresjs/tres/main/public/favicon.svg",packageName:"tresjs",homepage:"https://tresjs.org",componentStateTypes:v$,app:t},n=>{typeof n.now!="function"&&p$("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addInspector({id:ql,label:"TresJS 🪐",icon:"account_tree",treeFilterPlaceholder:"Search instances"}),setInterval(()=>{n.sendInspectorTree(ql)},1e3),setInterval(()=>{n.notifyComponentUpdate()},5e3),n.on.getInspectorTree(a=>{if(a.inspectorId===ql){const s=XT(e.scene.value);YT(e.scene.value,s,a.filter),g$.sceneGraph=s,a.rootNodes=[s]}});let i=null,r=null;n.on.getInspectorState(a=>{var s;if(a.inspectorId===ql){const[o]=e.scene.value.getObjectsByProperty("uuid",a.nodeId);if(!o)return;if(r&&i&&i.parent&&r.remove(i),o.isMesh){const l=z6(o);o.add(l),i=l,r=o}a.state={object:Object.entries(o).map(([l,c])=>l==="children"?{key:l,value:c.filter(u=>u.type!=="HightlightMesh")}:{key:l,value:c,editable:!0}).filter(({key:l})=>l!=="parent")},o.isScene&&(a.state.info={memory:R0(o),objects:o.children.length,calls:e.renderer.value.info.render.calls,triangles:e.renderer.value.info.render.triangles,points:e.renderer.value.info.render.points,lines:e.renderer.value.info.render.lines},a.state.programs=((s=e.renderer.value.info.programs)==null?void 0:s.map(l=>({key:l.name,value:{...l,vertexShader:l.vertexShader,attributes:l.getAttributes(),uniforms:l.getUniforms()}})))||[])}}),n.on.editInspectorState(a=>{a.inspectorId===ql&&U6(e.scene.value,a.nodeId,a.path,a.state.value)})})}const _$=["data-scene","data-tres"],b$=nl({__name:"TresCanvas",props:{shadows:{type:Boolean,default:void 0},clearColor:{},toneMapping:{},shadowMapType:{},useLegacyLights:{type:Boolean,default:void 0},outputColorSpace:{},toneMappingExposure:{},renderMode:{default:"always"},dpr:{},camera:{},preset:{},windowSize:{type:Boolean,default:void 0},disableRender:{type:Boolean,default:void 0},context:{},precision:{},alpha:{type:Boolean,default:void 0},premultipliedAlpha:{type:Boolean},antialias:{type:Boolean,default:void 0},stencil:{type:Boolean,default:void 0},preserveDrawingBuffer:{type:Boolean,default:void 0},powerPreference:{},depth:{type:Boolean,default:void 0},logarithmicDepthBuffer:{type:Boolean,default:void 0},failIfMajorPerformanceCaveat:{type:Boolean,default:void 0}},emits:["render","click","double-click","context-menu","pointer-move","pointer-up","pointer-down","pointer-enter","pointer-leave","pointer-over","pointer-out","pointer-missed","wheel","ready"],setup(t,{expose:e,emit:n}){var i;const r=t,a=n,s=gI(),{logWarning:o}=I0(),l=pe(),c=Ee(new om),u=(i=ka())==null?void 0:i.appContext.app;cg(PW);const d=(g,y=!1)=>nl({setup(){var b;const x=(b=ka())==null?void 0:b.appContext;return x&&(x.app=u),Ct("useTres",g),Ct("extend",cg),typeof window<"u"&&y$(x==null?void 0:x.app,g),()=>Si(Fe,null,y?[]:s.default())}}),f=(g,y=!1)=>{const b=d(g,y),{render:x}=Jw(s$(g));x(Si(b),c.value)},h=(g,y=!1)=>{zT(g.scene.value),y&&(g.renderer.value.dispose(),g.renderer.value.renderLists.dispose(),g.renderer.value.forceContextLoss()),c.value.__tres={root:g}},m=P(()=>r.disableRender),v=Ee(null);e({context:v,dispose:()=>h(v.value,!0)});const p=()=>{h(v.value),f(v.value,!0)};return cn(()=>{const g=l;v.value=i$({scene:c.value,canvas:g,windowSize:r.windowSize??!1,disableRender:m.value??!1,rendererOptions:r,emit:a});const{registerCamera:y,camera:b,cameras:x,deregisterCamera:E}=v.value;f(v.value);const M=()=>{const A=new pn(45,window.innerWidth/window.innerHeight,.1,1e3);A.position.set(3,3,3),A.lookAt(0,0,0),y(A);const C=Ft(()=>{x.value.length>=2&&(A.removeFromParent(),E(A),C==null||C())})};Te(()=>r.camera,(A,C)=>{A&&y(A),C&&(C.removeFromParent(),E(C))},{immediate:!0}),b.value||(o("No camera found. Creating a default perspective camera. To have full control over a camera, please add one to the scene."),M())}),$r(p),(g,y)=>(il(),XI("canvas",{ref_key:"canvas",ref:l,"data-scene":c.value.uuid,class:ih(g.$attrs.class),"data-tres":`tresjs ${Ot(_6).version}`,style:nh({display:"block",width:"100%",height:"100%",position:g.windowSize?"fixed":"relative",top:0,left:0,pointerEvents:"auto",touchAction:"none",...g.$attrs.style})},null,14,_$))}}),x$={install(t){t.component("TresCanvas",b$)}},S$="modulepreload",w$=function(t){return"/crypto/"+t},CS={},ar=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=w$(l),l in CS)return;CS[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":S$,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return r.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fo=typeof document<"u";function qT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function M$(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&qT(t.default)}const Dt=Object.assign;function Xp(t,e){const n={};for(const i in e){const r=e[i];n[i]=Ji(r)?r.map(t):t(r)}return n}const pc=()=>{},Ji=Array.isArray,jT=/#/g,C$=/&/g,A$=/\//g,E$=/=/g,T$=/\?/g,KT=/\+/g,P$=/%5B/g,I$=/%5D/g,ZT=/%5E/g,R$=/%60/g,JT=/%7B/g,L$=/%7C/g,QT=/%7D/g,k$=/%20/g;function L0(t){return encodeURI(""+t).replace(L$,"|").replace(P$,"[").replace(I$,"]")}function D$(t){return L0(t).replace(JT,"{").replace(QT,"}").replace(ZT,"^")}function dg(t){return L0(t).replace(KT,"%2B").replace(k$,"+").replace(jT,"%23").replace(C$,"%26").replace(R$,"`").replace(JT,"{").replace(QT,"}").replace(ZT,"^")}function O$(t){return dg(t).replace(E$,"%3D")}function V$(t){return L0(t).replace(jT,"%23").replace(T$,"%3F")}function N$(t){return t==null?"":V$(t).replace(A$,"%2F")}function ru(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const B$=/\/$/,F$=t=>t.replace(B$,"");function Yp(t,e,n="/"){let i,r={},a="",s="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(i=e.slice(0,l),a=e.slice(l+1,o>-1?o:e.length),r=t(a)),o>-1&&(i=i||e.slice(0,o),s=e.slice(o,e.length)),i=G$(i??e,n),{fullPath:i+(a&&"?")+a+s,path:i,query:r,hash:ru(s)}}function U$(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function AS(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function z$(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&vl(e.matched[i],n.matched[r])&&eP(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function vl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function eP(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!H$(t[n],e[n]))return!1;return!0}function H$(t,e){return Ji(t)?ES(t,e):Ji(e)?ES(e,t):t===e}function ES(t,e){return Ji(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function G$(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let a=n.length-1,s,o;for(s=0;s<i.length;s++)if(o=i[s],o!==".")if(o==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+i.slice(s).join("/")}const Sa={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var au;(function(t){t.pop="pop",t.push="push"})(au||(au={}));var vc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(vc||(vc={}));function W$(t){if(!t)if(Fo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),F$(t)}const $$=/^[^#]+#/;function X$(t,e){return t.replace($$,"#")+e}function Y$(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Tm=()=>({left:window.scrollX,top:window.scrollY});function q$(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=Y$(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function TS(t,e){return(history.state?history.state.position-e:-1)+t}const fg=new Map;function j$(t,e){fg.set(t,e)}function K$(t){const e=fg.get(t);return fg.delete(t),e}let Z$=()=>location.protocol+"//"+location.host;function tP(t,e){const{pathname:n,search:i,hash:r}=e,a=t.indexOf("#");if(a>-1){let o=r.includes(t.slice(a))?t.slice(a).length:1,l=r.slice(o);return l[0]!=="/"&&(l="/"+l),AS(l,"")}return AS(n,t)+i+r}function J$(t,e,n,i){let r=[],a=[],s=null;const o=({state:f})=>{const h=tP(t,location),m=n.value,v=e.value;let p=0;if(f){if(n.value=h,e.value=f,s&&s===m){s=null;return}p=v?f.position-v.position:0}else i(h);r.forEach(g=>{g(n.value,m,{delta:p,type:au.pop,direction:p?p>0?vc.forward:vc.back:vc.unknown})})};function l(){s=n.value}function c(f){r.push(f);const h=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return a.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Dt({},f.state,{scroll:Tm()}),"")}function d(){for(const f of a)f();a=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function PS(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?Tm():null}}function Q$(t){const{history:e,location:n}=window,i={value:tP(t,n)},r={value:e.state};r.value||a(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:Z$()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function s(l,c){const u=Dt({},e.state,PS(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});a(l,u,!0),i.value=l}function o(l,c){const u=Dt({},r.value,e.state,{forward:l,scroll:Tm()});a(u.current,u,!0);const d=Dt({},PS(i.value,l,null),{position:u.position+1},c);a(l,d,!1),i.value=l}return{location:i,state:r,push:o,replace:s}}function e8(t){t=W$(t);const e=Q$(t),n=J$(t,e.state,e.location,e.replace);function i(a,s=!0){s||n.pauseListeners(),history.go(a)}const r=Dt({location:"",base:t,go:i,createHref:X$.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function t8(t){return typeof t=="string"||t&&typeof t=="object"}function nP(t){return typeof t=="string"||typeof t=="symbol"}const iP=Symbol("");var IS;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(IS||(IS={}));function gl(t,e){return Dt(new Error,{type:t,[iP]:!0},e)}function Dr(t,e){return t instanceof Error&&iP in t&&(e==null||!!(t.type&e))}const RS="[^/]+?",n8={sensitive:!1,strict:!1,start:!0,end:!0},i8=/[.+*?^${}()[\]/\\]/g;function r8(t,e){const n=Dt({},n8,e),i=[];let r=n.start?"^":"";const a=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(i8,"\\$&"),h+=40;else if(f.type===1){const{value:m,repeatable:v,optional:p,regexp:g}=f;a.push({name:m,repeatable:v,optional:p});const y=g||RS;if(y!==RS){h+=10;try{new RegExp(`(${y})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${m}" (${y}): `+x.message)}}let b=v?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(b=p&&c.length<2?`(?:/${b})`:"/"+b),p&&(b+="?"),r+=b,h+=20,p&&(h+=-8),v&&(h+=-20),y===".*"&&(h+=-50)}u.push(h)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");function o(c){const u=c.match(s),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",m=a[f-1];d[m.name]=h&&m.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:v,optional:p}=h,g=m in c?c[m]:"";if(Ji(g)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const y=Ji(g)?g.join("/"):g;if(!y)if(p)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=y}}return u||"/"}return{re:s,score:i,keys:a,parse:o,stringify:l}}function a8(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function rP(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const a=a8(i[n],r[n]);if(a)return a;n++}if(Math.abs(r.length-i.length)===1){if(LS(i))return 1;if(LS(r))return-1}return r.length-i.length}function LS(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const s8={type:0,value:""},o8=/[a-zA-Z0-9_]/;function l8(t){if(!t)return[[]];if(t==="/")return[[s8]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,i=n;const r=[];let a;function s(){a&&r.push(a),a=[]}let o=0,l,c="",u="";function d(){c&&(n===0?a.push({type:0,value:c}):n===1||n===2||n===3?(a.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),s()):l===":"?(d(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:o8.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),s(),r}function c8(t,e,n){const i=r8(l8(t.path),n),r=Dt(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function u8(t,e){const n=[],i=new Map;e=VS({strict:!1,end:!0,sensitive:!1},e);function r(d){return i.get(d)}function a(d,f,h){const m=!h,v=DS(d);v.aliasOf=h&&h.record;const p=VS(e,d),g=[v];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const E of x)g.push(DS(Dt({},v,{components:h?h.record.components:v.components,path:E,aliasOf:h?h.record:v})))}let y,b;for(const x of g){const{path:E}=x;if(f&&E[0]!=="/"){const M=f.record.path,A=M[M.length-1]==="/"?"":"/";x.path=f.record.path+(E&&A+E)}if(y=c8(x,f,p),h?h.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),m&&d.name&&!OS(y)&&s(d.name)),aP(y)&&l(y),v.children){const M=v.children;for(let A=0;A<M.length;A++)a(M[A],y,h&&h.children[A])}h=h||y}return b?()=>{s(b)}:pc}function s(d){if(nP(d)){const f=i.get(d);f&&(i.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&i.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function o(){return n}function l(d){const f=h8(d,n);n.splice(f,0,d),d.record.name&&!OS(d)&&i.set(d.record.name,d)}function c(d,f){let h,m={},v,p;if("name"in d&&d.name){if(h=i.get(d.name),!h)throw gl(1,{location:d});p=h.record.name,m=Dt(kS(f.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&kS(d.params,h.keys.map(b=>b.name))),v=h.stringify(m)}else if(d.path!=null)v=d.path,h=n.find(b=>b.re.test(v)),h&&(m=h.parse(v),p=h.record.name);else{if(h=f.name?i.get(f.name):n.find(b=>b.re.test(f.path)),!h)throw gl(1,{location:d,currentLocation:f});p=h.record.name,m=Dt({},f.params,d.params),v=h.stringify(m)}const g=[];let y=h;for(;y;)g.unshift(y.record),y=y.parent;return{name:p,path:v,params:m,matched:g,meta:f8(g)}}t.forEach(d=>a(d));function u(){n.length=0,i.clear()}return{addRoute:a,resolve:c,removeRoute:s,clearRoutes:u,getRoutes:o,getRecordMatcher:r}}function kS(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function DS(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:d8(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function d8(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function OS(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function f8(t){return t.reduce((e,n)=>Dt(e,n.meta),{})}function VS(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function h8(t,e){let n=0,i=e.length;for(;n!==i;){const a=n+i>>1;rP(t,e[a])<0?i=a:n=a+1}const r=m8(t);return r&&(i=e.lastIndexOf(r,i-1)),i}function m8(t){let e=t;for(;e=e.parent;)if(aP(e)&&rP(t,e)===0)return e}function aP({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function p8(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const a=i[r].replace(KT," "),s=a.indexOf("="),o=ru(s<0?a:a.slice(0,s)),l=s<0?null:ru(a.slice(s+1));if(o in e){let c=e[o];Ji(c)||(c=e[o]=[c]),c.push(l)}else e[o]=l}return e}function NS(t){let e="";for(let n in t){const i=t[n];if(n=O$(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ji(i)?i.map(a=>a&&dg(a)):[i&&dg(i)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+n,a!=null&&(e+="="+a))})}return e}function v8(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Ji(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const g8=Symbol(""),BS=Symbol(""),Pm=Symbol(""),k0=Symbol(""),hg=Symbol("");function jl(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ta(t,e,n,i,r,a=s=>s()){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,l)=>{const c=f=>{f===!1?l(gl(4,{from:n,to:e})):f instanceof Error?l(f):t8(f)?l(gl(2,{from:e,to:f})):(s&&i.enterCallbacks[r]===s&&typeof f=="function"&&s.push(f),o())},u=a(()=>t.call(i&&i.instances[r],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function qp(t,e,n,i,r=a=>a()){const a=[];for(const s of t)for(const o in s.components){let l=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(qT(l)){const u=(l.__vccOpts||l)[e];u&&a.push(Ta(u,n,i,s,o,r))}else{let c=l();a.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${o}" at "${s.path}"`);const d=M$(u)?u.default:u;s.mods[o]=u,s.components[o]=d;const h=(d.__vccOpts||d)[e];return h&&Ta(h,n,i,s,o,r)()}))}}return a}function FS(t){const e=nt(Pm),n=nt(k0),i=P(()=>{const l=Ot(t.to);return e.resolve(l)}),r=P(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(vl.bind(null,u));if(f>-1)return f;const h=US(l[c-2]);return c>1&&US(u)===h&&d[d.length-1].path!==h?d.findIndex(vl.bind(null,l[c-2])):f}),a=P(()=>r.value>-1&&x8(n.params,i.value.params)),s=P(()=>r.value>-1&&r.value===n.matched.length-1&&eP(n.params,i.value.params));function o(l={}){return b8(l)?e[Ot(t.replace)?"replace":"push"](Ot(t.to)).catch(pc):Promise.resolve()}return{route:i,href:P(()=>i.value.href),isActive:a,isExactActive:s,navigate:o}}const y8=nl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:FS,setup(t,{slots:e}){const n=kn(FS(t)),{options:i}=nt(Pm),r=P(()=>({[zS(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[zS(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=e.default&&e.default(n);return t.custom?a:Si("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},a)}}}),_8=y8;function b8(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function x8(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Ji(r)||r.length!==i.length||i.some((a,s)=>a!==r[s]))return!1}return!0}function US(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const zS=(t,e,n)=>t??e??n,S8=nl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=nt(hg),r=P(()=>t.route||i.value),a=nt(BS,0),s=P(()=>{let c=Ot(a);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),o=P(()=>r.value.matched[s.value]);Ct(BS,P(()=>s.value+1)),Ct(g8,o),Ct(hg,r);const l=pe();return Te(()=>[l.value,o.value,t.name],([c,u,d],[f,h,m])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!vl(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,d=o.value,f=d&&d.components[u];if(!f)return HS(n.default,{Component:f,route:c});const h=d.props[u],m=h?h===!0?c.params:typeof h=="function"?h(c):h:null,p=Si(f,Dt({},m,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return HS(n.default,{Component:p,route:c})||p}}});function HS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const w8=S8;function M8(t){const e=u8(t.routes,t),n=t.parseQuery||p8,i=t.stringifyQuery||NS,r=t.history,a=jl(),s=jl(),o=jl(),l=Ee(Sa);let c=Sa;Fo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Xp.bind(null,W=>""+W),d=Xp.bind(null,N$),f=Xp.bind(null,ru);function h(W,re){let de,_e;return nP(W)?(de=e.getRecordMatcher(W),_e=re):_e=W,e.addRoute(_e,de)}function m(W){const re=e.getRecordMatcher(W);re&&e.removeRoute(re)}function v(){return e.getRoutes().map(W=>W.record)}function p(W){return!!e.getRecordMatcher(W)}function g(W,re){if(re=Dt({},re||l.value),typeof W=="string"){const k=Yp(n,W,re.path),z=e.resolve({path:k.path},re),G=r.createHref(k.fullPath);return Dt(k,z,{params:f(z.params),hash:ru(k.hash),redirectedFrom:void 0,href:G})}let de;if(W.path!=null)de=Dt({},W,{path:Yp(n,W.path,re.path).path});else{const k=Dt({},W.params);for(const z in k)k[z]==null&&delete k[z];de=Dt({},W,{params:d(k)}),re.params=d(re.params)}const _e=e.resolve(de,re),me=W.hash||"";_e.params=u(f(_e.params));const V=U$(i,Dt({},W,{hash:D$(me),path:_e.path})),L=r.createHref(V);return Dt({fullPath:V,hash:me,query:i===NS?v8(W.query):W.query||{}},_e,{redirectedFrom:void 0,href:L})}function y(W){return typeof W=="string"?Yp(n,W,l.value.path):Dt({},W)}function b(W,re){if(c!==W)return gl(8,{from:re,to:W})}function x(W){return A(W)}function E(W){return x(Dt(y(W),{replace:!0}))}function M(W){const re=W.matched[W.matched.length-1];if(re&&re.redirect){const{redirect:de}=re;let _e=typeof de=="function"?de(W):de;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=y(_e):{path:_e},_e.params={}),Dt({query:W.query,hash:W.hash,params:_e.path!=null?{}:W.params},_e)}}function A(W,re){const de=c=g(W),_e=l.value,me=W.state,V=W.force,L=W.replace===!0,k=M(de);if(k)return A(Dt(y(k),{state:typeof k=="object"?Dt({},me,k.state):me,force:V,replace:L}),re||de);const z=de;z.redirectedFrom=re;let G;return!V&&z$(i,_e,de)&&(G=gl(16,{to:z,from:_e}),F(_e,_e,!0,!1)),(G?Promise.resolve(G):w(z,_e)).catch(K=>Dr(K)?Dr(K,2)?K:q(K):Y(K,z,_e)).then(K=>{if(K){if(Dr(K,2))return A(Dt({replace:L},y(K.to),{state:typeof K.to=="object"?Dt({},me,K.to.state):me,force:V}),re||z)}else K=I(z,_e,!0,L,me);return T(z,_e,K),K})}function C(W,re){const de=b(W,re);return de?Promise.reject(de):Promise.resolve()}function S(W){const re=Q.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(W):W()}function w(W,re){let de;const[_e,me,V]=C8(W,re);de=qp(_e.reverse(),"beforeRouteLeave",W,re);for(const k of _e)k.leaveGuards.forEach(z=>{de.push(Ta(z,W,re))});const L=C.bind(null,W,re);return de.push(L),J(de).then(()=>{de=[];for(const k of a.list())de.push(Ta(k,W,re));return de.push(L),J(de)}).then(()=>{de=qp(me,"beforeRouteUpdate",W,re);for(const k of me)k.updateGuards.forEach(z=>{de.push(Ta(z,W,re))});return de.push(L),J(de)}).then(()=>{de=[];for(const k of V)if(k.beforeEnter)if(Ji(k.beforeEnter))for(const z of k.beforeEnter)de.push(Ta(z,W,re));else de.push(Ta(k.beforeEnter,W,re));return de.push(L),J(de)}).then(()=>(W.matched.forEach(k=>k.enterCallbacks={}),de=qp(V,"beforeRouteEnter",W,re,S),de.push(L),J(de))).then(()=>{de=[];for(const k of s.list())de.push(Ta(k,W,re));return de.push(L),J(de)}).catch(k=>Dr(k,8)?k:Promise.reject(k))}function T(W,re,de){o.list().forEach(_e=>S(()=>_e(W,re,de)))}function I(W,re,de,_e,me){const V=b(W,re);if(V)return V;const L=re===Sa,k=Fo?history.state:{};de&&(_e||L?r.replace(W.fullPath,Dt({scroll:L&&k&&k.scroll},me)):r.push(W.fullPath,me)),l.value=W,F(W,re,de,L),q()}let D;function N(){D||(D=r.listen((W,re,de)=>{if(!he.listening)return;const _e=g(W),me=M(_e);if(me){A(Dt(me,{replace:!0}),_e).catch(pc);return}c=_e;const V=l.value;Fo&&j$(TS(V.fullPath,de.delta),Tm()),w(_e,V).catch(L=>Dr(L,12)?L:Dr(L,2)?(A(L.to,_e).then(k=>{Dr(k,20)&&!de.delta&&de.type===au.pop&&r.go(-1,!1)}).catch(pc),Promise.reject()):(de.delta&&r.go(-de.delta,!1),Y(L,_e,V))).then(L=>{L=L||I(_e,V,!1),L&&(de.delta&&!Dr(L,8)?r.go(-de.delta,!1):de.type===au.pop&&Dr(L,20)&&r.go(-1,!1)),T(_e,V,L)}).catch(pc)}))}let $=jl(),U=jl(),Z;function Y(W,re,de){q(W);const _e=U.list();return _e.length?_e.forEach(me=>me(W,re,de)):console.error(W),Promise.reject(W)}function j(){return Z&&l.value!==Sa?Promise.resolve():new Promise((W,re)=>{$.add([W,re])})}function q(W){return Z||(Z=!W,N(),$.list().forEach(([re,de])=>W?de(W):re()),$.reset()),W}function F(W,re,de,_e){const{scrollBehavior:me}=t;if(!Fo||!me)return Promise.resolve();const V=!de&&K$(TS(W.fullPath,0))||(_e||!de)&&history.state&&history.state.scroll||null;return vt().then(()=>me(W,re,V)).then(L=>L&&q$(L)).catch(L=>Y(L,W,re))}const se=W=>r.go(W);let Ce;const Q=new Set,he={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:p,getRoutes:v,resolve:g,options:t,push:x,replace:E,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:a.add,beforeResolve:s.add,afterEach:o.add,onError:U.add,isReady:j,install(W){const re=this;W.component("RouterLink",_8),W.component("RouterView",w8),W.config.globalProperties.$router=re,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>Ot(l)}),Fo&&!Ce&&l.value===Sa&&(Ce=!0,x(r.location).catch(me=>{}));const de={};for(const me in Sa)Object.defineProperty(de,me,{get:()=>l.value[me],enumerable:!0});W.provide(Pm,re),W.provide(k0,vw(de)),W.provide(hg,l);const _e=W.unmount;Q.add(W),W.unmount=function(){Q.delete(W),Q.size<1&&(c=Sa,D&&D(),D=null,l.value=Sa,Ce=!1,Z=!1),_e()}}};function J(W){return W.reduce((re,de)=>re.then(()=>S(de)),Promise.resolve())}return he}function C8(t,e){const n=[],i=[],r=[],a=Math.max(e.matched.length,t.matched.length);for(let s=0;s<a;s++){const o=e.matched[s];o&&(t.matched.find(c=>vl(c,o))?i.push(o):n.push(o));const l=t.matched[s];l&&(e.matched.find(c=>vl(c,l))||r.push(l))}return[n,i,r]}function A8(){return nt(Pm)}function E8(t){return nt(k0)}const Or=nl({__name:"DefaultLayout",setup(t){const e=A8(),n=E8();function i(a){e.push({name:a})}const r=[{type:"subheader",title:"Math"},{value:"gcd",title:"GCD"},{value:"crt",title:"Chinese Remainder Theorem"},{type:"divider"},{type:"subheader",title:"Encrypt"},{value:"simple",title:"Additive and Multiplicative Cipher"},{value:"affine",title:"Affine Cipher"},{value:"autokey",title:"AutoKey Cipher"},{value:"playfair",title:"Playfair Cipher"},{value:"transposition",title:"Transposition Cipher"},{type:"divider"},{type:"subheader",title:"Brute Force"},{value:"brute/simple",title:"Additive and Multiplicative"},{value:"brute/affine",title:"Affine"}].map(a=>Object.assign(a,{active:a.value==n.name}));return(a,s)=>{const o=vs("v-list"),l=vs("v-navigation-drawer"),c=vs("v-app-bar"),u=vs("v-main"),d=vs("v-layout");return il(),wc(d,null,{default:tc(()=>[_(l,{permanent:""},{default:tc(()=>[_(o,{density:"compact",nav:"","onClick:select":s[0]||(s[0]=({id:f})=>i(f)),color:"primary",items:Ot(r),style:{"text-align":"left"}},null,8,["items"])]),_:1}),_(c,{density:"compact",title:"Cryptography"}),_(u,null,{default:tc(()=>[pI(a.$slots,"default")]),_:3})]),_:3})}}}),Gi="/crypto/",T8=[{path:Gi,redirect:`${Gi}simple`},{path:`${Gi}gcd`,name:"gcd",component:()=>ar(()=>import("./GCDPage-NFYZg1R9.js"),__vite__mapDeps([0,1,2])),meta:{layout:Or}},{path:`${Gi}simple`,name:"simple",component:()=>ar(()=>import("./SimpleCipherPage-DYHObL5f.js"),__vite__mapDeps([3,4,1])),meta:{layout:Or}},{path:`${Gi}affine`,name:"affine",component:()=>ar(()=>import("./AffineCipherPage-DxF2yEJt.js"),__vite__mapDeps([5,4,1])),meta:{layout:Or}},{path:`${Gi}autokey`,name:"autokey",component:()=>ar(()=>import("./AutoKeyCipherPage-BAAkYdKP.js"),__vite__mapDeps([6,1])),meta:{layout:Or}},{path:`${Gi}playfair`,name:"playfair",component:()=>ar(()=>import("./PlayFairCipherPage-Bdf3EzCv.js"),__vite__mapDeps([7,1,8])),meta:{layout:Or}},{path:`${Gi}crt`,name:"crt",component:()=>ar(()=>import("./CRTPage-Csu1XnzR.js"),__vite__mapDeps([9,1])),meta:{layout:Or}},{path:`${Gi}transposition`,name:"transposition",component:()=>ar(()=>import("./TranspositionCipherPage-ByUXn9lh.js"),__vite__mapDeps([10,1])),meta:{layout:Or}},{path:`${Gi}brute`,name:"brute",meta:{layout:Or},children:[{path:"simple",name:"brute/simple",component:()=>ar(()=>import("./BruteForceSimple-PZDTXhLY.js"),__vite__mapDeps([11,1]))},{path:"affine",name:"brute/affine",component:()=>ar(()=>import("./BruteForceAffine-CooGdVnz.js"),__vite__mapDeps([12,1]))}]},{path:`${Gi}:catchAll(.*)*`,name:"404",meta:{layout:Or},component:()=>ar(()=>import("./404Page-BMntI5tB.js"),[])}],P8=M8({history:e8(),routes:T8}),I8=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},R8={};function L8(t,e){var i;const n=vs("router-view");return il(),wc(Fw(((i=t.$route.meta)==null?void 0:i.layout)||"div"),null,{default:tc(()=>[_(n)]),_:1})}const k8=I8(R8,[["render",L8]]),D8=r1({components:{...lB},directives:bB});OR(k8).use(P8).use(D8).use(x$).mount("#app");export{Fe as F,I8 as _,wc as a,vs as b,P as c,nl as d,aM as e,_ as f,Yr as g,XI as h,O8 as i,V8 as j,ih as n,il as o,pe as r,JS as t,Ot as u,tc as w};
